





AC Servodrive
?-V Series
USER'S MANUAL
Design and Maintenance
Rotational Motor
Analog Voltage and Pulse Train Reference
SGMJV/SGMAV/SGMGV/SGMCS Servomotors SGDV SERVOPACK

















       Outline Panel Operator
Wiring and Connection

Trial Operation

  Operation Adjustments
Utility Functions (Fn ) Monitor Modes (Un ) Fully-closed Loop Control
Troubleshooting

Appendix


MANUAL NO. SIEP S800000 45A




















































Copyright (c) 2007 YASKAWA ELECTRIC CORPORATION

All rights reserved. No part of this publication may be reproduced, stored in a retrieval system, or transmitted, in any form, or by any means, mechanical, electronic, photocopying, recording, or otherwise, without the prior written permission of Yaskawa. No patent liability is assumed with respect to the use of the information contained herein. Moreover, because Yaskawa is con- stantly striving to improve its high-quality products, the information contained in this manual is subject to change without notice. Every precaution has been taken in the preparation of this manual. Nevertheless, Yaskawa assumes no responsibility for errors or omissions. Neither is any liability assumed for damages resulting from the use of the information contained in this publication.



About this Manual

This manual describes informations required for designing, and maintaining ?-V Series SERVOPACKs. Be sure to refer to this manual and perform design and maintenance to select devices correctly.
Keep this manual in a location where it can be accessed for reference whenever required.

* Description of Technical Terms
The following table shows the meanings of terms used in this manual.

TermMeaningServomotor?-V Series SGMAV, SGMJV, SGMGV, SGMCV, or SGMCS (Direct
Drive) servomotorSERVOPACK?-V Series SGDV SERVOPACKServodriveA set including a servomotor and SERVOPACK (i.e., a servo ampli- fier)Servo SystemA servo control system that includes the combination of a servodrive with a host controller and peripheral devicesParameterA switch or numeric data for a SERVOPACKAnalog Pulse ModelAnalog voltage and pulse-train reference used for SERVOPACK inter- faceM-II ModelMECHATROLINK-II communications reference used for SERVO- PACK interface* IMPORTANT Explanations
The following icon is displayed for explanations requiring special attention.



• Indicates important information that should be memorized, as well as precautions, such as alarm displays, that do not involve potential damage to equipment.

* Notation Used in this Manual
In this manual, the names of reverse signals (ones that are valid when low) are written with a forward slash (/) before the signal name, as shown in the following example:
Example
S-ON = /S-ON



* Manuals Related to the ?-V Series
Refer to the following manuals as required.


NameSelecting Models and Peripheral Devices
 Ratings and Specifications
System Design
Panels and Wiring
  Trial OperationTrial Operation and Servo AdjustmentMaintenance and Inspection?-V Series SGM?V/SGDV
User's Manual Setup Rotational Motor
(SIEPS80000043)

?

??-V Series SGM?V/SGDV Catalog (KAEPS80000042)
?
??-V Series SGM?V/SGDV
User's Manual Operation of Digital Operator (SIEPS80000055)

?

?

??-V Series
AC SERVOPACK SGDV
Safety Precautions (TOBPC71080010)
?? Series
Digital Operator Safety Precautions (TOBPC73080000)
?AC SERVOMOTOR
Safety Precautions (TOBPC23020000)
?


* Safety Information
The following conventions are used to indicate precautions in this manual. Failure to heed precautions pro- vided in this manual can result in serious or possibly even fatal injury or damage to the products or to related equipment and systems.

Indicates precautions that, if not heeded, could possibly result in loss of life or serious injury.


Indicates precautions that, if not heeded, could result in relatively serious or minor injury, damage to the product, or faulty operation.
In some situations, the precautions indicated could have series consequences if not heeded.

Indicates prohibited actions that must not be performed. For example, this symbol would be used to indicate that fire is prohibited as follows:


Indicates compulsory actions that must be performed. For example, this symbol would be used as follows to indicate that grounding is





Safety Precautions

These safety precautions are very important. Read them before performing any procedures such as checking products on delivery, storage and transportation, installation, wiring, operation and inspection, or disposal. Be sure to always observe these precautions thoroughly.

WARNING
• Never touch any rotating motor parts while the motor is running.
Failure to observe this warning may result in injury.
• Before starting operation with a machine connected, make sure that an emergency stop can be applied at any time.
Failure to observe this warning may result in injury or damage to the product.
• Never touch the inside of the SERVOPACKs.
Failure to observe this warning may result in electric shock.
• Do not remove the cover of the power supply terminal block while the power is ON.
Failure to observe this warning may result in electric shock.
• Do not touch terminals for five minutes after the power is turned OFF.
Residual voltage may cause electric shock.
• Do not touch terminals for five minutes after a voltage resistance test.
Residual voltage in the SERVOPACK may cause electric shock. When voltage has been completely dis- charged, the CHARGE lamp will turn OFF. Be sure to check the CHARGE lamp before performing the next operation.
• Follow the procedures and instructions provided in this manual for trial operation.
Failure to do so may result not only in faulty operation and damage to equipment, but also in personal injury.
• The multi-turn output range for the ?-V Series absolute position detecting system is different from that of earlier systems (15-bit and 12-bit encoders). In particular, change the system to configure the ? series infinite-length positioning system with the ?-V Series.
• The multi-turn limit value need not be changed except for special applications.
Changing it inappropriately or unintentionally can be dangerous.
• If the Multi-turn Limit Disagreement alarm occurs, check the setting of parameter Pn205 in the SER- VOPACK to be sure that it is correct.
If Fn013 is executed when an incorrect value is set in Pn205, an incorrect value will be set in the encoder. The alarm will disappear even if an incorrect value is set, but incorrect positions will be detected, resulting in a dangerous situation where the machine will move to unexpected positions.
• Do not remove the front cover, cables, connectors, or optional items from the upper front of the SERVOPACK while the power is ON.
Failure to observe this warning may result in electric shock.
• Do not damage, press, exert excessive force on, or place heavy objects on the cables.
Failure to observe this warning may result in electric shock, stopping operation of the product, or fire.
• Provide an appropriate stopping device on the machine side to ensure safety. The holding brake on a servomotor with a brake is not a stopping device for ensuring safety.
Failure to observe this warning may result in injury.
• The person who designs a system using the safety function (Hard Wire Baseblock function) must have full knowledge of the related safety standards and full understanding of the instructions in this manual.
Failure to observe this warning may result in injury.
• Do not come close to the machine immediately after resetting a momentary power loss. The machine may restart unexpectedly. Take appropriate measures to ensure safety against an unex- pected restart.
Failure to observe this warning may result in injury.
• Connect the ground terminal according to local electrical codes (100 ? or less for a SERVOPACK with a 200 V power supply, 10 ? or less for a SERVOPACK with a 400 V power supply).
Improper grounding may result in electric shock or fire.
• Installation, disassembly, or repair must be performed only by authorized personnel.
Failure to observe this warning may result in electric shock or injury.



* Storage and Transportation

* Installation






* Wiring


CAUTION
• Do not connect a commercial power supply to the U, V, or W terminals for the servomotor connec- tion.
Failure to observe this caution may result in injury or fire.
• Securely connect the main circuit power supply terminal screws and servomotor connection termi- nal screws.
Failure to observe this caution may result in fire.
• Do not bundle or run the main circuit cables together with the input/output signal lines or the encoder cables in the same duct. Keep them separated by at least 30 cm.
Failure to do so may result in malfunction.
• Use shielded twisted-pair wires or multi-core shielded twisted-pair wires for input/output signal lines and the encoder cables.
• I/O signal cables must be no longer than 3 m, encoder cables must be no longer than 20 m.
• Do not touch the power terminals for 5 minutes after turning power OFF because high voltage may still remain in the SERVOPACK.
Make sure the charge indicator is out first before starting an inspection.
• Observe the following precautions when wiring main circuit terminal blocks.
• Do not turn ON the power to the SERVOPACK until all wiring has been completed, including the main circuit terminals.
• Remove detachable main circuit terminals from the SERVOPACK prior to wiring.
• Insert only one power line per opening in the main circuit terminals.
• Make sure that no part of the core wire comes into contact with (i.e., short-circuit) adjacent wires.
• Install a battery at either the host controller or the battery unit of the encoder, but not both.
It is dangerous to install batteries at both ends simultaneously, because that sets up a loop circuit between the batteries.
• Be sure to wire correctly and securely.
Failure to observe this caution may result in motor overrun, injury, or malfunction.
• Always use the specified power supply voltage.
An incorrect voltage may result in fire or malfunction.
• Take appropriate measures to ensure that the input power supply is supplied within the specified voltage fluctuation range. Be particularly careful in places where the power supply is unstable. An incorrect power supply may result in damage to the product.
• Install external breakers or other safety devices against short-circuiting in external wiring.
Failure to observe this caution may result in fire.
• Take appropriate and sufficient countermeasures for each form of potential interference when installing systems in the following locations.
• Locations subject to static electricity or other forms of noise
• Locations subject to strong electromagnetic fields and magnetic fields
• Locations subject to possible exposure to radioactivity
• Locations close to power supplies
Failure to observe this caution may result in damage to the product.
• Do not reverse the polarity of the battery when connecting it.
Failure to observe this caution may damage the battery, the SERVOPACK, or cause an explosion.
• Wiring or inspection must be performed by a technical expert.



* Operation

CAUTION
• Always use the servomotor and SERVOPACK in one of the specified combinations.
Failure to observe this caution so may result in fire or malfunction.
• Conduct trial operation on the servomotor alone with the motor shaft disconnected from the machine to avoid accidents.
Failure to observe this caution may result in injury.
• Before starting operation with a machine connected, change the settings to match the parameters of the machine.
Starting operation without matching the proper settings may cause the machine to run out of control or mal- function.
• Do not frequently turn power ON and OFF.
Since the SERVOPACK has a capacitor in the power supply, a high charging current flows when power is turned ON. Frequently turning power ON and OFF causes main power devices like capacitors and fuses to deteriorate, resulting in unexpected problems.
• The dynamic brake function using reverse overtravel and forward overtravel does not work during JOG operations using utility function Fn002 and origin search operations using utility function Fn003.
• When using the servomotor for a vertical axis, install safety devices to prevent workpieces from fall- ing due to alarms or overtravels. Set the servomotor so that it will stop in the zero clamp state when overtravel occurs.
Failure to observe this caution may cause workpieces to fall due to overtravel.
• When not using turning-less function, set to the correct moment of inertia ratio (Pn103).
Setting to an incorrect moment of inertia ratio may cause vibration.
• Do not touch the SERVOPACK heatsinks, regenerative resistor, or servomotor while power is ON or soon after the power is turned OFF.
Failure to observe this caution may result in burns due to high temperatures.
• Do not make any extreme adjustments or setting changes of parameters.
Failure to observe this caution may result in injury or damage to the product due to unstable operation.
• When an alarm occurs, remove the cause, reset the alarm after confirming safety, and then resume operation.
Failure to observe this caution may result in damage to the product, fire, or injury.
• Do not use the brake of the servomotor for braking.
Failure to observe this caution may result in malfunction.

* Maintenance and Inspection

* Disposal




* General Precautions




Applicable Standards


* North American Safety Standards (UL)


C	US	C	US
LISTED

ModelUL? Standards (UL File No.)SERVOPACK• SGDVUL508C (E147823)Servomotor• SGMJV
• SGMAV
• SGMGVUL1004 (E165827)?  Underwriters Laboratories Inc.

* European Standards


ModelLow Voltage DirectiveEMC DirectiveEMIEMSSERVOPACK• SGDV  EN50178 EN61800-5-1EN55011
class A group 1EN61800-3
Servomotor• SGMJV
• SGMAV
• SGMGVIEC60034-1 IEC60034-5 IEC60034-8 IEC60034-9
EN55011
class A group 1
EN61800-3?  TÜV Product Services GmbH
Note: Because SERVOPACKs and servomotors are built into machines, certification is required after installation in the final product.


Contents
About this Manual	iii
Safety Precautions	vi
Applicable Standards	xi
1.1 ?-V Series SERVOPACKs	1-2
1.2 Part Names	1-2
1.3 SERVOPACK Ratings and Specifications	1-3
1.3.1 Ratings	1-3
1.3.2 Basic Specifications	1-4
1.3.3 Speed/Position/Torque Control Modes	1-6
1.4 Examples of Servo System Configurations	1-7
1.4.1 Connecting to SGDV-???A01A SERVOPACK	1-7
1.4.2 Connecting to SGDV-???D01A SERVOPACK	1-8
1.5 SERVOPACK Model Designation	1-9
1.6 Inspection and Maintenance	1-10
2.1 Panel Operator	2-2
2.2 Display Mode Selection	2-2
2.3 Status Display Mode	2-3
2.4 Utility Function Mode (Fn??? )	2-4
2.5 Parameter Setting Mode (Pn???)	2-5
2.5.1 Parameter Setting Mode for Parameter Setting Type	2-5
2.5.2 Parameter Setting Mode for Function Selection Type	2-7
2.5.3 How to Read a Parameter Explanation	2-8
2.6 Monitor Mode (Un???)	2-10
3.1 Main Circuit Wiring	3-2
3.1.1 Names and Functions of Main Circuit Terminals	3-2
3.1.2 SERVOPACK Main Circuit Wire Size	3-3
3.1.3 Typical Main Circuit Wiring Examples	3-5
3.1.4 General Precautions for Wiring	3-6
3.1.5 Precautions When Using the SERVOPACK with a DC Power Input	3-7
3.1.6 Precautions When Using More Than One SERVOPACK	3-9
3.1.7 Precautions When Using 400 V Power Supply Voltage	3-10
3.1.8 Designing a Power ON Sequence	3-11
3.2 I/O Signal Connections	3-12
3.2.1 I/O Signal (CN1) Names and Functions	3-12
3.2.2 I/O Signal Connector (CN1) Terminal Layout	3-14
3.2.3 Safety Function Signal (CN8) Names and Functions	3-15
3.2.4 Safety Function Signal (CN8) Terminal Layout	3-15
3.2.5 Example of I/O Signal Connections in Speed Control	3-16
3.2.6 Example of I/O Signal Connections in Position Control	3-17
3.2.7 Example of I/O Signal Connections in Torque Control	3-18

3.3 I/O Signal Allocation	3-19
3.3.1 Input Circuit Signal Allocation	3-19
3.3.2 Checking Input Signals	3-22
3.3.3 Output Circuit Signal Allocation	3-22
3.3.4 Checking Output Signals	3-25
3.4 Examples of Connection to Host Controller	3-26
3.4.1 Connection Examples of Reference Input Circuits to SERVOPACK	3-26
3.4.2 Connection Examples of Sequence Input Circuits to SERVOPACK	3-28
3.4.3 Connection Examples of Output Circuits to SERVOPACK	3-29
3.5 Examples of Encoder Connection	3-32
3.5.1 Connection Example of an Encoder	3-32
3.5.2 CN2 Encoder Connector Terminal Layout	3-33
3.6 Connecting Regenerative Resistors	3-34
3.6.1 Connecting Regenerative Resistors	3-34
3.6.2 Setting Regenerative Registor Capacity	3-35
3.7 Noise Control and Measures for Harmonic Suppression	3-36
3.7.1 Wiring for Noise Control	3-36
3.7.2 Precautions on Connecting Noise Filter	3-38
3.7.3 Connecting DC Reactor for Harmonic Suppression	3-40
4.1 Inspection and Checking before Trial Operation	4-2
4.2 Trial Operation for Servomotor without Load	4-2
4.3 Aligning with Origin Search (Fn003)	4-2
4.4 Trial Operation for Servomotor without Load from Host Reference	4-4
4.4.1 Inspecting Connection and Status of Input Signal Circuits	4-6
4.4.2 Trial Operation in Speed Control	4-8
4.4.3 Trial Operation under Position Control from the Host with the SERVOPACK Used
for Speed Control	4-8
4.4.4 Trial Operation in Position Control	4-9
4.5 Trial Operation with the Servomotor Connected to the Machine	4-10
4.6 Trial Operation of Servomotor with Brakes	4-11
4.7 Test Without Motor Function	4-12
4.7.1 Limitations	4-12
4.7.2 Operating Procedure	4-13
4.7.3 Related Parameters	4-14
4.7.4 Operator Display during Testing without Motor	4-14
5.1 Control Selection	5-3
5.2 Setting Common Basic Functions	5-4
5.2.1 Servo ON Signal	5-4
5.2.2 Servomotor Rotation Direction	5-5
5.2.3 Overtravel	5-6
5.2.4 Holding Brakes	5-8
5.2.5 Stopping Method for Servomotor after Servo OFF or Alarm Occurrence.	5-13
5.2.6 Power Loss Settings	5-15
5.2.7 Torque Limit Function for Low Power Supply Voltage for Main Circuit
(SEMI-F47 Function)	5-16
5.3 Operating Using Speed Control with Analog Voltage Reference	5-17
5.3.1 Basic Settings for Speed Control	5-17
5.3.2 Reference Offset Adjustment	5-19
5.3.3 Soft Start.	5-21
5.3.4 Speed Reference Filter	5-22
5.3.5 Zero Clamp Function	5-23
5.3.6 Encoder Pulse Output	5-25

5.3.7 Encoder Pulse Output Setting	5-26
5.3.8 Speed Coincidence Signal Setting	5-27
5.4 Operating Using Position Control with Pulse Train Reference	5-28
5.4.1 Basic Settings for Position Control Mode	5-28
5.4.2 Clear Signal	5-33
5.4.3 Electronic Gear	5-34
5.4.4 Smoothing	5-36
5.4.5 Positioning Completed Output Signal	5-38
5.4.6 Positioning Near Signal	5-39
5.4.7 Reference Pulse Inhibit Function	5-40
5.5 Operating Using Torque Control with Analog Voltage Reference	5-42
5.5.1 Basic Settings for Torque Control Mode	5-42
5.5.2 Adjustment of Reference Offset	5-43
5.5.3 Speed Limit in Torque Control	5-45
5.6 Operating Using Speed Control with an Internally Set Speed	5-48
5.6.1 Basic Settings for Speed Control with an Internally Set Speed	5-48
5.6.2 Example of Operating with Internally Set Speed	5-50
5.7 Control Selection	5-52
5.7.1 Combination of Control Modes	5-52
5.7.2 Switching Internally Set Speed Control (Pn000.1 = 4, 5, or 6)	5-52
5.7.3 Switching Other Than Internally Set Speed Control
(Pn000.1 = 7, 8, 9, A, or B)	5-53
5.8 Limiting Torque	5-54
5.8.1 Internal Torque Limit	5-54
5.8.2 External Torque Limit	5-55
5.8.3 Torque Limiting Using an Analog Voltage Reference	5-56
5.8.4 Torque Limiting Using an External Torque Limit and Analog Voltage Reference	5-57
5.8.5 Checking Output Torque Limiting during Operation	5-59
5.9 Absolute Encoders	5-60
5.9.1 Encoder Resolutions	5-60
5.9.2 Standard Connection Diagram for an Absolute Encoder and Setting the SEN Signal	5-61
5.9.3 Absolute Encoder Data Backup	5-62
5.9.4 Encoder Battery Alarm (A. 830)	5-63
5.9.5 Absolute Encoder Setup	5-64
5.9.6 Absolute Encoder Reception Sequence	5-65
5.9.7 Multiturn Limit Setting	5-68
5.9.8 Multiturn Limit Disagreement Alarm (A.CC0)	5-69
5.10 Output Signals Used in All Control Modes	5-70
5.10.1 Servo Alarm Output Signal (ALM) and Alarm Code Output Signals
(ALO1, ALO2, and ALO3)	5-70
5.10.2 Warning Output Signal (/WARN)	5-71
5.10.3 Rotation Detection Output Signal (/TGON)	5-72
5.10.4 Servo Ready Output Signal (/S-RDY)	5-72
5.11 Safety Function	5-73
5.11.1 Hard Wire Base Block (HWBB) Function	5-73
5.11.2 External Device Monitor (EDM1)	5-77
5.11.3 Application Example of Safety Functions	5-79
5.11.4 Confirming Safety Functions	5-80
5.11.5 Precautions for Safety Functions	5-80
6.1 Adjustments and Basic Adjustment Procedure	6-3
6.1.1 Adjustments	6-3
6.1.2 Basic Adjustment Procedure	6-4
6.1.3 Monitoring Analog Signals	6-5
6.1.4 Safety Precautions on Adjustment of Servo Gains	6-7
6.2 Tuning-less Function (Fn200)	6-10
6.2.1 Tuning-less Function	6-10
6.2.2 Tuning-less Operating Procedure	6-11

6.3 Advanced Autotuning (Fn201)	6-15
6.3.1 Advanced Autotuning	6-15
6.3.2 Advanced Autotuning Procedure	6-19
6.3.3 Related Parameters	6-24
6.4 Advanced Autotuning by Reference (Fn202)	6-25
6.4.1 Advanced Autotuning by Reference	6-25
6.4.2 Advanced Autotuning by Reference Procedure	6-29
6.4.3 Related Parameters	6-31
6.5 One-parameter Tuning (Fn203)	6-32
6.5.1 One-parameter Tuning	6-32
6.5.2 One-parameter Tuning Procedure	6-34
6.5.3 One-parameter Tuning Example	6-38
6.5.4 Related Parameters	6-39
6.6 Anti-Resonance Control Adjustment Function (Fn204)	6-40
6.6.1 Anti-Resonance Control Adjustment Function	6-40
6.6.2 Anti-Resonance Control Adjustment Function Operating Procedure	6-41
6.6.3 Related Parameters	6-45
6.7 Vibration Suppression Function (Fn205)	6-46
6.7.1 Vibration Suppression Function	6-46
6.7.2 Vibration Suppression Function Operating Procedure	6-47
6.7.3 Related Parameters	6-49
6.8 Servo Gain Adjustment Application Function	6-50
6.8.1 Feedforward Reference	6-51
6.8.2 Torque Feedforward	6-52
6.8.3 Speed Feedforward	6-53
6.8.4 Proportional Control Operation (Proportional Operation Reference)	6-54
6.8.5 Using the Mode Switch (P/PI Switching)	6-55
6.8.6 Switching Gain Settings	6-59
6.8.7 Torque Reference Filter	6-63
6.8.8 Position Integral Time Constant	6-65
6.8.9 Friction Compensation	6-66
7.1 List of Utility Functions	7-2
7.2 Alarm History Display (Fn000)	7-4
7.3 JOG Operation (Fn002)	7-5
7.4 Origin Search (Fn003)	7-6
7.5 Program JOG Operation (Fn004)	7-8
7.6 Initializing Parameter Settings (Fn005)	7-13
7.7 Clearing Alarm History (Fn006)	7-14
7.8 Manual Zero-adjustment of Analog Monitor Output (Fn00C)	7-15
7.9 Manual Gain-adjustment of Analog Monitor Output (Fn00D)	7-17
7.10 Automatic Offset-Signal Adjustment of the Motor Current Detection
(Fn00E)	7-19
7.11 Manual Offset-Signal Adjustment of the Motor Current Detection (Fn00F) 7-20
7.12 Write Prohibited Setting (Fn010)	7-21
7.13 Servomotor Model Display (Fn011)	7-23
7.14 Software Version Display (Fn012)	7-24
7.15 Resetting Configuration Error of Option Card (Fn014)	7-25
7.16 Vibration Detection Level Initialization (Fn01B)	7-26
7.17 Display of SERVOPACK and Servomotor ID (Fn01E)	7-28
7.18 Display of Servomotor ID in Feedback Option Card (Fn01F)	7-29
7.19 EasyFFT (Fn206)	7-30
7.20 Online Vibration Monitor (Fn207)	7-34

7.21 Origin Setting (Fn020)	7-36
7.22 Software Reset (Fn030)	7-37
8.1 List of Monitor Modes	8-2
8.2 Operation in Monitor Mode	8-3
8.3 Reading 32-bit Decimal Displays	8-4
8.4 Monitoring Input Signals	8-5
8.4.1 Checking Input Signal Status	8-5
8.4.2 Interpreting Input Signal Display Status	8-5
8.4.3 Input Signal Display Example	8-6
8.5 Monitoring Output Signals	8-7
8.5.1 Checking Output Signal Status	8-7
8.5.2 Interpreting Output Signal Display Status	8-7
8.5.3 Output Signal Display Example	8-7
8.6 Monitor Display at Power ON	8-8
8.7 Monitoring I/O Signals	8-8
9.1 System Configuration and Connection Example for SERVOPACK with Fully- closed Loop Control	9-2
9.1.1 System Configuration	9-2
9.1.2 Internal Configuration of Fully-closed Loop Control	9-3
9.1.3 Serial Converter Unit	9-4
9.1.4 Analog Signal Input Timing	9-5
9.1.5 Connection Example of External Encoder by Heidenhain	9-6
9.1.6 Connection Example of External Encoder by Mitutoyo	9-7
9.1.7 Connection Example of External Encoder by Renishaw	9-8
9.1.8 Encoder Output Pulse Signals from SERVOPACK with a External Encoder by Renishaw 9-9
9.2 Related Parameters	9-10
9.2.1 Setting Order of Related Parameters	9-10
9.2.2 Speed Feedback Method during Fully-closed Loop Control	9-10
9.2.3 Motor Rotation Direction	9-10
9.2.4 Sine Wave Pitch (Frequency) for an External Encoder	9-12
9.2.5 Number of Encoder Output Pulses (PAO, PBO, and PCO) from the SERVOPACK	9-13
9.2.6 Electronic Gear	9-14
9.2.7 Alarm Detection	9-14
9.2.8 Analog Monitor Signal	9-15
10.1 Troubleshooting	10-2
10.1.1 List of Alarms	10-2
10.1.2 Troubleshooting of Alarms	10-6
10.2 Warning Displays	10-22
10.2.1 List of Warnings	10-22
10.2.2 Troubleshooting of Warnings	10-23
10.3 Troubleshooting Malfunction Based on Operation and Conditions of the Servomotor	10-25






11.1 Connection to Host Controller	11-2
11.1.1 Example of Connection to MP2200/MP2300 Motion Module SVA-01	11-2
11.1.2 Example of Connection to MP920 4-axes Analog Module SVA-01	11-3
11.1.3 Example of Connection to OMRON's Motion Control Unit	11-4
11.1.4 Example of Connection to OMRON's Position Control Unit	11-5
11.1.5 Connection to MITSUBISHI's AD72 Positioning Unit
(SERVOPACK in Speed Control Mode)	11-6
11.1.6 Connection to MITSUBISHI's AD75 Positioning Unit
(SERVOPACK in Position Control Mode)	11-7
11.2 List of Parameters	11-8
11.2.1 Utility Functions	11-8
11.2.2 Parameters	11-9
11.3 Monitor Modes	11-30
11.4 Parameter Recording Table	11-31
Revision History


1

Outline



1.1 ?-V Series SERVOPACKs	1-2
1.2 Part Names	1-2
1.3 SERVOPACK Ratings and Specifications	1-3
1.3.1 Ratings	1-3
1.3.2 Basic Specifications	1-4
1.3.3 Speed/Position/Torque Control Modes	1-6
1.4 Examples of Servo System Configurations	1-7
1.4.1 Connecting to SGDV-???A01A SERVOPACK	1-7
1.4.2 Connecting to SGDV-???D01A SERVOPACK	1-8
1.5 SERVOPACK Model Designation	1-9
1.6 Inspection and Maintenance	1-10




1.1 ?-V Series SERVOPACKs
The ?-V Series SERVOPACKs are designed for applications that require frequent high-speed, high-pre- cision positioning. The SERVOPACK makes the most of machine performance in the shortest time possi- ble, thus contributing to improving productivity.
1.2 Part Names
This section describes the part names of SGDV type SERVOPACK for analog voltage and pulse train refer- ence.


With front cover open



Panel display
Used to display SERVOPACK status, alarm status, and other values when parameters are input. Refer to 2.1 Panel Operator.


CN5 Analog monitor connector Used to monitor motor speed, torque reference, and other values through a special cable (option).



Panel operator


Panel operator keys
Used to set parameters.




Front cover Nameplate (side view)
Indicates the SERVOPACK model and ratings.
Charge indicator
Lights when the main circuit power supply is ON and stays lit as long as the internal capacitor remains charged. Therefore, do not touch the SERVOPACK even after the power supply is turned OFF if the indicator is lit.
It may result in electric shock.
Main circuit power supply terminals
Used for main circuit power supply input.
Refer to 3.1 Main Circuit Wiring.
Control power supply Terminals
Used for control power supply input.
Refer to 3.1 Main Circuit Wiring.
Regenerative
resistor connecting terminals
Connects external regenerative resistors.
Refer to 3.6 Connecting Regenerative Resistors.
DC reactor terminals for harmonic suppression
Connects DC reactor for harmonic suppression.
Refer to 3.7.3 Connecting DC Reactor for Harmonic Suppression.

Servomotor terminals
Connects the main circuit cable for servomotor.
Refer to 3.1 Main Circuit Wiring.
Ground terminal
Be sure to connect to protect against electrical shock.
Refer to 3.1 Main Circuit Wiring.





?


CN3




CN7










CN1











CN8




CN2

Input voltage


SERVOPACK model


CN3 Connector for digital operator
Connects a digital operator (option, JUSP-OP05A-1-E).
Refer to ?-V series SGM?V/SGDV Catalog
(KAEPS80000042) and
?-V series SGM?/SGDV User's Manual ,
Operation of Digital Operator (SIEPS80000055).

CN7 Connector for personal computer
Communicates with a personal computer.
Use the connection cable (JZSP-CVS06-02-E).
CN1 I/O signal connector
Used for reference input signals and sequence I/O signals.





CN8 Connector for safety function devices
Connects a safety function device.
Note: When not using the safety function, use the SERVOPACK with the safety function jumper connector (JZSP-CVH05-E, provided as an accessory) inserted. For the connecting method,



CN2 Encoder connector
Connects the encoder in the SERVOPACK.




1.3 SERVOPACK Ratings and Specifications
This section describes the ratings and specifications of SERVOPACKs.
1.3.1 Ratings
Ratings of SERVOPACKs are as shown below.
(1) 200 VAC Rating

SGDV (200 VAC)R70R901R62R83R85R5
200 VContinuous Output Current [Arms]0.660.911.62.83.85.5Max. Output Current [Arms]2.12.96.59.311.016.9
Input Power Supply
200 VMain CircuitThree-phase, 200 to 230 VAC +10%, 50/60 Hz
-15%Control CircuitSingle-phase, 200 to 230 VAC +10%, 50/60 Hz
-15%Overvoltage CategoryIII(2) 400 VAC Rating

SGDV (400 VAC)1R93R55R48R4120170
400 VContinuos Output Current [Arms]1.93.55.48.411.916.5Max. Output Current [Arms]5.58.514202842
Input Power Supply
400 VMain CircuitThree-phase, 380 to 480 VAC +10%, 50/60 Hz
-15%Control Circuit24 VDC ?15% +10%
-15%Overvoltage CategoryIII


1.3.2 Basic Specifications

1.3.2 Basic Specifications
Basic specifications of SERVOPACKs are shown below.

Control MethodSingle or three-phase full-wave rectification IGBT-PWM (sine-wave driven)FeedbackSerial encoder:
13-bit (incremental), 20-bit (incremental/absolute)






Operating ConditionsAmbient/Storage Temperature0 to +55?C/ -20 to +85?CAmbient/Storage Humidity90% RH or less (with no condensation)Vibration/Shock Resistance4.9 m/s2 / 19.8 m/s2
Protection Class/ Pollution DegreeProtection class: IP1X, Pollution degree: 2
An environment that satisfies the following conditions.
• Free of corrosive or explosive gases
• Free of exposure to water, oil or chemicals
• Free of dust, salts or iron dustAltitude1000 m or lessOthersFree of static electricity, strong electromagnetic fields, magnetic fields or exposure to radioactivityApplicable StandardsUL508C
EN50178, EN55011 group1 classA, EN61000-6-3ConfigurationBase-mounted *1





Perfor- manceSpeed Control Range1:5000
Speed Regu- lation??Load Regulation0 to 100? load: ?0.01? max. (at rated speed)Voltage RegulationRated voltage ?10?: 0? (at rated speed)Temperature Regulation25 ? 25 ?C: ?0.1? max. (at rated speed)Torque Control Tolerance (Repeatability)?1%Soft Start Time Setting0 to 10 s (Can be set individually for acceleration and deceleration.)








I/O SignalsEncoder Output PulsesPhase-A, -B, -C: line driver
Encoder output pulse: any setting ratio


Sequence InputNumber of Channels7 ch

FunctionsThe signal allocation and positive/negative logic can be modified. Servo ON (/SVON), proportional control (/P-CON), alarm reset (/ALM-RST), forward run prohibited (P-OT), reverse run prohibited (N-OT), forward torque limit (/P-CL), reverse torque limit (/N-CL), internal set speed selection (/SPD-D, /SPD-A, / SPD-B), control selection (/C-SEL), zero clamping (/ZCLAMP), reference pulse inhibit (/INHIBIT), gain selection (/G-SEL)


Sequence OutputFixed OutputServo alarm (ALM), alarm code (AL01, AL02, AL03) outputsNumber of Channels3 ch

FunctionsThe signal allocation and positive/negative logic can be modified. Positioning completion (/COIN), speed coincidence detection (/V- CMP), servomotor rotation detection (/TGON), servo ready (/S- RDY), torque limit detection (/CLT), speed limit detection (/VLT), brake interlock (/BK), warning (/WARN), near (/NEAR)








Communi- cations Function


RS422A
Communi- cationsInterfaceDigital operator (JUSP-OP05A-1-E), personal computer (can be con- nected with SigmaWin+), etc.1:N
CommunicationsN = Up to 15 stations possible at RS422AAxis Address SettingSet by parameterFunctionStatus display, parameter setting, tuning function, utility function, parameter copy functionUSB
Communi- cationsInterfacePersonal computer (can be connected with SigmaWin+.)Communications StandardComplys with standard USB1.1. (12 Mbps)FunctionStatus display, parameter setting, tuning function, utility functionLED DisplayCHARGE, five 7-segment LEDs

Analog Monitor (CN5)Number of channels: 2 ch
Output voltage: ? 10V DC (linearity effective range ? 8V) Resolution: 16 bit
Accuracy: ? 20 mV (Typ)
Max. output current: ? 10 mA Settling time (? 1%): 1.2 ms (Typ)Dynamic Brake (DB)Operated at main power OFF, servo alarm, servo OFF or overtravelRegenerative ProcessingBuilt-in or external regenerative resistor (option)Overtravel Prevention (OT)Dynamic brake stop at P-OT or N-OT, deceleration to a stop, or free run to a stopProtection FunctionOvercurrent, overvoltage, insufficient voltage, overload, regenera- tion error, and so on.Utility FunctionGain adjustment, alarm history, JOG operation, origin search, and so on.Safety FunctionInput/HWBB1, /HWBB2: Baseblock signal for power moduleOutputEDM1: Monitoring status of internal safety circuit (fixed output)Option Card Adding FunctionFully-closed Loop Interface Card
Serial communications interface for fully-closed loop control???  Rack mounting and duct-ventilated type available as an option.
???  Speed regulation is defined as follows:

Speed regulation  =  No-load motor speed - Total load motor speed


? 100%

Rated motor speed

The motor speed may change due to voltage variations or amplifier drift and changes in processing resistance due to temperature variation. The ratio of speed changes to the rated speed represent speed regulation due to voltage and temperature variations.



1.3.3 Speed/Position/Torque Control Modes

1.3.3 Speed/Position/Torque Control Modes
The following table shows the basic specifications at speed/position/torque control mode.

Control ModeSpecifications







Speed ControlPerformanceSoft Start Time Setting0 to 10 s (Can be set individually for acceleration and deceleration.)


Input Signals

Reference VoltageMax. input voltage? ?12 V (forward speed reference with positive reference)
Factory setting: ?6 VDC at rated speed Input gain setting can be varied.
?1.5 to ?30 VDC at rated speed (Input voltage range: within max. input voltage)Input ImpedanceAbout 14 k? minimumCircuit Time Constant30 ?s
Internal Set Speed ControlRotation Direction SelectionWith proportional control signalSpeed SelectionWith forward/reverse torque limit signal (speed 1 to 3 selection), servomotor stops or another control method is used when both are OFF.







Position Control

PerformanceFeedforward Compensation0 to 100? (setting resolution: 1?)Positioning Completed Width Setting0 to 1073741824 reference units (setting resolution: 1 ref- erence unit)



Input Signals


Refer- ence PulseTypeSign + pulse train, 90? phase difference 2-phase pulse (phase A + phase B), or CW + CCW pulse trainFormFor line driver, open collector
Max. Input Pulse Frequency?Sign + pulse train, CW + CCW phase train: 4 Mpps
90? phase difference 2-phase pulse ? ? multiplier: 4 Mpps 90? phase difference 2-phase pulse ? 2 multiplier: 2 Mpps 90? phase difference 2-phase pulse ? ? multiplier: 1 Mpps Open collector: 200 kppsClear SignalError pulse clear.
For line driver, open collector


Torque Control


Input Signals

Reference VoltageMax. input voltage? ?12 V (forward torque reference with positive reference)
Factory setting: ?3 VDC at rated torque Input gain setting can be varied.
?1 to ?10 VDC at rated torque (Input voltage range:
within max. input voltage)Input ImpedanceAbout 14 k? minimumCircuit Time Constant16 ?s?  When duty cycle changes from the specifications, frequency decreases.


1.4 Examples of Servo System Configurations
This section describes examples of basic servo system configuration.
1.4.1 Connecting to SGDV-???A01A SERVOPACK
Power supply
Three-phase 200 VAC
R S T
Molded-case circuit breaker (MCCB)
Protects the power supply line by shutting the
circuit OFF when overcurrent is detected.


Noise filter
Used to eliminate external noise from the power line.








Magnetic contactor
Turns the servo ON and OFF. Install a surge protector.


SGDV-???A01A SERVOPACK








Connection cable for digital operator


Connection cable
for personal computer


Digital operator




Personal computer


Host controller
I/O signal cable



Regenerative resistor *
Connect an external
regenerative resistor to terminals B1 and B2 if the regenerative capacity is insufficient.


Brake power supply
Used for a servomotor with a brake.



Magnetic contactor
Turns the brake power supply ON and OFF.
Install a surge protector.











Battery case
(when an absolute encoder is used.)







Motor main circuit cable




SGMAV/SGMJV
Servomotor




When not using the safety function, use the SERVOPACK with the safety function jumper connector
(JZSP-CVH05-E, provided as an accessory) inserted.



When using the safety function, insert a connection cable specifically for the safety function.


Safety function devices

Encoder cable






? Remove the lead wire between the terminal B2 and B3 on the SERVOPACK before connecting an external regenera- tive resistor to the SERVOPACK.



1.4.2 Connecting to SGDV-???D01A SERVOPACK

1.4.2 Connecting to SGDV-???D01A SERVOPACK

Power supply
Three-phase 400 VAC
R S T
Molded-case circuit breaker (MCCB)
Protects the power supply line by shutting the circuit OFF when overcurrent is detected.


Noise filter
Used to eliminate external noise from the power line.



Magnetic contactor
Turns the servo ON and OFF. Install a surge protector.


SGDV-???D01A SERVOPACK








Connection cable for digital operator

Connection cable
for personal computer

Digital operator




Personal computer

Host controller
I/O signal cable





Regenerative resistor ?2
Connect an external regenerative resistor to terminals B1 and B2 if the regenerative capacity is insufficient.
Brake power supply
Used for a servomotor with a brake.

Magnetic contactor
Turns the brake power supply ON and OFF.
Install a surge protector.











Battery case
(when an absolute encoder is used.)

When not using the safety function, use the SERVOPACK with the safety function jumper connector
(JZSP-CVH05-E, provided as an accessory) inserted.


When using the safety function, insert a connection cable specifically for the safety function.


Safety function devices



Motor main circuit cable

Encoder cable


SGMGV
Servomotor







???  Use a 24 VDC power supply. (Must be prepared by the user.)
??? Remove the lead wire between the terminals B2 and B3 on the SERVOPACK before connecting an external regener- ative resistor to the SERVOPACK.


1.5 SERVOPACK Model Designation
Select the SERVOPACK according to the applied servomotor.


1st + 2nd + 3rd digits

4th digit

5th + 6th digits

7th digit

8th to13th digits

SGDV  -

2R8	A	01	A



	






1.6 Inspection and Maintenance
This section describes the inspection and maintenance of SERVOPACK.
(1) SERVOPACK Inspection
For inspection and maintenance of the SERVOPACK, follow the inspection procedures in the following table at least once every year. Other routine inspections are not required.

ItemFrequencyProcedureCommentsExterior

At least once a yearCheck for dust, dirt, and oil on the surfaces.Clean with compressed air.Loose ScrewsCheck for loose terminal block and connector screws.
Tighten any loose screws.(2) SERVOPACK's Parts Replacement Schedule
The following electric or electronic parts are subject to mechanical wear or deterioration over time. To avoid failure, replace these parts at the frequency indicated.
Refer to the standard replacement period in the following table, contact your Yaskawa representative. After an examination of the part in question, we will determine whether the parts should be replaced or not.

.

PartStandard Replacement PeriodOperating ConditionsCooling Fan4 to 5 years

• Ambient Temperature: Annual average of 30?C
• Load Factor: 80% max.
• Operation Rate: 20 hours/day max.Smoothing Capacitor7 to 8 yearsRelays-Fuses10 yearsAluminum Electrolytic Capacitor on Circuit Board5 years

2

Panel Operator



2.1 Panel Operator	2-2
2.2 Display Mode Selection	2-2
2.3 Status Display Mode	2-3
2.4 Utility Function Mode (Fn??? )	2-4
2.5 Parameter Setting Mode (Pn???)	2-5
2.5.1 Parameter Setting Mode for Parameter Setting Type	2-5
2.5.2 Parameter Setting Mode for Function Selection Type	2-7
2.5.3 How to Read a Parameter Explanation	2-8
2.6 Monitor Mode (Un???)	2-10


2.1 Panel Operator
Panel operator consists of display part and keys.
Parameter setting, status display and JOG operation are enabled using the panel operator. The names and functions of the keys on the panel operator are as follows.

Keys



2.2 Display Mode Selection
Press the MODE/SET Key to select a display mode in the following order.
Power ON



Status Display Mode


Press



MODE/SET




Press


Press	at least one second.
DATA/
(DATA/SHIFT)

Fn???: Utility Function Mode
(Refer to 2.4)



Return to





Press




Press

MODE/SET







MODE/SET







MODE/SET



Press	at least one second.
DATA/
(DATA/SHIFT)


Press	at least one second.
DATA/
(DATA/SHIFT)


Pn???: Parameter Setting Mode
(Refer to 2.5)



Un???: Monitor Mode
(Refer to 2.6)


2.3 Status Display Mode
The display shows the following status.

Bit Data	Code


CodeMeaningCodeMeaning
Baseblock
Servo OFF (servomotor power OFF)
Reverse Run Prohibited
N-OT is OFF.
Run
Servo ON (servomotor power ON)
Hard Wire Base Block
The SERVOPACK is baseblocked by the safety function.








Forward Run Prohibited
P-OT is OFF.(Example: Run Status)
 Run Status

Test without Motor
Mode Test without Motor
Status display differs depending on the status of motor and SERVOPACK. Refer to 4.7 Test Without Motor Function.


Alarm
Blinks the alarm number.
DisplayMeaning
Control Power ON
Light when SERVOPACK control power is ON.
Does not light when SERVOPACK control power is OFF.
Baseblock
Light for baseblock. Does not light when servo is ON.
In speed/torque control: Speed Coincidence (/V-CMP)
Light when the difference between the servomotor speed and reference speed is the same as or less than the value set in Pn503. (Factory setting: 10 min-1)
? Always light in torque control mode.
In position control: Positioning Completion (/COIN)
Light if error between position reference and actual motor position is less than the value set in Pn522. (Fac- tory setting: 7 reference units)
Rotation Detection (/TGON)
Light if motor speed exceeds the value set in Pn502. (Factory setting: 20 min-1)
In speed/torque control mode: Speed Reference Input
Light if input speed reference exceeds the value set in Pn502. (Factory setting: 20 min-1).
In position control mode: Reference Pulse Input
Light if reference pulse is input. Does not light if no reference pulse is input.
In speed/torque control mode: Torque Reference Input
Light if input torque reference exceeds preset value (10% of the rated torque).Does not light if input torque reference is below preset value.
In position control mode: Clear Signal Input
Light when clear signal is input. Does not light when clear signal is not input.
Power Ready
Light when main power supply circuit is normal. Does not light when power is OFF.

2.4 Utility Function Mode (Fn??? )
The operation and adjustment functions of the servomotor are executed in this mode. The panel operator displays numbers beginning with Fn.

Display Example for Origin Search
An operation example in Utility Function Mode is shown below for Origin Search (Fn003).

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or the DOWN Key to select the Fn003.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond, and the display shown on the left appears.
4




MODE/SET	DATA/Press the MODE/SET Key.
The servomotor is turned to Servo ON.




5











MODE/SET	DATA/Pressing the UP Key will rotate the motor in the forward direction. Pressing the DOWN Key will rotate the motor in the reverse direction. The rotation of the servomotor changes according to the setting of Pn000.0.





Note: Direction when viewed from the load of the servo- motor.
6

Display blinks.When the servomotor origin search is completed, the dis- play blinks.
At this moment, the motor is servo-locked at the origin pulse position.
7




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. "Fn003" is displayed again.

2.5 Parameter Setting Mode (Pn???)
Parameters related to the operation and adjustment of the servomotor are set in this mode. The panel operator displays numbers beginning with Pn.

Display Example for Speed Loop Gain
There are two types of parameters. One type requires value setting (parameter setting type) and the other requires selecting the function allocated to each digit of the panel operator (function selection type).
The operation method differs between two types.
As for the operation method of parameter setting type, refer to 2.5.1. As for the operation method of function selection type, refer to 2.5.2.
2.5.1 Parameter Setting Mode for Parameter Setting Type
This section describes how to set parameters for the parameter setting type in parameter setting mode.
<Supplementary Information> Display Method for Set Values
The set values of the parameter setting type are expressed in five decimal or hexadecimal digits or more.

or 
(1) Parameters with Setting Ranges of Up to Five Digits
The example below shows how to change parameter Pn100 (speed loop gain) from "40.0" to "100.0."

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the parameter setting mode. If Pn100 is not displayed, press the UP or the DOWN Key to select Pn100.
2




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The current data of Pn100 is displayed.
3




MODE/SET	DATA/
Press the DATA/SHIFT Key to select the digit to be set.
4




MODE/SET	DATA/Press the UP or the DOWN Key to change the data.
Keep pressing the UP or the DOWN Key until "0100.0" is displayed.
5

Display blinks



MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The value blinks and is saved.
 The data for the speed loop gain (Pn100) is changed from "40.0" to "100.0."
6




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. "Pn100" is displayed again.


2.5.1 Parameter Setting Mode for Parameter Setting Type


(2) Parameters with Setting Ranges of Six Digits or More
Panel operator displays five digits. When the parameters have more than six digits, values are displayed and set as shown below.
Leftmost blinks display shows digit's position, top, middle, or bottom.
The digit's display and value means lue.



Top two digits Middle four digits Bottom four digits

Middle four digits

Bottom four digits


Decimal point
th

   hts when negative number is displayed

Procedures for display and setting of "Pn20E = 1234567890" are shown below.

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the parameter setting mode. If Pn20E is not displayed, press the UP Key or the DOWN Key to select Pn20E.


2

Bottom four digits







MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The current data of Pn20E are displayed.
The bottom four digits are displayed first, and rightmost digit's value will blink and be selected.
When move to other digits, press the DATA/SHIFT Key. Change the digit's value by pressing the UP/DOWN Key. When the DATA/SHIFT Key is pressed on fourth digit "7," middle four digits are displayed.

3Middle four digits




MODE/SET	DATA/Each time the DATA/SHIFT Key is pressed, the value from fifth digits to eighth digits are selected. Changed the digits value by pressing the UP/DOWN Key.
When the DATA/SHIFT Key is pressed on eighth digit "3," the top two digits are displayed.

4Top two digits




MODE/SET	DATA/Change the digits value by pressing the UP/DOWN Key. Press the MODE/SET Key for approximately one second. "Pn20E" is displayed again.
If the DATA/SHIFT Key is pressed when tenth value "1" is selected, the bottom four digits are displayed again.


2.5.2 Parameter Setting Mode for Function Selection Type
The parameter setting mode of the function selection type is used to select and set the function allocated to each digit displayed on the panel operator.
<Supplementary Information> Display Method for Set Values
The set values for the function selection type are expressed in hexadecimal.


(1) Changing Function Selection Parameter Settings
The example below shows how to change the setting of control method selection (Pn000.1) of the function selection basic switch Pn000 from speed control to position control.

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the parameter setting mode. If Pn000 is not displayed, press the UP or the DOWN Key to select Pn000.
2




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The current data of Pn000 is displayed.
3




MODE/SET	DATA/Press the DATA/SHIFT Key once to select the first digit of current data.
4




MODE/SET	DATA/Press the UP Key once to change "n.0010." (Set the control method to position control.)
5

Display blinks



MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The value blinks and is saved.
The control method is changed to position control.
6




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. "Pn.000" is displayed again.7To enable the change in the setting, turn OFF the power and ON again.


2.5.3 How to Read a Parameter Explanation

2.5.3 How to Read a Parameter Explanation
In this manual, each parameter is explained using the following example.
(1) Explanation Method for Parameter Setting Type
Control mode for which the parameter is available
: Speed control and internally set speed control
: Position control
: Torque control

Parameters of the function selection type are used to select and set the function allocated to each digit dis- played on the panel operator. Each digit is expressed as explained below.

Display Example for Pn000




0th digit 1st digit 2nd digit 3rd digit



(3)	Explanation Method for Tuning Parameters
Only setup parameters are displayed at shipment. To display tuning parameters, change the following parame- ter.
Application Function Selection Switch B

ParameterContentsWhen EnabledClassificationPn00Bn.???0Displays only setup parameters. (Factory setting)After restartSetupn.???1Displays all parameters. (Only user level 1)

ClassificationMeaningDisplay MethodSetting MethodSetup ParametersParameters needed for setupDisplayed with factory settingSets parameter individually.Tuning ParametersParameters needed for tuning of servo gain
Displayed by setting Pn00B.0.Can set parameter using utility function without regarding parameter number.

[Main Setup Parameters]



[Main Tuning Parameters]





2.6 Monitor Mode (Un???)
The monitor mode can be used for monitoring the reference values, I/O signal status, and SERVOPACK inter- nal status.
The panel operator display numbers beginning with Un.

Display Example for Motor Speed
The example below shows how to display the contents of monitor number Un000.

StepDisplay after OperationKeysDescription
1




MODE/SET



DATA/
Press the MODE/SET Key to select the monitor mode.
2




MODE/SET



DATA/Press the UP or the DOWN Key to select the monitor num- ber to be displayed.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second to display the data of Un000.
4




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second to return to the display of monitor number (step 1).

3

Wiring and Connection



3.1 Main Circuit Wiring	3-2
3.1.1 Names and Functions of Main Circuit Terminals	3-2
3.1.2 SERVOPACK Main Circuit Wire Size	3-3
3.1.3 Typical Main Circuit Wiring Examples	3-5
3.1.4 General Precautions for Wiring	3-6
3.1.5 Precautions When Using the SERVOPACK with a DC Power Input	3-7
3.1.6 Precautions When Using More Than One SERVOPACK	3-9
3.1.7 Precautions When Using 400 V Power Supply Voltage	3-10
3.1.8 Designing a Power ON Sequence	3-11
3.2 I/O Signal Connections	3-12
3.2.1 I/O Signal (CN1) Names and Functions	3-12
3.2.2 I/O Signal Connector (CN1) Terminal Layout	3-14
3.2.3 Safety Function Signal (CN8) Names and Functions	3-15
3.2.4 Safety Function Signal (CN8) Terminal Layout	3-15
3.2.5 Example of I/O Signal Connections in Speed Control	3-16
3.2.6 Example of I/O Signal Connections in Position Control	3-17
3.2.7 Example of I/O Signal Connections in Torque Control	3-18
3.3 I/O Signal Allocation	3-19
3.3.1 Input Circuit Signal Allocation	3-19
3.3.2 Checking Input Signals	3-22
3.3.3 Output Circuit Signal Allocation	3-22
3.3.4 Checking Output Signals	3-25
3.4 Examples of Connection to Host Controller	3-26
3.4.1 Connection Examples of Reference Input Circuits to SERVOPACK	3-26
3.4.2 Connection Examples of Sequence Input Circuits to SERVOPACK	3-28
3.4.3 Connection Examples of Output Circuits to SERVOPACK	3-29
3.5 Examples of Encoder Connection	3-32
3.5.1 Connection Example of an Encoder	3-32
3.5.2 CN2 Encoder Connector Terminal Layout	3-33
3.6 Connecting Regenerative Resistors	3-34
3.6.1 Connecting Regenerative Resistors	3-34
3.6.2 Setting Regenerative Registor Capacity	3-35
3.7 Noise Control and Measures for Harmonic Suppression	3-36
3.7.1 Wiring for Noise Control	3-36
3.7.2 Precautions on Connecting Noise Filter	3-38
3.7.3 Connecting DC Reactor for Harmonic Suppression	3-40



3.1.1 Names and Functions of Main Circuit Terminals

3.1 Main Circuit Wiring
The names, specifications, and functions of the main circuit terminals are given below.
Also this section describes the general precautions for wiring and precautions under special environments.
3.1.1 Names and Functions of Main Circuit Terminals
Names, functions and specifications are shown in the following table.


: Main terminals


Terminal SymbolsNameModel SGDV-????DescriptionR70A, R90A, 1R6A, 2R8A,Three-phase 200 to 230 V, +10%,L1, L2, L3Main circuit input terminals3R8A, 5R5A-15% (50/60 Hz)1R9D, 3R5D, 5R4D, 8R4D,Three-phase 380 to 480 V, +10%,120D, 170D-15% (50/60 Hz)R70A, R90A, 1R6A, 2R8A,Single-phase 200 to 230 V, +10%,L1C, L2CControl power input terminals3R8A, 5R5A-15% (50/60 Hz)1R9D, 3R5D, 5R4D, 8R4D,24 VDC, +10%, -15% (50/60 Hz)120D, 170D
R70A, R90A, 1R6A, 2R8AIf the regenerative capacity is insuffi- cient, connect an external regenerativeB1/  , B2, B3
or
B1, B2, B3
External regenerative resistor terminalsresistor (option) between B1/  and B2.
3R8A, 5R5A, 1R9D, 3R5D,
5R4D, 8R4D, 120D, 170DNormally short B2 and B3.
If the internal regenerative resistor is insufficient, remove the wire between B2
and B3 and connect an external regenera-tive resistor between B1/  and B2.



Terminal SymbolsNameModel SGDV-????Description

1,	2DC reactor connection terminal for power supply harmonic suppression
???A
???DNormally short  1 and  2.
If a countermeasure against power supply harmonic waves is needed, connect a DC reactor between  1 and  2.B1/  or B1Main circuit plus terminal???A
???D
Use when DC power supply input is used.or	2Main circuit minus terminal???A
???DU, V, WServomotor connection terminalsUse for connecting to the servomotor.
Ground terminals (? 2)Use for connecting the power supply ground terminal and servomotor ground terminal.3.1.2 SERVOPACK Main Circuit Wire Size
This section describes the SERVOPACK Main Circuit Wire Size.




3.1.2 SERVOPACK Main Circuit Wire Size


(1) Cable Types
Use the following type of cable for main circuit.

Cable TypeAllowable Conductor Temperature
?CSymbolNamePVCNormal vinyl cable-IV600 V vinyl cable60HIVHeat resistant vinyl cable75The following table shows the wire sizes and allowable currents for three cables. Use cables with specifications equal to or less than those shown in the table.
• 600 V Heat-resistant Vinyl Cable (HIV)


AWG SizeNominal Cross Section Diameter (mm2)Configuration (Number of
Wires/mm2)Conductive Resistance (?/km)Allowable Current at Ambient Temperature (A)30?C40?C50?C200.519/0.1839.56.65.64.5190.7530/0.1826.08.87.05.5180.937/0.1824.49.07.76.0161.2550/0.1815.612.011.08.5142.07/0.69.53232016123.57/0.85.41332924105.57/1.03.4743383188.07/1.22.41554940614.07/1.61.35797057Note: The values in the table are for reference only.
(2) Three-phase, 200 V

External Terminal NameTerminal SymbolsSERVOPACK Model SGDV-R70AR90A1R6A2R8A3R8A5R5AMain circuit power input terminalsL1, L2, L3HIV1.25HIV2.0Control power input terminalsL1C, L2CHIV1.25Servomotor connection terminalsU, V, WHIV1.25HIV2.0External regenerative resistor connection terminalsB1/  , B2HIV1.25Ground terminal
HIV2.0 or higher(3) Three-phase, 400 V

External Terminal NameTerminal SymbolsSERVOPACK Model SGDV-1R9D3R5D5R4D8R4D120D170DMain circuit power input terminalsL1, L2HIV1.25HIV2.0HIV3.5Control power input terminalsL1C, L2CHIV1.25Servomotor connection terminalsU, V, WHIV1.25HIV2.0HIV3.5External regenerative resistor connection terminalsB1/  , B2HIV1.25HIV2.0Ground terminal
HIV2.0 or higher


3.1.3 Typical Main Circuit Wiring Examples
This section describes the typical main circuit wiring examples.

* Three-phase 200 V, SGDV-R70A, -R90A, -1R6A, -2R8A, -3R8A, -5R5A



1KM

1SUP

1Ry:  Relay

1QF: Molded-case circuit breaker FIL: Noise filter
1KM: Magnetic contactor

1PL: Indicator lamp 1PRT: Surge protector 1D:	Flywheel diode 1SUP: Surge suppressor

* Three-phase 400 V, SGDV-1R9D, -3R5D, -5R4D, -8R4D, -120D, -170D



1KM

1SUP

1QF: Molded-case circuit breaker FIL: Noise filter
1KM: Magnetic contactor

1Ry:  Relay
1PL: Indicator lamp 1SUP: Surge suppressor 1D:	Flywheel diode 1PRT: Surge protector



3.1.4 General Precautions for Wiring

3.1.4 General Precautions for Wiring

To ensure safe, stable application of the servo system, observe the following precautions when wiring.
Use the connecting cables specified in the ?-V Series SGM?V/SGDV Catalog (KAEPS80000042). Design and arrange the system so that each cable will be as short as possible.
Observe the following precautions when wiring the main circuit.
• Use shielded twisted-pair wires or shielded multi-core twisted-pair wires for signal lines and encoder lines.
• The maximum wiring length is 3 m for signal lines and 50 m for encoder lines.

Observe the following precautions when wiring the ground.
• Use a cable as thick as possible (at least 2.0 mm2)
• Grounding to a resistance of 100? or less is recommended.
• Be sure to ground at only one point.
• Ground the servomotor directly if the servomotor is insulated from the machine.

The signal cable conductors are as thin as 0.2 mm or 0.3 mm. Do not impose excessive bending force or tension.



3.1.5 Precautions When Using the SERVOPACK with a DC Power Input
When using the SERVOPACK with a DC power input, set parameter Pn001.2 to 1, and pay attention to the following items.

(1) DC Power Supply Input Terminals for the Main and Control Circuits
* Three-phase, 200 V



SERVOPACK model SGDVTerminal Name and DescriptionMain circuit plus terminalMain circuit minus terminalControl power supply input terminal
270 V to 320 VDC
0 VDC270 V to 320 VDC
  (No polarity) 200 V to 230 VAC-R70A, -R90A, -1R6A,
-2R8A, -3R8A, -5R5AB1/ 2+24 V, 0 V* Three-phase, 400 V


SERVOPACK model SGDVTerminal Name and DescriptionMain circuit plus terminalMain circuit minus terminalControl power supply input terminal513 V to 648 VDC0 VDC24VDC (? 15%)-1R9D, -3R5D, -5R4D,
-8R4D,-120DB12+24 V, 0 V-170DB1/ 2+24 V, 0 V


3.1.5 Precautions When Using the SERVOPACK with a DC Power Input


(2) Wiring Example with DC Power Supply Input
* 200 V SERVOPACK SGDV-???A




1QF: Molded-case circuit breaker FIL: Noise filter
1KM: Magnetic contactor


* 400 V SERVOPACK SGDV-???D

1Ry: Relay
1PL: Indicator lamp 1SUP: Surge suppressor 1D:	Flywheel diode 1PRT: Surge protector






1QF: Molded-case circuit breaker FIL: Noise filter
1KM: Magnetic contactor

1Ry:  Relay
1PL: Indicator lamp 1SUP: Surge suppressor 1D:	Flywheel diode 1PRT: Surge protector

?	Terminal names differ from model of SERVOPACK. Refer to (1) DC Power Supply Input Terminals for the Main and Con- trol Circuits.
Note: The SERVOPACK that can use a DC power supply is not capable of processing the regenerated energy. Provide measures to process the regenerated energy on the power supply.
(3) Parameter Setting
When using a DC power supply, make sure to set the parameter Pn001.2 to "1" (DC power input supported) before inputting DC power.

ParameterMeaningWhen EnabledClassificationPn001n.?0??AC power input supportedAfter restartSetupn.?1??DC power input supported


3.1.6 Precautions When Using More Than One SERVOPACK
This section shows an example of the wiring when more than one SERVOPACK is used and the precautions.
(1) Wiring Example
Connect the alarm output (ALM) terminals for the three SERVOPACKs in series to enable alarm detection relay 1RY to operate.
When the alarm occurs, the ALM output signal transistor is turned OFF.


Power supply R S T



































(2) Precautions
Multiple servos can share a single molded-case circuit breaker (QF) or noise filter. Always select a QF or noise filter that has enough capacity for the total power capacity (load conditions) of those servos.



3.1.7 Precautions When Using 400 V Power Supply Voltage

3.1.7 Precautions When Using 400 V Power Supply Voltage
This section shows the precautions when SERVOPACK is used with 400 V power supply voltage.

(1) Voltage Conversion Transfer
When using SERVOPACK for three-phase 200 V with the three-phase 400 VAC class (380 V to 480 V), pre- pare the following voltage conversion transfers (three-phase).

Primary VoltageSecondary Voltage380 to 480 VAC200 VAC
When selecting a voltage conversion transfer, refer to the capacities shown in the following table.


Main Power SupplyMaximum Applicable Servomotor Capacity [kW]SERVOPACK
Model SGDV-Voltage Capacity per SERVOPACK [kVA]Current CapacityInrush CurrentMain Circuit [Arms]Control Circuit [Arms]Main Circuit [A0-p]Control Circuit [A0-p]


Three-phase 200 V0.05R70A0.21.0


0.2
33

700.1R90A0.31.00.21R6A0.62.00.42R8A13.0330.53R8A0.93.033330.755R5A1.66.0Note: To comply with the Low Voltage Directive, connect a UL-approved fuse or circuit breaker to the input side to pro- vide protection from short-circuits.
(2) Connection Example
The following diagram shows the connection example of voltage conversion transfer.






Three-phase 400 V



3.1.8 Designing a Power ON Sequence
Note the following points when designing the power ON sequence.
• Design the power ON sequence so that main power is turned OFF when a servo alarm signal is output.
• The ALM signal is output for five seconds max. when the power is turned ON. Take this into consideration when designing the power ON sequence. The ALM signal actuates the alarm detection relay 1Ry to stop main circuit power supply to the SERVOPACK.

Control power supply

Servo alarm (ALM) output signal
• Select the power supply specifications for the parts in accordance with the input power supply.



3.2.1 I/O Signal (CN1) Names and Functions

3.2 I/O Signal Connections
This section describes the names and functions of I/O signals (CN1). Also terminal layout and connection examples by control method are shown.
3.2.1 I/O Signal (CN1) Names and Functions
The following table shows the names and functions of I/O signals (CN1).
(1) Input Signals

Control MethodSignal NamePin No.FunctionRefer- ence Section/S-ON40Servo ON/OFF: Turns ON/OFF the servomotor.5.2.1Function selected by parameter.?Proportional control referenceSwitches the speed control loop from PI (proportional/ integral) to P (proportional) control when ON.6.8.4Direction referenceFor the internal set speed selection: Switches the rotation direction.5.6.1
/P-CON
41

Control switchingPosition ? speed
Position ? torque	Enables control switching.

5.7.3Torque ? speedZero-clamp referenceSpeed control with zero-clamp function: Reference speed is zero when ON.5.3.5Reference pulse blockPosition control with reference pulse stop: Stops reference pulse input when ON.5.4.7
CommonP-OT N-OT42
43Forward run prohibited, Reverse run prohibited
Overtravel prohibited: Stops servomotor when movable part travels beyond the allowable range of motion.
5.2.3Function selected by parameter.5.10.1
/P-CL
/N-CL
45
46Forward external torque limit ON, Reverse external torque limit ON
Torque limit function used when ON.
5.8.2
5.8.4Internal speed switchingWith internal reference speed selected: Switches the internal speed settings.5.6.1/ALM- RST44Alarm reset: Releases the servo alarm state.?
+24VIN
47Control power supply input for sequence signals: Users must provide the +24 V power supply.
3.4.2Allowable voltage fluctuation range: 11 to 25 VSEN4 (2)Initial data request signal when using an absolute encoder.5.9.2BAT (+) BAT (-)21
22Connecting pin for the absolute encoder backup battery.
Do not connect when the encoder cable for the battery case is used.3.5.1
5.9.2SpeedV-REF5 (6)Inputs speed reference. Input voltage range: ? 12 V max.5.3.1
5.5.3


PositionPULS
/ PULS SIGN
/SIGN7
8
11
12Input pulse modes: Set one of them.
• Sign + pulse string
• CCW/CW pulse
• Two-phase pulse (90? phase differential) Reference pulse input for only line driver

5.4.1CLR15Position error pulse clear: Clears position error pulse during position control.5.4.2/CLR14



Control MethodSignal NamePin No.FunctionRefer- ence SectionTorque
T-REF
9 (10)Inputs torque reference. Input voltage range: ? 12 V max.5.5.1
5.8.3
5.8.5Note 1. Pin numbers in parentheses () indicate signal grounds.
2. The functions allocated to /S-ON, /P-CON, P-OT, N-OT, /ALM-RST, /P-CL, and /N-CL input signals can be changed by using the parameters. Refer to 3.3.1 Input Circuit Signal Allocation.
(2) Output Signals

Control MethodSignal NamePin No.FunctionRefer- ence Section








CommonALM+ ALM-31
32Servo alarm: Turns OFF when an error is detected.5.10.1/TGON+
/TGON-27
28Detection during servomotor rotation: Turns ON when the servomotor is rotating at a speed higher than the motor speed setting.5.10.3/S-RDY+
/S-RDY-29
30Servo ready: ON if there is no servo alarm when the control/main circuit power supply is turned ON.5.10.4PAO
/PAO33
34Phase-A signal
Two-phase pulse encoder output pulse signals

5.3.6
5.9.6PBO
/PBO35
36Phase-B signalPCO
/PCO19
20Phase-C signalOrigin pulse signalALO1 ALO2 ALO337 (1)
38 (1)
39 (1)
Alarm code output: Outputs 3-bit alarm codes.
5.10.1FGShellConnected to frame ground if the shield wire of the I/O signal cable is connected to the connector shell.?Speed/V-CMP+
/V-CMP-25
26Turns ON when whether the motor speed is within the setting range is detected and if it matches the reference speed value.5.3.8Position/COIN+
/COIN-25
26Turns ON when the number of position error pulse reaches the value set.5.4.5






Reserved/CLT
/VLT
/BK
/WARN
/NEAR

?
Reserved terminals
The functions allocated to /TGON, /S-RDY, and /V-CMP (/COIN) can be changed by using the parameters.5.8.5
5.5.3
5.10.2
5.4.6



?3
13
16
17
18
23
24
48
49
50



Terminals not used. Do not connect.



?Note 1. Pin numbers in parentheses () indicate signal grounds.
2. The functions allocated to /TGON, /S-RDY, and /V-CMP (/COIN) output signals can be changed by using the parameters. Refer to 3.3.3 Output Circuit Signal Allocation.



3.2.2 I/O Signal Connector (CN1) Terminal Layout

3.2.2 I/O Signal Connector (CN1) Terminal Layout
The following table shows the terminal layout of I/O signal connectors (CN1).

Speed1SGGND26/V-CMP- (/COIN-)coincidence detection output
2
SG
GND
27
/TGON+
TGON signal outputPower supply3PL1for open- collector reference28/TGON-TGON signal output
4
SEN
SEN signal input
29
/S-RDY+
Servo ready output
5
V-REFSpeed reference input
30
/S-RDY-Servo ready output
6
SG
GND
31
ALM+Servo alarm output
7
PULSReference pulse input
32
ALM-Servo alarm output
8
/PULSReference pulse input
33
PAOEncoder output pulse Phase A
9
T-REFTorque reference input
34
/PAOEncoder output pulse Phase A
10
SG
GND
35
PBOEncoder output pulse Phase B
11
SIGNReference sign input
36
/PBOEncoder output pulse Phase B
12
/SIGNReference sign input
37
ALO1Alarm code outputPower supply13PL2for open- collector reference38ALO2Alarm code output
14
/CLR
Clear input
39
ALO3
Alarm code output15CLRClear input40/S-ONServo ON input16??41/P-CONP control input17??42P-OTForward run prohibit inputPower supply18PL3for open- collector reference43N-OTReverse run prohibit input
19
PCOEncoder output pulse Phase C
44
/ALM- RST
Alarm reset inputEncoderForward20/PCOoutput pulse Phase C45/P-CLexternal torque limit input
21
BAT (+)
Battery (+)
46
/N-CLReverse external torque limit input
22
BAT (-)
Battery (-)
47
+24 V IN
External input power supply23??48??24??49??Speed25/V-CMP+
(/COIN+)coincidence detection50??output
Note 1.  Do not use unused terminals.
2. Connect the shield of the I/O signal cable to the connector shell. Connect to the FG (frame ground) at the SERVOPACK connector.
3. The functions allocated to the following input and output signals can be changed by using the parameters. Refer to 3.3.1 Input Circuit Signal Allocation and 3.3.3 Output Circuit Signal Allocation.
Input signals: /S-ON, /P-CON, P-OT, N-OT, /ALM-RST, /P-CL, and /N-CL Output signals: /TGON, /S-RDY, and /V-CMP (/COIN)



3.2.3 Safety Function Signal (CN8) Names and Functions
The following table shows the names and functions of safety function signals (CN8).

Signal NamePin No.Function/HWBB1+4
Hard wire baseblock input
Baseblock (motor current off) when OFF/HWBB1-3/HWBB2+6/HWBB2-5EDM1+8Monitored circuit status output
ON when the hard wire baseblock function is normally activated.EDM1-73.2.4 Safety Function Signal (CN8) Terminal Layout
The following table shows the terminal layout of safety function signals (CN8).

Pin No.Signal NameFunction1?Unused terminal *2?Unused terminal *3/HWBB1-Hard wire baseblock input 14/HWBB1+Hard wire baseblock input 15/HWBB2-Hard wire baseblock input 26/HWBB2+Hard wire baseblock input 27EDM1+Monitored circuit status output 18EDM1-Monitored circuit status output 1?  Do not use unused terminals. (connected to the internal circuits)



3.2.5 Example of I/O Signal Connections in Speed Control

3.2.5 Example of I/O Signal Connections in Speed Control
Connection example in speed control mode is as shown below.



Speed reference (Max. input voltage range:
? 12 V)
External torque *4 limit/Torque feed forward
(Max. input voltage range:
? 12 V)



?1
V-REF	5
SG	6

T-REF	9
SG  10

SERVOPACK
?2



?2










37 ALO1
38 ALO2
39 ALO3









Alarm code output
Max. operating voltage:
30 VDC
Max. operating current:
20 mA DC


Backup battery?3 (2.8 to 4.5 V)


SEN signal input ?3







+5 V

0 V
?5

BAT(+) BAT(-)

SEN SG

21
22


4
2


3.3 k?


33 PAO
34 /PAO

35 PBO
36 /PBO

19 PCO
20 /PCO





Encoder output pulses Applicable line receiver SN75175 or MC3486
manufactured by Texas Instruments or the equivalent

+24 V	+24 VIN	47

1	 SG	



Servo ON
(Servo ON when ON)

P control
(P control when ON)

Forward run prohibited (Prohibited when OFF)

/S-ON


/P-CON


P-OT

40 (SI0)

41 (SI1)

42 (SI2)


(SO1) 25
26

(SO2) 27


/V-CMP+
Speed coincidence detection
/V-CMP- (ON when speed coincides.)

/TGON+
TGON output
(ON when the motor speed


Reverse run prohibited (Prohibited when OFF)


N-OT

43 (SI3)

28

(SO3) 29

/TGON-

/S-RDY+

exceeds the settings.)


Servo ready output

Alarm reset (Reset when ON)

Forward current limit (Limit when ON)

/ALM-RST


/P-CL

44 (SI4)

45 (SI5)
30 
/S-RDY- (ON when ready)

31 ALM+
Servo alarm output


Reverse current limit (Limit when ON)




Switch


/N-CL


/HWBB1+	4
32 
ALM-

(OFF for an alarm)
Photocoupler output Max. operating voltage: 30 VDC
Max. operating current:

24 V

Safety device ?6

0 V

fuse


/HWBB1-	3

/HWBB2+	6

/HWBB2-	5






SERVOPACK

8	EDM1+



7  EDM1-

50 mA DC

Connector shell
FG Connect shield to connector shell.


???	 represents twisted-pair wires.
???  The time constant for the primary filter is 30 ?s.
??? Connect when using an absolute encoder. When the encoder cable for the battery case is connected, do not connect a backup battery.
???  Enabled by the parameter setting.
???  Customers must purchase a 24 VDC power supply with double-shielded enclosure.
??? For servo ON, connect to safety device and set wiring to enable safety function. When not using the safety function, use the SERVOPACK with the plug (JZSP-CVH05-E, provided as an accessory) inserted into the CN8.
Note: The functions allocated to the input signals SI0 to SI6 and the output signals SO1 to SO3 can be changed by using the parameters. Refer to 3.3.1 Input Circuit Signal Allocation and 3.3.3 Output Circuit Signal Allocation.



3.2.6 Example of I/O Signal Connections in Position Control
Connection example in position control mode is as shown below.
SERVOPACK







Position reference


PULS CW
Phase A


SIGN CCW
Phase B


CLR

?1.


PULS

/PULS SIGN
/SIGN CLR






11  150?

12
15  150?






37 ALO1
38 ALO2
39 ALO3







Alarm code output Max. operating voltage: 30 VDC
Max. operating current:
20 mA DC





Backup battery ?2
2.8 to 4.5 V


+5 V
SEN signal input?2

/CLR	14








33 PAO





20	/PCO







Encoder output pulses Applicable line receiver SN75175 or MC3486
manufactured by Texas Instruments or the equivalent


1	 SG	
Servo ON

(Servo ON when O

P control
(P control when O

Forward run prohibi (Prohibited when O

(SO1) 25
26

(SO2) 27

/COIN+
/COIN-

/TGON+


Positioning completed (ON when positioning completes.)


TGON output


Reverse run prohibi (Prohibited when O

Alarm reset (Reset when O

28

(SO3) 29
30

/TGON- (ON when the motor speed exceeds the settings.)

/S-RDY+
Servo ready output
/S-RDY- (ON when ready)



Forward current li (Limit when ON)

Reverse current li (Limit when ON)






Switch







/HWBB1+	4
31 
ALM+
32 ALM-


Servo alarm output (OFF for an alarm)
Photocoupler output Max. operating voltage: 30 VDC
Max. operating current:

24 V

Safety device ?4

0 V

fuse


/HWBB1-	3

/HWBB2+	6

/HWBB2-	5






SERVOPACK

8	EDM1+ 50 mA DC



7  EDM1-

Connector shell
FG Connect shield to connector shell.


???	 represents twisted-pair wires.
??? Connect when using an absolute encoder. When the encoder cable for the battery case is connected, do not connect a backup battery.
???  Customers must purchase a 24 VDC power supply with double-shielded enclosure.
??? For servo ON, connect to safety device and set wiring to enable safety function. When not using the safety function, use the SERVOPACK with the plug (JZSP-CVH05-E, provided as an accessory) inserted into the CN8.
Note: The functions allocated to the input signals SI0 to SI6 and the output signals SO1 to SO3 can be changed by using the parameters. Refer to 3.3.1 Input Circuit Signal Allocation and 3.3.3 Output Circuit Signal Allocation.



3.2.7 Example of I/O Signal Connections in Torque Control

3.2.7 Example of I/O Signal Connections in Torque Control
Connection example in torque control mode is as shown below.



?4
External speed limit
(Max. input voltage range:
± 12 V)
Torque reference (Max. input voltage range:
± 12 V)




?1
V-REF	5
SG	6

T-REF	9
SG	10

SERVOPACK
?2



?2










37 ALO1
Alarm code output
38 ALO2  Max. operating voltage:
30 VDC
39 ALO3 Max. operating current: 20 mA DC



Backup battery ?3
2.8 to 4.5 V

BAT(+) 21
BAT(-) 22


33 PAO
34 /PAO




SEN signal input?3



+5 V

0 V
?5



SEN SG



4
2

3.3 kW
35 
PBO
36 /PBO

19 PCO
20 /PCO


Encoder output pulses Applicable line receiver SN75175 or MC3486
manufactured by Texas Instruments or the equivalent



Servo on

+24 V	+24 VIN

/S-ON

47

40 (SI0)
1 
 SG	

(Servo ON when ON)

P control
(P control when ON)

Forward run prohibited (Prohibited when OFF)



/P-CON


P-OT


41 (SI1)
42 (SI2)

(SO1) 25

26

(SO2) 27

/VLT+
/VLT-

/TGON+

Speed limit output (ON when the motor's
running speed is limited.)*4


TGON output


Reverse run prohibited (Prohibited when OFF)

Alarm reset (Reset when ON)

Forward current limit (Limit when ON)


N-OT


/ALM-RST


/P-CL

43 (SI3)

44 (SI4)

45 (SI5)

28

(SO3) 29
30

31

/TGON- (ON when the motor speed exceeds the settings.)

/S-RDY+
Servo ready output
/S-RDY- (ON when ready)

ALM+
Servo alarm output


Reverse current limit (Limit when ON)




Switch


/N-CL


/HWBB1+	4

32	ALM-




8 EDM1+

(OFF for an alarm)
Photocoupler output Max. operating voltage: 30 VDC
Max. operating output:

24 V

Safety device ?6

0 V

fuse


/HWBB1-	3

/HWBB2+	6

/HWBB2-	5






SERVOPACK





7  EDM1-

50 mA DC

Connector shell
FG Connect shield to connector shell.


???	 represents twisted-pair wires.
???  The time constant for the primary filter is 30 ?s.
??? Connect when using an absolute encoder. When the encoder cable for the battery case is connected, do not connect a backup battery.
???  Enabled by the parameter setting.
???  Customers must purchase a 24 VDC power supply with double-shielded enclosure.
??? For servo ON, connect to safety device and set wiring to enable safety function. When not using the safety function, use the SERVOPACK with the plug (JZSP-CVH05-E, provided as an accessory) inserted into the CN8.
Note: The functions allocated to the input signals SI0 to SI6 and the output signals SO1 to SO3 can be changed by using the parameters. Refer to 3.3.1 Input Circuit Signal Allocation and 3.3.3 Output Circuit Signal Allocation.


3.3 I/O Signal Allocation
This section describes the I/O signal allocation and checking method of allocated status.
3.3.1 Input Circuit Signal Allocation
Input signals can be allocated to I/O signal connectors (CN1) in accordance with the parameter setting.
(1) Factory Setting
Input signal allocation can be checked using the parameters Pn50A and Pn50B. Factory settings are as follows:

Pn50A 	Pn50B 

When the control method is changed using Pn000.1, required signals for each control method are automati- cally allocated to CN1-41 to CN1-46. See the following table.

Pn000.1
SettingControl Method SelectionCN1 Pin No.404142434445460Speed control (analog reference)










/S-ON
/P-CON










P-OT










N-OT









/ALM- RST
/P-CL
/N-CL1Position control (pulse train reference)2Torque control (analog reference)3Speed control (contact reference)


/SPD-D


/SPD-A


/SPD-B4Speed control (contact reference) ?
Speed control (analog reference)5Speed control (contact reference) ?
Position control (pulse train reference)6Speed control (contact reference) ?
Torque control (analog reference)7Position control (pulse train reference) ?
Speed control (analog reference)

/C-SEL



/P-CL



/N-CL8Position control (pulse train reference) ?
Torque control (analog reference)9Torque control (analog reference) ?
Speed control (analog reference)ASpeed control (analog reference) ? Zero clamp/ZCLAMPBPosition control (pulse train reference) ?
Position control (Inhibit)/INHIBIT(2) Changing the Allocation
Set as Pn50A.0 = 1.
Note: Allocation cannot be changed if 0 is set to Pn50A.0.



3.3.1 Input Circuit Signal Allocation


(3) Input Signal Allocation





Input signals are allocated as shown in the following table. means factory setting.


Signal Name

Validity Level

 Input Signal
CN1 Pin NumbersConnection Not required (SERVOPACK judges the connection)Parameter Setting Allocation40414243444546Always ONAlways OFFServo ON Pn50A.1 settingL/S-ON012345678HS-ON9ABCDEFProportional Operation Reference
Pn50A.2 settingL/P-CON0123456
7
8HP-CON9ABCDEFForward Run Prohibited Pn50A.3 settingHP-OT012345678L/P-OT9ABCDEFReverse Run Prohibited Pn50B.0 settingHN-OT012345678L/N-OT9ABCDEFAlarm Reset Pn50B.1 settingL/ARM-RST0123456-8HARM-RST9ABCDEFForward External Torque Limit Pn50B.2 settingL/P-CL0123456
7
8HP-CL9ABCDEFReserve External Torque Limit Pn50B.3 settingL/N-CL0123456
7
8HN-CL9ABCDEFSwitching Servomotor Rotation Direction Pn50C.0 settingL/SPD-D0123456
7
8HSPD-D9ABCDEFInternal Set Speed Selection Pn50C.1 settingL/SPD-A0123456
7
8HSPD-A9ABCDEFInternal Set Speed Selection Pn50C.2 settingL/SPD-B0123456
7
8HSPD-B9ABCDEFControl Method Selection Pn50C.3 settingL/C-SEL0123456
7
8HC-SEL9ABCDEF




Signal Name

Validity Level

 Input Signal
CN1 Pin NumbersConnection Not required (SERVOPACK judges the connection)Parameter Setting Allocation40414243444546Always ONAlways OFFZero Clamp Pn50D.0 settingL/ZCLAMP012345678HZCLAMP9ABCDEFReference Pulse Inhibit Pn50D.1 settingL/INHIBIT012345678HINHIBIT9ABCDEFGain Changeover 1 Pn50D.2 settingL/G-SEL1012345678HG-SEL19ABCDEF(4) Example of Input Signal Allocation
The procedure to replace Servo ON (/S-ON) signal mapped on CN1-40 and Forward External Torque Limit (/ P-CL) mapped on CN1-45 is shown below.

Before	After

Pn50A:


Pn50B:



StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the parameter setting mode. If a parameter other than Pn50A is displayed, press the UP or DOWN Key to set Pn50A.
2




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second to display the current data of Pn50A.
(/S-ON is mapped on CN1-40.)
3




MODE/SET	DATA/Press the UP key to set to "1."
(Sequence input signals can be freely set.)
4




MODE/SET	DATA/Press the DATA/SHIFT Key to select the second digit from the right. Press the UP key to set to "5."
(Changes the mapping of /S-ON from CN1-40 to CN1-45.)
5

Display blinks.



MODE/SET	DATA/
Press the DATA/SHIFT Key for approximately one second. The data blinks and is saved.
6




MODE/SET	DATA/
Press the DATA/SHIFT Key for approximately one second to return to the display Pn50A.
7




MODE/SET	DATA/
Press the UP key to display Pn50B.
8




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second to display the current data of Pn50B.
(/P-CL is mapped on CN1-45.)


3.3.2 Checking Input Signals


StepDisplay after OperationKeysDescription
9




MODE/SET	DATA/Press the DATA/SHIFT Key to select the third digit from the right. Press the DOWN Key to set "0."
(Changes the mapping of /P-CL from CN1-45 to CN1-40.)
10

Display blinks.



MODE/SET	DATA/
Press the DATA/SHIFT Key for approximately one second. The value blinks and is saved.
11




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second to return to the display Pn50B. /S-ON is mapped on CN1-45, and /P-CL is mapped on CN1-40.12Turn the power OFF and ON again to enable the change of input signal selections (Pn50A and Pn50B)
<Input signal polarities>
Input signal polarities are as follows when sequence input circuit is connected to a sink circuit. If connected to a source circuit, polarities are reversed. For details, refer to 3.4.2 Connection Examples of Sequence Input Circuits to SERVOPACK.

SignalLevelVoltage LevelContactONLow (L) level0 VCloseOFFHigh (H) level24 VOpen3.3.2 Checking Input Signals
Input signal status can be checked using the input signal monitor (Un005). As for the input signal monitor (Un005), refer to 8.4Monitoring Input Signals
3.3.3 Output Circuit Signal Allocation
Output signals can be allocated to I/O signal connectors (CN1) in accordance with the parameter setting.
(1) Factory Setting
Output signal allocation can be checked using the parameters Pn50E, Pn50F, Pn510 and Pn512. Factory set- tings are as follows:


Pn50E:



Pn50F:

Pn510:

Pn512:



Note: The output signals for Positioning Completion Signal and Speed Coincidence Detection Signal differ depending on the control method.



(2) Output Signal Allocation



Output signals are allocated as shown in the following table. means factory setting.

CN1 Pin No.25/(26)27/(28)29/(30)

Remark
Parameter Setting AllocationSignal Output Polarity SettingPn512.0 settingPn512.1 settingPn512.2 setting01
(Reverse)01
(Reverse)01
(Reverse)Positioning Completion (/COIN)
Pn50E.0 setting0InvalidL: Output signal is L level when the parameter is valid.
H: Output signal is H level when the parameter is valid.
Invalid: Not use the output signal.1LH2LH3LHSpeed Coincidence Detection
(/V-CMP)
Pn50E.1 setting0Invalid1LH2LH3LH
Rotation Detection (/TGON)
Pn50E.2 setting0Invalid1LH2LH3LH
Servo Ready (/S-RDY)
Pn50E.3 setting0Invalid1LH2LH3LH
Torque Limit Detection (/CLT)
Pn50F.0 setting0Invalid1LH2LH3LH
Speed Limit Detection (/VLT)
Pn50F.1 setting0Invalid1LH2LH3LH
Brake (/BK)
Pn50F.2 setting0Invalid1LH2LH3LH


3.3.3 Output Circuit Signal Allocation


CN1 Pin No.25/(26)27/(28)29/(30)

Remark
Parameter Setting AllocationSignal Output Polarity SettingPn512.0 settingPn512.1 settingPn512.2 setting01
(Reverse)01
(Reverse)01
(Reverse)
Warning (/WARN)
Pn50F.3 setting0InvalidL: Output signal is L level when the parameter is valid.
H: Output signal is H level when the parameter is valid.
Invalid: Not use the output signal.1LH2LH3LH
Near (/NEAR)
Pn510.0 setting0Invalid1LH2LH3LH(3) Example of Output Signal Allocation
The procedure to set Rotation Detection (/TGON) signal of factory setting to "Invalid" and map Brake Inter- lock (/BK) signal is shown below.

Before	After

Pn50E:


Pn50F:



StepDisplay after OperationKeysDescription
1



MODE/SET


DATA/Press the MODE/SET Key to select the parameter setting mode. If a parameter other than Pn50E is displayed, press the UP or DOWN Key to select Pn50E.
2




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second to display the current data of Pn50E.
(/TGON is mapped on CN1-27 (28).)
3




MODE/SET



DATA/Press the DATA/SHIFT Key to select the third digit from the right. Press the DOWN Key to set "0."
(Sets /TGON "Invalid.")
4

Display blinks.



MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The data blinks and is saved.
5



MODE/SET


DATA/Press the DATA/SHIFT Key for approximately one second to return to the display Pn50E.
6




MODE/SET



DATA/Press the UP Key to display Pn50F.
7




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second to display the current data of Pn50F.
(/BK is set to "Invalid.")



StepDisplay after OperationKeysDescription
8




MODE/SET	DATA/Press the DATA/SHIFT Key to select the third digit from the right. Press the UP Key to set "2."
(Allocates /BK to CN1-27 (28).)
9

Display blinks.



MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. The value blinks and is saved.
10




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second to return to the display Pn50F. /TGON is set as "Invalid" and /BK is mapped on CN1-27 (28).11Turn OFF the power and ON again to enable the changes of output signal selection (Pn50E and Pn50F).3.3.4 Checking Output Signals
Output signal status can be checked using the output signal monitor (Un006). As for the output signal monitor (Un006), refer to 8.5Monitoring Output Signals.



3.4.1 Connection Examples of Reference Input Circuits to SERVOPACK

3.4 Examples of Connection to Host Controller
This section shows examples of SERVOPACK I/O signal connection to the host controller.
3.4.1 Connection Examples of Reference Input Circuits to SERVOPACK
(1) Analog Input Circuit
CN1 connector terminals, 5-6 (speed reference input) and 9-10 (torque reference input) are explained below. Analog signals are either speed or torque reference signals at the impedance below.
• Reference speed input: About 14 k? or more
• Reference torque input: About 14 k? or more
The maximum allowable voltages for input signals is ±12 V.

Analog Voltage Input CircuitAnalog Voltage Input Circuit (D/A)



12 V
1.8 k? (1/2 W) min.
3
25HP-10B	2
2 k? 1SERVOPACK

V-REF or T-REF
SG  About 14 k?
or more

0 VSERVOPACKHost controllerV-REF orD/AT-REFSG	About 14 k?or more0 V(2) Position Reference Input Circuit
CN1 connector terminals, 7-8 (reference pulse input) and 11-12 (reference sign input) are explained below. An output circuit for the reference pulse and position error pulse clear signal at the host controller can be among line-driver or open-collector outputs. The following shows by type.

Line-driver Output CircuitHost controller		SERVOPACK 150 ?	4.7 k?
Applicable line driver SN75ALS174 or
equivalent
2.8 V ? (H level) ? (L level) ? 3.7 VOpen-collector Output, Example 1: Power Supply Provided by UserOpen-collector Output, Example 2:
Built-in 12 V Power Supply: Non-insulated line receiverHost Controller	SERVOPACK Vcc
R1
i	150 ?	4.7 k?

VF

Tr1

VF = 1.5 to 1.8 V
Use the examples below to set pull-up resistor R1 so the input current, i, falls between 7 mA and 15 mA.


Host Controller		SERVOPACK PL1,PL2,PL3 terminals
1.0 k?	+12 V

150 ?
About 9 mA



1.5 V or
less at ON	0 V


(3) Clear Input Circuit
CN1 connector terminals, 15-14: Clear input is explained below.
An output circuit for the reference pulse and position error pulse clear signal at the host controller can be either line-driver or open-collector outputs. The following shows by type.

Host controller	SERVOPACK
150 ?	1 k?

Applicable line driver SN75ALS174
or the equivalent

2.8 V ? CLR-/CLR ? 3.7 V
Input to the SERVOPACK may become unstable and may turn OFF if the voltage difference between the CLR signal and /CLR signal (|CLR-/CLR|) is less than 2.8 V.

Host controller	SERVOPACK

VF = 1.5 to 1.8 V
Use the examples below to set pull-up resistor R1 so the input current, i, falls between 7 mA and 15 mA.
Application ExamplesR1 = 2.2 k? with a Vcc of 24 V ?5%R1 = 4.7 k? with a Vcc of 12 V ?5%R1 = 180 ? with a Vcc of 5 V ?5%
(4) Safety Input Circuit
As for wiring input signals for safety function, input signals make common 0 V. It is necessary to make an input signal redundant.



24 V power supply


Fuse











0 V

Switch



/HWBB1+




/HWBB1-

/HWBB2+




/HWBB2-


SERVOPACK
4




3

6




5






3.4.2 Connection Examples of Sequence Input Circuits to SERVOPACK

3.4.2 Connection Examples of Sequence Input Circuits to SERVOPACK
CN1 connector terminals 40 to 47 are explained below.
The sequence input circuit interface connects through a relay or open-collector transistor circuit. Select a low- current relay otherwise a faulty contact will result.

Relay Circuit ExampleOpen-collector Circuit ExampleSERVOPACK
24 VDC	+24VIN 3.3 k?

/S-ON, etc.SERVOPACK
24 VDC	+24 VIN 3.3 k?

/S-ON, etc.Note: The 24 VDC external power supply capacity must be 50 mA minimum.


<Supplemental Information>
For SEN input signal circuit, refer to 5.9.2 Standard Connection Diagram for an Absolute Encoder and Setting the SEN Signal.

The SERVOPACK's I/O circuit uses bidirectional photocoupler. Select either the sink circuit or the source cir- cuit according to the specifications required for each machine.
Note: * The Connection examples in 3.2.5 to 3.2.7 show sink circuits.
• The ON/OFF polarity differs between when a sink circuit is connected and when a source circuit is connected.

Sink CircuitSource Circuit
24 V
+	?	SERVOPACK input
24 V
+	?	SERVOPACK inputInput Signal PolaritiesInput Signal PolaritiesSignalLevelVoltage LevelContactSignalLevelVoltage LevelContactONLow (L) level0 VCloseONHigh (H) level24 VCloseOFFHigh (H) level24 VOpenOFFLow (L) level0 VOpen


3.4.3 Connection Examples of Output Circuits to SERVOPACK
There are three types of SERVOPACK output circuits:
(1) Open-collector Output Circuit
CN1 connector terminals 37 to 39 (alarm code output) are explained below.
Alarm code signals (ALO1, ALO2, ALO3) are output from open-collector transistor output circuits. Connect an open-collector output circuit through a photocoupler, relay or line receiver circuit.

Photocoupler Circuit ExampleRelay Circuit Example5 to 12 VDC
SERVOPACK	Photocoupler








0 V	0 VSERVOPACK
5 to 24 VDC
Relay






0 VLine Receiver Circuit ExampleSERVOPACK	5 to 12 VDC







Note: The maximum allowable voltage and current capacities for open-collector output circuits are as follows.
• Voltage: 30 VDC
• Current: 20 mA DC
(2) Photocoupler Output Circuit
Photocoupler output circuits are used for servo alarm (ALM), servo ready (/S-RDY), and other sequence out- put signal circuits. Connect a photocoupler output circuit through a relay or line receiver circuit.

Relay Circuit ExampleLine Receiver Circuit ExampleSERVOPACK
5 to 24 VDC
Relay






0 V 
SERVOPACK
5 to 12 VDCNote: The maximum allowable voltage and current capacities for photocoupler output circuits are as follows.
• Voltage: 30 VDC
• Current: 5 to 50 mA DC



3.4.3 Connection Examples of Output Circuits to SERVOPACK


(3) Line Driver Output Circuit
CN1 connector terminals, 33-34 (phase-A signal), 35-36 (phase-B signal), and 19-20 (phase-C signal) are explained below.
Encoder serial data converted to two-phase (phases A and B) pulse output signals (PAO, /PAO, PBO, /PBO) and origin pulse signals (PCO, /PCO) are output via line-driver output circuits. Normally, the SERVOPACK uses this output circuit in speed control to comprise the position control system at the host controller. Connect the line-driver output circuit through a line receiver circuit at the host controller.

Line Receiver Circuit ExamplePhotocoupler Circuit ExampleSERVOPACK	Host Controller
Applicable line driver SN75ALS174 or the equivalent
220 to
470 ?
SERVOPACK	Host Controller



Applicable line driver SN75174 manufactured by Texas Instruments or the equivalent(4) Safety Output Circuit
External device monitor (EDM1), an output signal of safety function, is explained below. EDM1 is a function for monitoring a failure of HWBB function. Connect it to safety device as a feedback signal.
The relation between EDM1 and /HWBB1, /HWBB2 signals are explained below.

* EDM1 Signal
Detection of failures in the EDM1 circuit can be checked using the following four status of the EDM1 signal in the table. Failures can be detected if the failure status can be confirmed, e.g., when the power supply is turned ON.




(5) Connection Example and Specifications of EDM1 Output Signal
Connection example and specifications of EDM1 output signal are explained below.
* Connection Example
EDM1 output signal is used for source circuit.

* Specifications

TypeSignal NamePin No.Input StatusMeaning
Output
EDM1CN9-8 CN9-7ONBoth baseblocks by /HWBB1 signal and /HWBB2 signal normally activate.OFF?Electrical characteristics of EDM1 signal are as follows.

ItemsCharacteristicRemarksMaximum Allowable Voltage30 VDC?Maximum Current50 m ADC?Maximum Voltage Drop at ON1.0 VVoltage between EDM1+ to EDM1- at current is 50 mA.Maximum Delay Time20 msTime from change of /HWBB1, /HWBB2 to change of EDM1


3.5.1 Connection Example of an Encoder

3.5 Examples of Encoder Connection
This section describes the connection example of output signals between encoder, SERVOPACK and host controller.
CN2 encoder connector terminal layout is also described.
3.5.1 Connection Example of an Encoder
The following diagram shows the example of connecting encoder.
(1) Incremental Encoder

SERVOPACK	Host controller












V








???  The pin numbers for the connector wiring differ depending on the servomotors.

???	: represents twisted-pair wires.

???  Applicable line receiver: SN75ALS175 manufactured by Texas Instruments or MC3486, or the equivalent.



(2) Absolute Encoders

SERVOPACK	Host controller
CN1?2Line receiver ?4Phase A33PAO23Phase34/PAOR1APhase B35PBO65Phase36/PBOR7B5Phase C19PCO1011Phase
620/PCOR9C

















???  The pin numbers for the connector wiring differ depending on the servomotors.

???	: represents twisted-pair wires.

??? When using an absolute encoder, install a battery in a battery case (JZSP-BA01) of encoder cable, or install a battery on the host controller side to supply power.
???  Applicable line receiver: SN75ALS175 manufactured by Texas Instruments or MC3486, or the equivalent.

3.5.2 CN2 Encoder Connector Terminal Layout

1PG 5 VPG power supply
+5 V2PG 0 VPG power supply 0 V3BAT (+)Battery (+)
(For an absolute encoder)4BAT (-)Battery (-)
(For an absolute encoder)5PSPG serial signal input (+)6/PSPG serial signal input (-)SHELLShield-


3.6.1 Connecting Regenerative Resistors

3.6 Connecting Regenerative Resistors
This section describes how to connect the regenerative resistor and set the regenerative resistor capacity. As for precautions on selecting a regenerative resistor and its specifications, refer to ?-V series SGDV Catalog (KAEPS80000042).
3.6.1 Connecting Regenerative Resistors
The following instructions show how to connect the regenerative resistors and SERVOPACKs.
(1) SERVOPACKs: Model SGDV-R70A, -R90A, -1R6A, -2R8A
Connect an external regenerative resistor between B1/  and B2 terminals.

Enlarged View

(2) SERVOPACKs: Model SGDV-5R5A, -1R9D, -3R5D, -3R8A, -5R4D, -8R4D, -120D,
-170D
Disconnect the wiring between the SERVOPACK's B2 and B3 terminals and connect an external regenerative resistor between the B1/  and B2 terminals or between the B1 and B2 terminals.
Note: Be sure to take out the lead wire between the B2 and B3 terminals.
Enlarged View




3.6.2 Setting Regenerative Registor Capacity
When an external regenerative resistor is connected, make sure to set the regenerative resistor capacity using the parameter Pn600.


Regenerative Resistor CapacityPn600Setting RangeUnitFactory SettingWhen Enabled0 to SERVOPACK
capacity10 W0Immediately
Be sure to set this parameter when installing an external regenerative resistor to the SERVOPACK. When set to the factory setting of "0," the SERVOPACK's built-in resistor has been used.
Set the regenerative resistor capacity within tolerance value. When the set value is improper, alarm A.320 is detected.
The set value differs depending on the cooling method of external regenerative resistor:
• For natural air cooling method: Set the value maximum 20% of the actually installed regenerative resistor capacity (W).
• For forced air cooling method: Set the value maximum 50 % of the actually installed regenerative resistor capacity (W).
Example: Set 20 W (100 W ? 20% ) for the 100 W external regenerative resistor with natural cooling method: Pn600 = 2 (units: 10 W)




3.7.1 Wiring for Noise Control

3.7 Noise Control and Measures for Harmonic Suppression
This section describes the wiring for noise control and the DC reactor for harmonic suppression.
3.7.1 Wiring for Noise Control
The SERVOPACK uses high-speed switching elements in the main circuit. It may receive "switching noise" from these high-speed switching elements if wiring or grounding around the SERVOPACK is not appropriate. To prevent this, always wire and ground the SERVOPACK correctly.

To prevent malfunction due to noise, take the following actions:
• Position the input reference device and noise filter as close to the SERVOPACK as possible.
• Always install a surge suppressor in the relay, solenoid and electromagnetic contactor coils.
• The distance between a power line (servomotor main circuit cable) and a signal line must be at least 30 cm. Do not put the power and signal lines in the same duct or bundle them together.
• Do not share the power supply with an electric welder or electrical discharge machine. When the SERVO- PACK is placed near a high-frequency generator, install a noise filter on the input side of the power supply line. As for the wiring of noise filter, refer to (1) Noise Filter shown below.
• Take the grounding measures correctly. As for the grounding, refer to (2) Correct Grounding.



(1) Noise Filter
The SERVOPACK has a built-in microprocessor (CPU), so protect it from external noise as much as possible by installing a noise filter in the appropriate place.
The following is an example of wiring for noise control.






200 VAC

















??? For ground wires connected to the casing, use a thick wire with a thickness of at least 3.5 mm2 (preferably, plain stitch cooper wire).
???  should be twisted-pair wires.
??? When using a noise filter, follow the precautions in 3.7.2 Precautions on Con- necting Noise Filter.
(2) Correct Grounding
Take the following grounding measures to prevent the malfunction due to noise.
* Grounding the Motor Frame
Always connect servomotor frame terminal FG to the SERVOPACK ground terminal . Also be sure to ground the ground terminal .
If the servomotor is grounded via the machine, a switching noise current will flow from the SERVOPACK power unit through servomotor stray capacitance. The above grounding is required to prevent the adverse effects of switching noise.
* Noise on the I/O Signal Line
If the I/O signal line receives noise, ground the 0 V line (SG) of the reference input line. If the main circuit wiring for the motor is accommodated in a metal conduit, ground the conduit and its junction box. For all grounding, ground at one point only.



3.7.2 Precautions on Connecting Noise Filter

3.7.2 Precautions on Connecting Noise Filter
This section describes the precautions on installing a noise filter.
(1) Noise Filter Brake Power Supply
Use the following noise filter at the brake power input for 400 W or less servomotors with holding brakes. MODEL: FN2070-6/07 (Manufactured by SCHAFFNER Electronic.)
(2) Precautions on Using Noise Filters
Always observe the following installation and wiring instructions.
Do not put the input and output lines in the same duct or bundle them together.
Separate the noise filter ground wire from the output lines.
Do not accommodate the noise filter ground wire, output lines and other signal lines in the same duct or bundle them together.





Connect the noise filter ground wire directly to the ground plate. Do not connect the noise filter ground wire to other ground wires.


If a noise filter is located inside a control panel, connect the noise filter ground wire and the ground wires from other devices inside the control panel to the ground plate for the control panel first, then ground these wires.




3.7.3 Connecting DC Reactor for Harmonic Suppression

3.7.3 Connecting DC Reactor for Harmonic Suppression
The SERVOPACK has reactor connection terminals for power supply harmonic suppression.
As for the precautions on selecting a DC reactor and its specifications, refer to ?-V series SGM?V/SGDV Cat- alog (KAEPS80000042).
Connect a reactor as shown in the following diagram.

Three-phase input
SERVOPACK









4

Trial Operation



4.1 Inspection and Checking before Trial Operation	4-2
4.2 Trial Operation for Servomotor without Load	4-2
4.3 Aligning with Origin Search (Fn003)	4-2
4.4 Trial Operation for Servomotor without Load from Host Reference	4-4
4.4.1 Inspecting Connection and Status of Input Signal Circuits	4-6
4.4.2 Trial Operation in Speed Control	4-8
4.4.3 Trial Operation under Position Control from the Host with the SERVOPACK
Used for Speed Control	4-8
4.4.4 Trial Operation in Position Control	4-9
4.5 Trial Operation with the Servomotor Connected to the Machine	4-10
4.6 Trial Operation of Servomotor with Brakes	4-11
4.7 Test Without Motor Function	4-12
4.7.1 Limitations	4-12
4.7.2 Operating Procedure	4-13
4.7.3 Related Parameters	4-14
4.7.4 Operator Display during Testing without Motor	4-14


4.1 Inspection and Checking before Trial Operation
To ensure safe and correct trial operation, inspect and check the following items before starting trial operation.
(1) Servomotors
Inspect and check the following items, and take appropriate measures before performing trial operation if any problem exists.
• Are all wiring and connections correct?
• Are all nuts and bolts securely tightened?
• If the servomotor has an oil seal, is the seal undamaged and is the motor oiled?
Note: When performing trial operation on a servomotor that has been stored for a long period of time, perform the inspec- tion according to the procedures described in 1.6 Inspection and Maintenance.
(2) SERVOPACKs
Inspect and check the following items, and take appropriate measures before performing trial operation if any problem exists.
• Are all wiring and connections correct?
• Is the correct power supply voltage being supplied to the SERVOPACK?

4.2 Trial Operation for Servomotor without Load
For the trial operation for servomotor without load, refer to ?-V series User's Manual, Setup, Rotational Motor (SIEPS80000043).
4.3 Aligning with Origin Search (Fn003)
The origin search is designed to position the origin pulse position of the incremental encoder and to clamp at the position.
This mode is used when the motor shaft needs to be aligned to the machine. Execute the origin search without connecting the couplings.

Servomotor	Machine




For aligning the motor shaft with the machine

An origin search can be performed under the following conditions.
• S-ON is not input.
• Parameter Pn50A.1 is not set to 7.
Motor speed at the time of execution: 60 min-1





Follow the steps below to execute the origin search.

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select the Fn003.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second, and the display shown on the left appears.
4




MODE/SET	DATA/Press the MODE/SET Key.
The servomotor is turned to Servo ON.




5














MODE/SET	DATA/Pressing the UP Key will rotate the motor in the forward direction. Pressing the DOWN Key will rotate the motor in the reverse direction. The rotation of the servomotor changes according to the setting of Pn000.0.





Note: Direction when viewed from the load of the servomo- tor.
6

Display blinks.



MODE/SET	DATA/Press the UP or DOWN Key. When the servomotor origin search is completed, the display blinks.
At this moment, the motor is servo-locked at the origin pulse position.
7




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn003" is displayed again.


4.4 Trial Operation for Servomotor without Load from Host Reference
Check the following items before performing trial operation of the servomotor without load from host refer- ence.
• Check that servomotor operation reference input from the host to the SERVOPACK and I/O signals are set properly.
• Check that the wiring between the host and SERVOPACK and the polarity of the wiring are correct.
 • Check that all operation settings for the SERVOPACK are correct. Perform the trial operation using the following procedure.


Note: • If position aligning in origin search is required, refer to 4.3 Aligning with Origin Search (Fn003).
• To perform trial operation of a servomotor with a brake, refer to 4.6 Trial Operation of Servomotor with Brakes.









4.4.1 Inspecting Connection and Status of Input Signal Circuits

4.4.1 Inspecting Connection and Status of Input Signal Circuits
Check the items in step 1 before trial operation of the servomotor under speed control and position control ref- erences from the host.
Check the connection and status of input signals using the following procedure.

StepOperationReference
























1Connect the necessary input signal circuits to the I/O signal connector (CN1) under the following conditions.
• It must be possible to input servo ON input signal (/S-ON).
• The forward run prohibited (P-OT) and reverse run prohibited (N-OT) input sig- nals must be OFF (i.e., the servomotor must be able to run in forward and reverse). Settings: CN1-42 and CN1-43 must be ON or Pn50A.3 and Pn50B.0 must be set to 8.
Note: Return the settings to the previous ones after completing trial operation.
• Make sure that a 0 V or 0-pulse reference is input.




CN1




<Supplementary Information>
• If Pn002 is set to n. ? 1 ??, the absolute encoder can temporarily be used as an incremental encoder, which makes it possible to perform trial operation of the ser- vomotor without Fn008 and SEN signal settings
Connect a safety device to CN8 when using the safety function. Note:
When not using the safety function, use the SERVOPACK with the safety function jumper connector (JZSP-CVH05-E provided as an accessory) inserted in CN8. If the SERVOPACK is used without the jumper connector inserted into CN8, no current will flow to the motor and no torque will be output. In this case, "Hbb" will be dis- played on the Panel Operator or the Digital Operator.







CN1


CN8
Note:
When removing the safety function jumper connector (JZSP-CVH05-E) from CN8, remove the motor main circuit connector first, and pull out the jumper connector while pressing the lock ejector located on the side of the jumper connector toward the SERVOPACK. The jumper connector may be damaged if it is pulled out without being unlocked.


Lock ejectorRefer to the following connection diagrams.

3.2.5 Example of I/O Sig- nal Connections in Speed Control
3.2.6 Example of I/O Sig- nal Connections in Posi- tion Control
3.2.7 Example of I/O Sig- nal Connections in Torque Control






5.9.1 Encoder Resolutions2Connect the connector of the host and the I/O signal connector (CN1) together.



StepOperationReference















3Turn ON the power and make sure that the panel operator display is as shown below.


The input signal setting is not correct if the display is not the same as above. Check the input signal using the Un005 (input signal monitor) from the panel operator.

Un005 =

Check input signal wiring in monitor mode using the panel operator.
Turn ON and OFF each signal line to see if the LED monitor bit display on the digital operator changes as shown below.
Input signal LED display
P-OT	/P-CON
N-OT	/S-ON
Top lights when input
Un005 =	signal is OFF (high level). Bottom lights when input signal is ON (low level).
/ALM-RST
/P-CL
/N-CL SEN
Note:
• If an absolute encoder is being used, turn ON the SEN signal. The servo will not turn ON when only servo ON signal (/S-ON) is input.
• When the SEN signal is checked in monitor mode, the top of the LED will light because the SEN signal is high when ON.
<Supplementary Information>
Input signals can be also checked using wiring check function of SigmaWin+. For details, refer to help screen of SigmaWin+.




8.4 Monitoring Input Sig- nals
3.3.1 Input Circuit Signal Allocation


8.1 List of Monitor Modes




4Input the /S-ON signal, then make sure that the display of the panel operator is as shown below.


If an alarm display appears, correct it according to 10.1 Troubleshooting.
<Supplementary Information>
If there is noise in the reference voltage during speed control, the horizontal line (-) at the far left edge of the panel operator display may blink. Refer to 3.7.1 Wiring for Noise Control and take a preventive measure.10.1 Troubleshooting
3.7.1 Wiring for Noise Control


5This completes all preparations for trial operation. Perform trial operation in each mode.4.4.2 Trial Operation in Speed Control
4.4.3 Trial Operation under Position Control from the Host with the SERVOPACK Used for Speed Control
4.4.4 Trial Operation in Position Control


4.4.2 Trial Operation in Speed Control

4.4.2 Trial Operation in Speed Control
Perform the following steps for trial operation in speed control. The steps are specified on the condition that input signal wiring for the speed control has been completed according to 4.4.1Inspecting Connection and Status of Input Signal Circuits.

StepOperationReference
1Recheck the power supply and the input signal circuits, and turn ON the control power supply and main circuit power supply.
Check that the speed reference input (i.e., the voltage between V-REF and SG) is 0 V.3.2.5 Example of I/O Sig- nal Connections in Speed Control
2Turn ON the servo ON (/S-ON) input signal.
Note: If the servomotor rotates at a minute speed with the speed reference input at 0 V, adjust the reference offset so that the servomotor will not rotate.5.3.2 Reference Offset Adjustment
3Gradually increase the voltage of the speed reference input (i.e., the voltage between V-REF and SG) from 0 V.
<Supplementary Information>
The factory setting is for 6 V at the rated speed.4Check the speed reference value in monitor mode (Un001).8.1 List of Monitor Modes5Check the motor speed in monitor mode (Un000).8.1 List of Monitor Modes6Check that the values in step 4 and step 5 (Un001 and Un000) are equal to each other.

7Change the voltage of the speed reference input and check that Un001 and Un000 have the same value.
<Supplementary Information>
If the values of Un001 and Un000 are not the same, adjust the speed reference input gain (Pn300).
5.3.1 Basic Settings for Speed Control
8Check the motor rotation direction.
<Supplementary Information>
To switch the motor rotation direction without changing the polarity of the analog speed reference, refer to 5.2.2 Servomotor Rotation Direction
5.2.2 Servomotor Rota- tion Direction9Return the speed reference input to 0 V.10Turn OFF the servo to complete trial operation in speed control.4.4.3 Trial Operation under Position Control from the Host with the SERVOPACK Used for Speed Control
To operate the SERVOPACK in speed control under the position control from the host, check the operation of the servomotor after finishing the trial operation explained in 4.4.2 Trial Operation in Speed Control.

StepOperationReference1Turn ON the control power supply and main circuit power supply.
2Turn ON the servo ON (/S-ON) input signal.
Note: If the servomotor rotates at a minute speed with the speed reference input at 0 V, adjust the reference offset so that the servomotor will not rotate.5.3.2 Reference Offset Adjustment


3To check the speed of the servomotor, execute a constant speed reference through the host. Check the speed of the servomotor using the motor speed monitor (Un000).
Example: Visually check that the servomotor rotates once per second with a speed reference of 60 min-1.
If the speed of the servomotor is not correct, check the followings.
• The speed reference input gain (Pn300) is set properly.
• Apply forward and reverse rotation references, and check the rotation directions.
4.4.2 Trial Operation in Speed Control
5.2.2 Servomotor Rota- tion Direction


4To check the rotation of the servomotor, execute a simple positioning reference through the host.
Input a reference equivalent to a single rotation of the servomotor and visually check with the motor rotation angle monitor (Un003 pulses) that the motor axis rotates once.
If the servomotor rotation is not correct, check the followings.
• The number of dividing pulses set in Pn212 is correct.
• Apply forward and reverse rotation references, and check the rotation directions.

5.3.7 Encoder Pulse Out- put Setting
5.2.2 Servomotor Rota- tion Direction5Return the speed reference input to 0V.6Turn OFF the servo to complete trial operation.


4.4.4 Trial Operation in Position Control
Perform the following steps for trial operation in position control. The steps are specified on the condition that input signal wiring for the position control has been completed according to 4.4.1 Inspecting Connection and Status of Input Signal Circuits.

StepOperationReference
1Set the reference pulse form according to the output pulse form of the host pulse ref- erence device.
Set the reference pulse form with Pn200.0.5.4.1 Basic Settings for Position Control Mode2Set the reference unit, and then set the electronic gear ratio according to the host. The electronic gear ratio is set in Pn20E and Pn210.5.4.3 Electronic Gear3Turn ON the control power supply and main circuit power supply to the SERVO- PACK.4Input /S-ON to turn ON the servo.
5Output a low-speed pulse reference for an easy-to-check number of rotations (e.g., one rotation) from the host.
Note: To ensure safe, set the reference pulse speed so that the motor speed will be around 100 min-1.
6Check the number of reference pulses input to the SERVOPACK from the changes in the input reference pulse counter before and after the reference.
The input reference pulse counter can be checked with Un00C.
7Check the actual number of motor rotations from the changes of the feedback pulse counter before and after the reference.
The feedback pulse counter can be checked with Un00D.8Check that step 6 and step 7 satisfy the following formula. Un00D = Un00C ? (Pn20E/Pn210)
9Check that the servomotor is rotating in the direction specified by the reference.
<Supplementary Information>
To switch the motor rotation direction without changing the polarity of the analog speed reference, refer to 5.2.2 Servomotor Rotation Direction
5.2.2 Servomotor Rota- tion Direction
10Input a pulse reference for a comparatively large number of motor rotations from the host so that the motor will rotate at a constant speed.
Note: To ensure safe, set the reference pulse speed so that the motor speed will be around 100 min-1.



11Check the reference pulse speed input to the SERVOPACK from the input reference pulse speed (min-1).
The input reference pulse speed can be checked with Un007.
<Supplementary Information>
Obtain Un007 from the following formula (if the model uses a 20-bit encoder).
Un007(input reference pulse speed)?input reference pulse?pulses/S?? 60 ?  Pn20E  ? 	1	
Pn210	220(131072)
Reference input ppm	Electronic	Encoder
gear ratio	pulse12Check the motor speed (min-1).
The motor speed can be checked with Un000.13Check that the values in step 11 and step 12 (Un007 and Un000) are equal to each other.14Stop the pulse reference and turn OFF the servo. This completes trial operation.



4.5 Trial Operation with the Servomotor Connected to the Machine
Perform the following steps for trial operation when the servomotor is connected to the machine. The steps are specified on the condition that trial operation has been completed in each control.



StepOperationReference




1Turn ON the control power and main circuit power and make the settings for mechanical configuration related to protective function such as safety function, over- travel and brake.
Note:
• When not using the safety function, use the SERVOPACK with the safety function jumper connector (JZSP-CVH05-E provided as an accessory) inserted. If the SERVOPACK is used without the jumper connector inserted into CN8, no
current will flow to the motor and no torque will be output. In this case, "Hbb" will be displayed on the Panel Operator or the Digital Operator.
• When a servomotor with brake is used, take advance measures to prevent vibration due to gravity acting on the machine or external forces before checking the brake operation. Check that both servomotor and brake operations are correct.



5.11 Safety Function
5.2.3 Overtravel
5.2.4 Holding Brakes


2Set the necessary parameters for control mode.5.3 Operating Using Speed Control with Ana- log Voltage Reference
5.4 Operating Using Position Control with Pulse Train Reference
5.5 Operating Using Torque Control with Ana- log Voltage Reference








3Connect the servomotor to the machine with coupling, etc., while the power is turned OFF.




To power
supply	CN1

To host controller


Secure the motor flange to the machine, and install it on the load shaft.



StepOperationReference

4Check that the SERVOPACK is servo OFF status and then turn ON the power to the machine (host controller). Check again that the protective function in step 1 operates normally.
Note: For steps 4 to 8, take advance measures for emergency stop so that the servo- motor can stop safely when an error occurs during operation.5.2.5 Stopping Method for Servomotor after Servo OFF or Alarm Occur- rence

5Perform trial operation with the servomotor connected to the machine, following each section in 4.4 Trial Operation for Servomotor without Load from Host Refer- ence.
Check that the trial operation is completed with as the trial operation for servomotor without load. Also check the settings for machine such as reference unit.
4.4 Trial Operation for Servomotor without Load from Host Reference6Check the settings of parameters for control used set in step 2 again.
Check that the servomotor rotates matching the machine operating specifications.

7Adjust the servo gain and improve the servomotor response characteristics, if neces- sary.
Note: The servomotor will not be broken in completely during the trial operation. Therefore, let the system run for a sufficient amount of additional time to ensure that it is properly broken in.

6 Adjustments

8Write the parameters set for maintenance in Appendix D Parameter Recording Table. Then the trial operation with the servomotor connected to the machine is completed.
<Supplementary Information>
If the JUSP-OP05A digital operator is used, parameters can be saved. SigmaWin+, which is a tool for supporting the servodrive, can then manage the saved parameters in files.
4.6 Trial Operation of Servomotor with Brakes
Observe the following precautions when performing a trial operation of servomotor with brake.
• When checking the brake operation, take advance measures to prevent vibration due to gravity acting on the machine or external forces.
• Check the servomotor operation and holding brake operation with the servomotor separated from the machine. If both operations are correct, connect the servomotor and perform trial operation.
Holding brake operation of the servomotor with brake can be controlled the brake interlock output (/BK) sig- nal of the SERVOPACK.
For wiring on a servomotor with brakes, and setting parameters, refer to 5.2.4 Holding Brakes



4.7.1 Limitations

4.7 Test Without Motor Function
The test without motor function is used to check the operation of the host and peripheral devices by simulating the operation of the motor in the SERVOPACK, i.e., without actually operating the motor. This function enables checking wiring and verifying the system and parameters when errors occur while debugging the system, thus shortening the time required for setup work and preventing damage to the equipment that may result from possible malfunctions. The operation of the motor can be checked during performing this function regardless of whether the motor is actually connected or not.
Note: Neither the rotation direction of the motor nor the moving direction of the load can be checked with this function.
Check them with the motor connected.

4.7.1 Limitations
The following functions cannot be used during the test without motor.
• Regeneration and dynamic brake operation
• Brake output signal (The brake output signal can be checked with the I/O signal monitor function of the Sig- maWin+.)
• Items marked with "X" in the utility function table on the next page.

The following utility functions can be used during the test without motor.



Fn No.

Contents  Can be used or notMotor not connect
-edMotor connect
-edFn000Alarm traceback data display??Fn002JOG operation??Fn003Origin search??Fn004Program JOG operation??Fn005Initialize parameter settings??Fn006Clear alarm traceback data??Fn008Absolute encoder multi-turn reset and encoder alarm reset??Fn009Automatic tuning of analog (speed, torque) reference offset??Fn00AManual servo tuning of speed reference offset??Fn00BManual servo tuning of torque reference offset??Fn00CManual zero-adjustment of analog monitor output??Fn00DManual gain-adjustment of analog monitor output??Fn00EAutomatic offset-adjustment of motor current detection signal??Fn00FManual offset-adjustment of motor current detection signal??Fn010Write prohibited setting??Fn011Check servomotor models??Fn012Software version display??Fn013Multi-turn limit value setting change when a Multi-turn Limit Disagreement alarm occurs??Fn014Reset configuration error of option card??Fn01BInitialize vibration detection level??Fn01ESERVOPACK and servomotor ID display??Fn01FDisplay of servomotor ID for feedback option??Fn200Tuning-less level setting??Fn201Advanced autotuning??





Fn No.

Contents  Can be used or notMotor not connect
-ed Motor connect
-edFn202Advanced autotuning by reference??Fn203One-parameter tuning??Fn204Anti-resonance control adjustment function??Fn205Vibration suppression function??Fn206EasyFFT??Fn207Online vibration monitor??Fn020Origin setting??Fn030Software reset??Fn080Polarity Detection??* : can be used
? : cannot be used

4.7.2 Operating Procedure
Follow the steps below to execute the test without motor using panel operator.

StepDisplay after OperationKeysDescription
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select the Pn00C.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The current data of Pn00C is displayed.

4






MODE/SET





DATA/To enable the test without motor, press the UP Key to change the setting from n.???0 (factory setting) to n.???1.
n.???0: Test without motor disabled. n.???1: Test without motor enabled.
5

(Display blinks)




MODE/SET




DATA/Press the MODE/SET Key for approximately one sec- ond. The display began to blink and the test without motor is enabled.
6




MODE/SET



DATA/Press the DATA/SHIFT Key once to select the first digit of the data.
7




MODE/SET



DATA/Press the UP or DOWN Key to select the encoder resolu- tion.
n.??0? : 13 bit (factory setting) n.??1? : 20 bit
8

(Display blinks)




MODE/SET




DATA/Press the MODE/SET Key for approximately one sec- ond. The display began to blink and the encoder resolu- tion is set to 20 bit.
9




MODE/SET



DATA/Press the DATA/SHIFT Key once to select the second digit of the data.


4.7.3 Related Parameters


StepDisplay after OperationKeysDescription
10




MODE/SET	DATA/Press the UP or DOWN Key to select the encoder type. n.??0? : incremental encoder (factory setting) n.??1? : absolute encoder
11




MODE/SET	DATA/Press the MODE/SET Key for approximately one sec- ond. The display began to blink and the incremental encoder is selected.12To enable the change in the setting, turn OFF the power and ON again.4.7.3 Related Parameters
The following parameters are used for the test without motor.
(1) Application Function Select Switch C

ParameterMeaning When EnabledClassification



Pn00Cn.???0Disables the test without motor. (factory setting)



After restart



Setupn.???1Enables the test without motor.n.??0?Sets 13 bits as encoder resolution for the test without motor. (factory setting)n.??1?Sets 20 bits as encoder resolution for the test without motor.n.?0??Sets incremental encoder as encoder type for the test without motor. (factory setting)n.?1??Sets absolute encoder as encoder type for the test without motor.(2) Moment of Inertia Ratio


Pn103Moment of Inertia Ratio	Speed	Position	TorqueSetting RangeSetting UnitFactory SettingWhen EnabledClassification0 to 20000%0ImmediatelyTuning4.7.4 Operator Display during Testing without Motor
The status display changes as shown below to show that the test without motor is in progress.
(1) Display on Panel Operator
* The test without motor operation is indicated with tSt.

Displayed alternately

DisplayStatusrun ? tStPower is supplied to the motor.bb ? tStPower to the motor is OFF.P-dt ? tStThe polarity is being detected.Pot ? not ? tStForward or reverse rotation is prohibited.Pot ? tStDriving in the forward direction is prohibited.not ? tStDriving in the reverse direction is prohibited.Hbb ? tStIn hard-wire base block (safety) state.



The test without motor status is not displayed in the following status.

DisplayStatusA.???Alarm occurs.AdJ (Blinks)Executing advanced autotuning (Fn201).no_oP
(Blinks one second)Utility function disabled.Error
(Blinks one second)Error occurs during executing the utility function.done
(Blinks one second)Utility function executed correctly.End
(Blinks one second)Program JOG operation executed correctly.(2) Display on Digital Operator
* mark is displayed before status display to indicate the test without motor operation is in progress.

? B B ? P R M / M O N ?U n 0 0 0 = 0 0 0 0 0 U n 0 0 2 = 0 0 0 0 0 U n 0 0 8 = 0 0 0 0 0 0 0 0 0 0 U n 0 0 D =0 0 0 0 0 0 0 0 0 0 
(Example: Status of power to the motor is OFF)

DisplayStatus*RUNPower is supplied to the motor.*BBPower to the motor is OFF.*P DETThe polarity is being detected.*PT NTForward or reverse rotation is prohibited.*P-OTDriving in the forward direction is prohibited.*N-OTDriving in the reverse direction is prohibited.*HBBIn hard-wire base block (safety) state.The test without motor status is not displayed in the following status.

DisplayStatusA.???Alarm occurs.AdJ (Blinks)Executing advanced autotuning (Fn201).NO_OP
(Blinks one second)Utility function disabled.ERROR
(Blinks one second)Error occurs during executing the utility function.doNE
(Blinks one second)Utility function executed correctly.END
(Blinks one second)Program JOG operation executed correctly.

5

Operation



5.1 Control Selection	5-3
5.2 Setting Common Basic Functions	5-4
5.2.1 Servo ON Signal	5-4
5.2.2 Servomotor Rotation Direction	5-5
5.2.3 Overtravel	5-6
5.2.4 Holding Brakes	5-8
5.2.5 Stopping Method for Servomotor after Servo OFF or Alarm Occurrence	5-13
5.2.6 Power Loss Settings	5-15
5.2.7 Torque Limit Function for Low Power Supply Voltage for Main Circuit
(SEMI-F47 Function)	5-16
5.3 Operating Using Speed Control with Analog Voltage Reference	5-17
5.3.1 Basic Settings for Speed Control	5-17
5.3.2 Reference Offset Adjustment	5-19
5.3.3 Soft Start	5-21
5.3.4 Speed Reference Filter	5-22
5.3.5 Zero Clamp Function	5-23
5.3.6 Encoder Pulse Output	5-25
5.3.7 Encoder Pulse Output Setting	5-26
5.3.8 Speed Coincidence Signal Setting	5-27
5.4 Operating Using Position Control with Pulse Train Reference	5-28
5.4.1 Basic Settings for Position Control Mode	5-28
5.4.2 Clear Signal	5-33
5.4.3 Electronic Gear	5-34
5.4.4 Smoothing	5-36
5.4.5 Positioning Completed Output Signal	5-38
5.4.6 Positioning Near Signal	5-39
5.4.7 Reference Pulse Inhibit Function	5-40
5.5 Operating Using Torque Control with Analog Voltage Reference	5-42
5.5.1 Basic Settings for Torque Control Mode	5-42
5.5.2 Adjustment of Reference Offset	5-43
5.5.3 Speed Limit in Torque Control	5-45
5.6 Operating Using Speed Control with an Internally Set Speed	5-48
5.6.1 Basic Settings for Speed Control with an Internally Set Speed	5-48
5.6.2 Example of Operating with Internally Set Speed	5-50

5.7 Control Selection	5-52
5.7.1 Combination of Control Modes	5-52
5.7.2 Switching Internally Set Speed Control (Pn000.1 = 4, 5, or 6)	5-52
5.7.3 Switching Other Than Internally Set Speed Control (Pn000.1 = 7, 8, 9, A, or B)	5-53
5.8 Limiting Torque	5-54
5.8.1 Internal Torque Limit	5-54
5.8.2 External Torque Limit	5-55
5.8.3 Torque Limiting Using an Analog Voltage Reference	5-56
5.8.4 Torque Limiting Using an External Torque Limit and Analog Voltage Reference	5-57
5.8.5 Checking Output Torque Limiting during Operation	5-59
5.9 Absolute Encoders	5-60
5.9.1 Encoder Resolutions	5-60
5.9.2 Standard Connection Diagram for an Absolute Encoder and Setting the SEN Signal 5-61
5.9.3 Absolute Encoder Data Backup	5-62
5.9.4 Encoder Battery Alarm (A. 830)	5-63
5.9.5 Absolute Encoder Setup	5-64
5.9.6 Absolute Encoder Reception Sequence	5-65
5.9.7 Multiturn Limit Setting	5-68
5.9.8 Multiturn Limit Disagreement Alarm (A.CC0)	5-69
5.10 Output Signals Used in All Control Modes	5-70
5.10.1 Servo Alarm Output Signal (ALM) and Alarm Code Output Signals
(ALO1, ALO2, and ALO3)	5-70
5.10.2 Warning Output Signal (/WARN)	5-71
5.10.3 Rotation Detection Output Signal (/TGON)	5-72
5.10.4 Servo Ready Output Signal (/S-RDY)	5-72
5.11 Safety Function	5-73
5.11.1 Hard Wire Base Block (HWBB) Function	5-73
5.11.2 External Device Monitor (EDM1)	5-77
5.11.3 Application Example of Safety Functions	5-79
5.11.4 Confirming Safety Functions	5-80
5.11.5 Precautions for Safety Functions	5-80

5.1 Control Selection
The controls supported by the SGDV SERVOPACK are described below. Control can be selected with parameter Pn000.
Control SelectionPn.000ControlDescriptionReference Section
n.??0? (Factory setting)
Speed Control (Analog voltage reference)Controls servomotor speed by means of an analog voltage speed reference. Use in the following instances.
• To control speed
• For position control using the encoder pulse output from the
SERVOPACK to form a position loop in the host controller.5.3 Operating Using Speed Control with Analog Volt- age Reference

n.??1?
Position Control (Pulse train reference)Controls the position of the machine by means of a pulse train position reference.
Controls the position with the number of input pulses, and con- trols the speed with the input pulse frequency. Use when posi- tioning is required.5.4 Operating Using Posi- tion Control with Pulse Train Refer-
ence
n.??2?
Torque Control (Analog voltage refer- ence)
Controls the servomotor's output torque by means of an analog voltage torque reference. Use to output the required amount of torque for operations such as pressing.5.5 Operating Using Torque Control with Analog Volt- age Reference

n.??3?
Speed Control (Internally set speed selection)Uses the three input signals /P-CON (/SPD-D), /P-CL (/SPD-A), and /N-CL (/SPD-B) to control the speed as set in advance in the SERVOPACK. Three operating speeds can be set in the SER- VOPACK.
<Supplementary Information>
When selecting this control, an analog reference is not necessary.5.6 Operating Using Speed Control with an Internally
Set Speedn.??4?
?
?
?
n.??B?

Control Switching
These are switching modes for using the four controls described above in combination. Select the control switching mode that best suits the application.

5.7 Control Selection


5.2.1 Servo ON Signal

5.2 Setting Common Basic Functions
5.2.1 Servo ON Signal
This sets the servo ON signal (/S-ON) that determines whether the servomotor power is ON or OFF.
(1) Signal Setting

TypeName Connector Pin NumberSettingMeaning
Input
/S-ON
CN1-40
[Factory setting]ONServomotor power ON. Servomotor can be operated.OFFServomotor power OFF. Servomotor cannot be operated.A parameter can be used to re-allocate the input connector number for the /S-ON signal. Refer to 3.3.1 Input Circuit Signal Allocation.


(2) Servo ON Condition Constantly
Parameter Pn50A can be used to enable the Servo ON condition constantly.

ParameterMeaningWhen EnabledClassification
Pn50An.??0?Inputs the /S-ON signal from the input terminal CN1-
40. [Factory setting]
After restart
Setupn.??7?Constantly enables the /S-ON signal.



5.2.2 Servomotor Rotation Direction
The servomotor rotation direction can be reversed with parameter Pn000.
This causes the travel direction (+, -) of the shaft reverse, but the encoder pulse output and analog monitor sig- nal polarity do not change.
By selecting the rotation direction with this parameter, the polarity of the reference can be adjusted to the rota- tion direction without changing the polarity of reference pulses and reference voltage to the SERVOPACK.
?  The standard setting for "forward rotation" is counterclockwise as viewed from the drive end.

ParameterMeaning













Pn000




n.???0 Standard setting (CCW = Forward) (Factory setting)* Forward Reference
Analog monitor
torque reference Encoder output pulse
PAO
Forward		PBO	Phase B advanced (CCW)	Rotation speed
* Reverse Reference
Analog monitor
torque	Encoder output pulse
reference
PAO	Phase A advanced
Reverse	PBO
(CW)	Rotation speed




n.???1
Reverse Rotation Mode (CW = Forward)* Forward Reference
Analog monitor
torque reference Encoder output pulse PAO
Forward		PBO	Phase B advanced (CW)	Rotation speed
* Reverse Reference
Analog monitor torque reference
Encoder output pulse
PAO	Phase A advanced
Reverse	PBO
(CCW)	Rotation speedNote: According to the change of motor rotation direction, the direction of overtravel forward/reverse also switched.
For Pn000 = n.???0: counterclockwise is P-OT. For Pn000 = n.???1: clockwise is P-OT.



5.2.3 Overtravel

5.2.3 Overtravel
The overtravel limit function forces movable machine parts to stop if they exceed the allowable range of motion and turn ON a limit switch.

(1) Signal Setting

TypeName Connector Pin NumberSettingMeaning

Input
P-OT
CN1-42ONForward run allowed. Normal operation sta- tus.OFFForward run prohibited. Forward overtravel.N-OTCN1-43ONReverse run allowed. Normal operation status.OFFReverse run prohibited. Reverse overtravel.Rotation in the opposite direction is possible during overtravel by inputting the reference.




(2) Overtravel Function Setting
Parameters Pn50A and Pn50B can be set to specify either using or not using the overtravel function.
If the overtravel function is not used, forward and reverse operation will always be possible for the servomo- tor, and no wiring for overtravel input signals will be required.

ParameterMeaningWhen EnabledClassification

Pn50A
n.2???Inputs the Forward Run Prohibited (P-OT) signal from CN1-42.
(Factory setting)




After restart




Setupn.8???Disables the Forward Run Prohibited (P-OT) signal. (Allows constant forward rotation.)

Pn50B
n.???3Inputs the Reverse Run Prohibited (N-OT) signal from CN1-43.
(Factory setting)n.???8Disables the Reverse Run Prohibited (N-OT) signal. (Allows constant reverse rotation.)• A parameter can be used to re-allocate input connector number for the P-OT and N-OT signals. Refer to
3.3.1 Input Circuit Signal Allocation.
(3) Motor Stopping Method When Overtravel is Used
The stopping method when an overtravel (P-OT, N-OT) signal is input while the servomotor is operating can be set with parameter Pn001.

ParameterStop ModeMode After StoppingMeaningWhen EnabledClassification







Pn001n.??00Stop by dynamic brake


CoastImmediately stops the ser- vomotor by dynamic brak- ing (DB), then places it into Coast (power OFF) Mode.







After restart







Setupn.??01
n.??02
Coast to a stopStops the servomotor by coast stop, then places it into Coast (power OFF) Mode.
n.??1?


Decelerate to stop
Zero ClampDecelerates the servomotor with emergency stop torque (Pn406), then places it into Zero Clamp (Servolock) Mode.
n.??2?
CoastDecelerates the servomotor with emergency stop torque (Pn406), then places it into Coast (power OFF) Mode.• A servomotor under torque control cannot be decelerated to a stop. The servomotor is stopped with the dynamic braking (DB) or coasts to a stop according to the setting of Pn001.0. After the servomotor stops, the servomotor will enter a coast state.
• For details on stopping methods when the servo turns OFF or when an alarm occurs, refer to 5.2.5 Stopping Method for Servomotor after Servo OFF or Alarm Occurrence.



5.2.4 Holding Brakes


(4) Emergency Stop Torque for Overtravel


Pn406Emergency Stop Torque	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 8001%800ImmediatelySetup• The setting unit is a percentage of the rated torque (i.e., the rated torque is 100%)
• The factory setting is 800% so that the setting is large enough a value to operate the servomotor at maximum torque. The maximum value of emergency stop torque that is actually available, however, is limited to the maximum torque of the servomotor.
(5) Terms
* Dynamic Brake (DB)

Dynamic braking (DB) is a standard method for stopping the servomotor in emergencies. By short-circuiting the electric circuits, the servomotor comes to a quick stop. The dynamic braking circuit is built into the SERVOPACK.
* Coast to a stop
Stops naturally, with no brake, by using the friction resistance of the motor in operation.
* Decelerate to stop
Stops by using deceleration (braking) torque.
* Zero Clamp Mode
A mode forms a position loop by using the position reference zero.

5.2.4 Holding Brakes

SERVOPACK	Servomotor



A holding brake is a brake used to hold the position of the SERVOPACK when the SERVOPACK is turned OFF so that movable parts do not move due to their own weight or external forces. Holding brakes are built into servomotors with brakes.
For example, the holding brake is used when the SERVOPACK controls a vertical axis.


* Vertical Shaft
Servomotor
* 
Shaft with External Force Applied

Holding brake

External force

Movable part of machine
Servomotor



Prevents the servomotor from rotating when
the power is OFF.
Movable part of machine

Holding brake

Prevents the servomotor from rotating due to external force.








There is a delay in the braking operation. Set the following ON/OFF timing. The timing can be easily set using the brake interlock output signal.


SERVOPACK control power
SERVOPACK main power
Servo ON

Holding brake power

Brake contact part (lining)


Speed reference



OFF
*1
OFF OFF

*2

0V






ON



*2	*6













200 ms to 1.0 second




Motor speed




*3
200 ms or more


*4	t1
t0
*5
t0+t1

???  The servo ON signal and holding brake power supply may be turned ON simultaneously.
??? The operation delay time of the brake depends on the model. For details, refer to Brake Operation Delay Time shown below.
???  Allow a period of 200 ms before the speed reference is input after the brake power supply is turned ON.
??? The servomotor stop time is shown by t0. Refer to the Calculation Method for Servomotor Stop Time shown below for the calculation of t0.
???  Always turn OFF the brake power supply after the servomotor comes to a stop. Usually, set t0+t1 to 1 or 2 seconds.
???  Turn OFF the servo ON signal 0.2 to 1.0 second after the brake power supply is turned OFF.
Brake Operation Delay Time

ModelVoltageBrake Release Time (ms)Brake Applied Time (ms)SGMAV-A5 to 0424 V60100SGMAV-06 to 1080100SGMJV-A5 to 0424 V60100SGMJV-0880100SGMGV-03, 05
24 V,
90 V10080SGMGV-09, 13, 2010080SGMGV-30, 44170100 (24 V), 80 (90 V)Note: The above operation delay time is an example when the power supply is turned ON and OFF on the DC side.
Be sure to evaluate the above times on the actual equipment before using the application.

Calculation Method for Servomotor Stop Time

Using SI UnitsConventional Methodt0 =  (JM + JL) ? NM ?  2?  (sec) (TP + TL)	60t0 = (GD2  + GD2 ) ? N  (sec)
M	L	M
375 ? (TP + TL)JM : Rotor moment of inertia (kg?m2)GD2  : Motor GD2 (kgf?m2)
MJL : Load moment of inertia (kg?m2)GD2 : Load inertia GD2 (kgf?m2)
LNM : Motor rotational speed (min-1)NM : Motor rotational speed (r/min)TP : Motor deceleration torque (N?m)TP : Motor deceleration torque (kgf?m)TL : Load torque (N?m)TL : Load torque (kgf?m)


5.2.4 Holding Brakes


(1) Wiring Example
Use the SERVOPACK contact output signal /BK and the brake power supply to form a brake ON/OFF circuit. The following diagram shows a standard wiring example.



SERVOPACK

Servomotor with brake


BK-R Y: Brake control relay
Brake power supply for 90 V Input voltage 200-V models: LPSE-2H01
Input voltage 100-V models: LPDE-1H01
?1 and ?2 are the output terminals allocated with Pn50F.2.


(2) Signal Setting
This output signal controls the brake and is used only for a servomotor with a brake. The output signal must be allocated with Pn50F.

TypeName Connector Pin NumberSettingMeaningOutput/BKMust be allocatedON (low level)Releases the brake.OFF (high level)Applies the brake.



(3) Brake Signals (/BK) Allocation
The brake signal (/BK) is not allocated at shipment. Use the parameter Pn50F to allocate the /BK signal.


Parameter Connector Pin Number
Meaning
 When Enabled
Classifica- tion+ Ter- minal- Ter- minal



Pn50Fn.?0??--The /BK signal is not used. [Factory setting]



After restart



Setupn.?1??CN1-25CN1-26The /BK signal is output from output terminal CN1-25, 26.n.?2??CN1-27CN1-28The /BK signal is output from output terminal CN1-27, 28.n.?3??CN1-29CN1-30The /BK signal is output from output terminal CN1-29, 30.
(4) Brake ON Timing after the Servomotor Stops
With the factory setting, the /BK signal is output at the same time as the servo is turned OFF. The servo OFF timing can be changed with the parameter Pn506.


Pn506Brake Reference-Servo OFF Delay Time	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 5010 ms0ImmediatelySetup• When using the servomotor to control a vertical axis, the machine movable part may shift slightly depending on the brake ON timing due to gravity or an external force. By using this parameter to delay turning the servo OFF, this slight shift can be eliminated.
• This parameter changes the brake ON timing while the servomotor is stopped.
Pn506




5.2.4 Holding Brakes


(5) Brake (/BK) Signal Output Timing during Servomotor Operation
If an alarm occurs while the servomotor is rotating, the servomotor will come to a stop and the brake (/BK) signal will be turned OFF. The timing of brake signal (/BK) output can be adjusted by setting the brake signal output speed level (Pn507) and servo OFF brake reference waiting time (Pn508).
Note: If the servomotor is set so that it comes to a zero-speed stop for an alarm, follow the information in (4) Brake ON Timing after the Servomotor Stops after the motor comes to a stop for a zero position reference.


Pn507Brake Reference Output Speed Level	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 10001 min-1100ImmediatelySetup
Pn508Waiting Time for Brake Signal When Motor Running	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 10010 ms50ImmediatelySetup
/BK Signal Output Conditions When Servomotor Running
The /BK signal goes to high level (brake ON) when either of the following condi- tions is satisfied:
• When the motor speed falls below the level set in Pn507 after the power to the servomotor is turned OFF.
• When the time set in Pn508 is exceeded after the power to the servomotor is turned OFF.









(Motor stopped by applying DB or by coasting.)
?Pn001.0?






5.2.5 Stopping Method for Servomotor after Servo OFF or Alarm Occurrence
The stopping method when the power to the SERVOPACK turns OFF or an alarm occurs can be selected.
(1) Stopping Method for Servomotor When the Servo is Turned OFF
Select the stopping method for the servomotor after servo OFF using Pn001.0

ParameterStop ModeMode After StoppingMeaningWhen EnabledClassification




Pn001
n.???0

Stop by dynamic brake
Dynamic BrakeStops the servomotor by dynamic braking (DB), then holds it in Dynamic Brake Mode. [Factory setting]




After restart




Setup
n.???1
CoastStops the servomotor by dynamic braking (DB), then places it into Coast (power OFF) Mode.n.???2Coast to a stop
CoastStops the servomotor by coast- ing, then places it into Coast (power OFF) Mode.Note: Similar to the Coast Mode, the n.???0 setting (which stops the servomotor by dynamic braking and then holds it in Dynamic Brake Mode) does not generate any braking force when the servomotor stops or when it rotates at very low speed.
(2) Stopping Method for Servomotor When an Alarm Occurs
Select the stopping method for the servomotor when an alarm occurs using Pn001.0 and Pn00B.1.
Pn001.0 is used to set the stopping method for the servomotor for a G1 alarm (alarms that result in a DB stop).
Pn00B.1 is used to set the stopping method for the servomotor for a G2 alarm (alarms that result in a zero- speed stop).
Note: Refer to the information on alarm stopping methods in 10.1.1 List of Alarms.
* Stopping Method for Servomotor for G1 Alarms (Alarms that Result in a DB Stop)
The stopping method of the servomotor when a G1 alarm occurs is the same as that for the Servomotor when the servo is turned OFF.

ParameterStop ModeMode After StoppingMeaningWhen EnabledClassification




Pn001
n.???0

Stop by dynamic brake
Dynamic BrakeStops the servomotor by dynamic braking (DB), then holds it in Dynamic Brake Mode. [Factory setting]




After restart




Setup
n.???1
CoastStops the servomotor by dynamic braking (DB), then places it into Coast (power OFF) Mode.n.???2Coast to a stop
CoastStops the servomotor by coast- ing, then places it into Coast (power OFF) Mode.


5.2.5 Stopping Method for Servomotor after Servo OFF or Alarm Occurrence


* Stopping Method for Servomotor for G2 Alarms (Alarms that Result in a Zero-speed Stop)

ParameterStop ModeMode After StoppingMeaning When EnabledClassifica- tionPn00BPn001

n.??0? [Factory setting]n.???0 [Factory setting]


Zero-speed stoppingDynamic BrakeStops the servomotor by zero-speed stop, then holds it in Dynamic Brake Mode.







After restart







Setupn.???1

CoastStops the servomotor by zero-speed stop, then places it into Coast (power OFF) Mode.n.???2Stops the servomotor by zero-speed stop, then places it into Coast (power OFF) Mode.


n.??1?n.???0 [Factory setting]
Stops by dynamic brakeDynamic BrakeStops the servomotor by dynamic braking (DB), then holds it in Dynamic Brake Mode.n.???1

CoastStops the servomotor by dynamic braking (DB), then places it into Coast (power OFF) Mode.n.???2Coast to stopStops the servomotor by coasting, then places it into Coast (power OFF) Mode.Note: The setting of Pn00B.1 is effective for position control and speed control. Pn00B.1 will be ignored for torque control and only the setting of Pn001.0 will be valid.



<Terms>
Dynamic brake (DB)
A common method for quickly stopping a servomotor. The servomotor is stopped by short-circuiting the servomotor circuit. This circuit is built into the SERVOPACK.




SERVOPACK	Servomotor



5.2.6 Power Loss Settings
Determines whether to continue operation or turn the servo OFF when the power supply voltage is interrupted.


Pn509Instantaneous Power Cut Hold Time	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled20 to 10001 ms20ImmediatelySetupAn instantaneous power interruption will be detected when the main circuit power supply is turned OFF. If the time required to restore the main circuit power supply is less than the parameter set value, the servo will con- tinue operation. If the restoration time is the equal to or greater than the set value, the servo will be turned OFF.




Power supply voltage


Pn509 > t



Pn509 < t


<Supplementary Information>
If the uninterruptible power supplies are used for the control power supply and main circuit power supply, the SERVOPACK can withstand an instantaneous power interruption period in excess of 1000 ms.



5.2.7 Torque Limit Function for Low Power Supply Voltage for Main Circuit (SEMI-F47 Function)

5.2.7 Torque Limit Function for Low Power Supply Voltage for Main Circuit (SEMI- F47 Function)
The torque limit function detects a low voltage and limits the output current if the power supply voltage for the main circuit drops to 200 V or below.
This function allows the servomotor to continue operating without stopping for an alarm or without recovery work even if the power supply voltage drops.


(1) Execution Method
This function can be executed either with the host controller or independently with the SERVOPACK.
* Execution with Host Controller
The host controller limits the torque in response to a low-voltage warning. The limited torque is reset when the low-voltage warning is cleared.
* Execution Independently with SERVOPACK
The torque is limited in the SERVOPACK in response to a low-voltage warning.
The SERVOPACK resets the limited torque in the set time when the low-voltage warning is cleared. Pn008.1 is used to specify whether the function is executed with the host controller or independently with the SERVO- PACK.
(2) Related Parameters

ParameterMeaningWhen EnabledClassification


Pn008n.??0?A main circuit low voltage is not detected [Factory setting].


After restart


Setupn.??1?A main circuit low voltage is detected, and the host controller limits the torque.n.??2?A main circuit low voltage is detected, and the SER- VOPACK independently limits the torque using Pn424 and Pn425.


Pn424Torque Limit at Main Circuit Voltage Drop	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100%50ImmediatelySetup

Pn425Release Time for Torque Limit at Main Circuit
Voltage Drop	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 1000ms100ImmediatelySetup


5.3 Operating Using Speed Control with Analog Voltage Reference
This section describes the operation in speed control with analog voltage reference.

Select the speed control with the parameter Pn000.

ParameterMeaningWhen EnabledClassificationPn000n.??0?Control mode selection: Speed control (analog volt- age reference) [Factory setting]After restartSetup5.3.1 Basic Settings for Speed Control
Set the following signal and parameter for speed control with analog voltage reference.
(1) Speed Reference Input
Input the speed reference to the SERVOPACK using the analog voltage reference to control the servomotor speed in proportion to the input voltage.

TypeSignal Name Connector Pin NumberNameInputV-REFCN1-5Speed Reference InputSGCN1-6Signal GroundInput Specifications
Input range: ±2 VDC to ±10 VDC/rated speed Maximum allowable input voltage: ±12 VDC
<Setting Example>
Pn300 = 600: 6 V input/Motor rated speed [Factory setting]

Speed Reference InputRotation DirectionMotor SpeedSGMAV Servomotor+6 VForwardRated motor speed3000 min-1+1 VForward1/6 rated motor speed500 min-1-3 VReverse1/2 rated motor speed1500 min-1
Input Circuit Example
SERVOPACK


+12 V


Recommended variable resistor: Model 25HP-10B manufactured by Sakae Tsushin Kogyo Co., Ltd.



5.3.1 Basic Settings for Speed Control


Connect V-REF and SG to the speed reference output terminals on the host controller when using a host con- troller, such as a programmable controller, for position control.


SERVOPACK










 : represents twisted-pair wires.
Note: Always use twisted-pair cable to control noise.
(2) Setting Speed Reference Input Gain
Sets the analog voltage level for the speed reference (V-REF) necessary to operate the servomotor at the rated speed.



Pn300Speed Reference Input Gain	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled150 to 3000
(1.50 to 30.00 V/rated speed)
0.01 V/rated speed600
(6.00 V/rated speed)
Immediately
Setup


Rated motor speed Factory setting
-12	-8	-4
4	8	12
      Input voltage (V) Rated motor speed
The slope is set in Pn300.



5.3.2 Reference Offset Adjustment
In speed control, the servomotor may rotate at a minute speed with an analog voltage reference of 0 V. This occurs because the reference voltage of the host or external circuit has a minute offset of a few millivolts.
If the servomotor rotates at a minute speed, the offset needs to be eliminated using the offset adjustment func- tion.

Use either automatic adjustment or manual adjustment. Automatic adjustment uses the automatic adjustment parameter for analog (speed and torque) reference offset (Fn009). Manual adjustment uses the manual adjust- ment parameter for speed reference offset (fn00A).
(1) Automatic Adjustment of the Speed Reference Offset
The automatic adjustment of the offset automatically measures the amount of offset and adjusts the reference voltage.


Offset automatically adjusted in SERVOPACK.


Automatic offset adjustment


After completion of the automatic adjustment, the amount of offset is stored in the SERVOPACK. Adjust the speed reference offset automatically using the following steps.




5.3.2 Reference Offset Adjustment


StepDisplay after OperationKeysDescription



1Turn OFF the SERVOPACK, and input the 0 V reference voltage from the host controller or external circuit.
SERVOPACK	Servomotor


0 V speed
Host	reference controller
Servo OFF	Slow rotation (Servo ON)
2




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
3




MODE/SET	DATA/
Press the UP or the DOWN Key to select Fn009.
4




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "rEF_o" is displayed.
5




MODE/SET	DATA/Press the MODE/SET Key.
The reference offset is automatically adjusted.
When completed, "donE" blinks for approximately one sec- ond.
6

After "donE" is displayed, "rEF_o" is displayed again.
7




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn009" is displayed again.Note: The automatic adjustment of reference offset (Fn009) cannot be used when a position loop has been formed with a host controller. Use the speed reference offset adjustment manual mode described in (2) Manual Servo Tuning of the Speed Reference Offset.
(2) Manual Servo Tuning of the Speed Reference Offset
This method adjust the offset inputting the amount of offset.
Use the speed reference offset manual servo tuning (Fn00A) in the following situations:
• If a position loop is formed with the host controller and the error is zeroed when servolock is stopped.
• To deliberately set the offset to some value.
• To check the offset data set in the speed reference offset automatic adjustment mode.

The offset setting range and setting units are as follows:

Speed reference


Offset adjustment range


Offset Adjustment Range: ?15000
(Speed Reference: ?750 mV)



Offset setting unit

Analog input voltage

Offset Setting Unit
(Speed Reference: 0.05 mV)





Adjust the speed reference offset using following steps.





StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or the DOWN Key to select Fn00A.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4
Turn ON the servo ON (/S-ON) signal from the host con- troller. The display shown on the left appears.
5




MODE/SET	DATA/Press the DATA/SHIFT Key for less than one second. The speed reference offset amount is displayed.
6



MODE/SET	DATA/Press the UP or the DOWN Key to adjust the amount of off- set.
7




MODE/SET	DATA/Press the MODE/SET Key for less than one second. The display shown on the left appears. Then "don E" blinks on the display, and offset amount is set.
8




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn00A" is displayed again.5.3.3 Soft Start
The soft start is a function to convert stepped speed reference input into constant acceleration and decelera- tion. The time can be set separately for acceleration and deceleration.
Use this function to smooth speed control in speed control (including selection of internally set speeds).

Note: Set both parameters Pn305 and Pn306 to "0" (factory setting) for normal speed control.


Pn305Soft Start Acceleration Time	Speed
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 ms0ImmediatelySetup
Pn306Soft Start Deceleration Time	Speed
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 ms0ImmediatelySetupPn305: The time interval from the time the motor starts until the motor maximum speed is reached. Pn306: The time interval from the time the motor is operating at the motor maximum speed until it stops.

Maximum speed of Servomotor
After soft start
Before soft start


Pn305	Pn306



5.3.4 Speed Reference Filter


Actual accel/decel time can be calculated with the following equation.



Actual (accel/decel) time =

Speed reference
?
Max. speed


Soft start time (accel time Pn305/decel time Pn306)


Max. speed


5.3.4 Speed Reference Filter
This smoothens the speed reference by applying a first order lag filter to the analog speed reference (V-REF) input.
Note: A value that is too large, however, will slow down response.



Pn307Speed Reference Filter Time Constant	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 65535
(0.00 to 655.35 ms)0.01 ms40
(0.40 ms)ImmediatelySetup


5.3.5 Zero Clamp Function
The zero clamp function locks the servo when the input voltage of the speed reference (V-REF) drops below the set speed in the zero clamp level parameter (Pn501) while the zero clamp signal (/P-CON or /ZCLAMP) is ON. The SERVOPACK internally forms a position loop, ignoring the speed reference.
The servomotor is clamped within one pulse of when the zero clamp function is turned ON, and will still return to the zero clamp position even if it is forcibly rotated by external force.
The zero clamp function is used for systems where the host controller does not form a position loop for the speed reference input.
<Terms>
Servo lock: A stopped state of the motor in which a position loop is formed with a position reference of 0.
When the /ZCLAMP signal is turned ON, a





Preset value

Speed

V-REF speed reference





Speed reference Zero clamp





V-REF

   /P-CON (/ZCLAMP)

SERVOPACK

for zero clamping		 Pn501

/P-CON (/ZCLAMP) input
Zero clamp is performed.
ON





Open (OFF) OFF




Closed (ON)

OFF
ON	ON



Time


Adjust the position loop gain in Pn102 if the servomotor oscillates in the zero clamp state. If the gain switch- ing function is used, adjusting the 2nd position loop gain in Pn106 is required as well. For details, refer to
6.8.6 Switching Gain Settings.



5.3.5 Zero Clamp Function


(1) Signal Setting
* Factory-set Sequence Signal Allocations (Pn50A.0 = 0)
Use the /P-CON signal to switch to the zero clamp state.

Type Connector Pin NumberSettingMeaning
Input
/P-CON
CN1-41
[Factory setting]
ONIf the input voltage of the speed reference (V-REF) drops below the set speed in the zero clamp level (Pn501), the zero clamp function will turn ON.OFFTurns OFF the zero clamp function.To use the zero clamp function, set Pn000.1 to A.

ParameterControl MethodInput Signal UsedWhen EnabledClassification
Pn000
n.??A?Speed control (analog reference) The zero clamp function uses /P- CON.
/P-CON
After restart
SetupNote: If Pn000.1 is set to A, the /P-CON signal cannot be used for any function other than the zero clamp function.


* Changing Sequence Signal Allocations for Each Signal (Pn50A.0 = 1)
Use the /ZCLAMP signal when switching to zero clamp operation.
To use the /ZCLAMP signal, the input signal must be allocated. For details, refer to 3.3.1 Input Circuit Signal Allocation.

Type Connector Pin NumberSettingMeaning
Input
/ZCLAMP
CN1-??
Must be allocated.
ONThe zero clamp function will be turned ON if the input volt- age of the speed reference (V-REF) drops below the set speed in the zero clamp level.OFFTurns OFF the zero clamp function.To use the zero clamp function, set Pn000.1 to 0, 3, 4, 5, 6, 7 or 9.

ParameterControl MethodInput Signal UsedWhen EnabledClassification







Pn000n.??0?Speed control (analog reference)/ZCLAMP







After restart







Setupn.??3?Internally set speed control (contact reference)/ZCLAMP
n.??4?Internally set speed control (contact reference) <=> Speed control (analog reference)
/ZCLAMPn.??5?Internally set speed control (contact reference) <=> Position control (pulse strain reference)
/ZCLAMPn.??6?Internally set speed control (contact reference) <=> Torque control (analog reference)
/ZCLAMPn.??7?Position control (pulse train reference)
<=> Speed control (analog reference)/ZCLAMPn.??9?Torque control (analog reference) <=> Speed control (analog reference)/ZCLAMP



<Supplementary Information>
If Pn000.1 is set to 5, 6, 7, or 9, the zero clamp function will become invalid when the control is changed to any modes other than speed control.
Set the speed at which to enter zero clamp operation.


Pn501Zero Clamp Level	Speed
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 10000 min-11 min-110 min-1ImmediatelySetupNote: Even if a value that exceeds the speed of the servomotor is set, the actual speed will be limited to the maximum speed of the servomotor.

5.3.6 Encoder Pulse Output
Encoder pulse output shows the feedback of position.
This signal processes the encoder output inside the SERVOPACK and then outputs externally in the pulse form.
Signals and output phase form are as shown below.
(1) Signals

TypeSignal Name Connector Pin NumberNameRemarks


OutputPAOCN1-33Encoder output phase AOutput pulses per motor rotation set in the encoder output pulses (Pn212), and phase A and phase B are different from each other in phase by an elec- tric angle of 90?./PAOCN1-34Encoder output phase /APBOCN1-35Encoder output phase B/PBOCN1-36Encoder output phase /BPCOCN1-19Encoder output phase CPulses that are output once per motor rotation./PCOCN1-20Encoder output phase /C?  Phase C: Output one pulse per motor rotation.
These outputs explained here.


SERVOPACK	Host controller

(2) Output Phase Form

Forward rotation (phase B leads by 90°)Reverse rotation (phase A leads by 90° ?



Phase A Phase B
Phase C
90°





t


Phase A Phase B
Phase C




  
90°





tNote: The pulse width of the (Phase C origin pulse) changes according to the setting of the Pn212 and becomes the same as that for phase A.
Even in reverse rotation mode (Pn000.0 = 1), the output phase form is the same as that for the standard setting (Pn000.0 = 0).



5.3.7 Encoder Pulse Output Setting


(3) When Using an Absolute Encoder
When absolute encoder is used, add the following signals.

TypeSignal NameConnector Pin NumberName

InputSENCN1-4SEN Signal InputSGCN1-2Signal GroundBAT (+)CN1-21Battery (+)BAT (-)CN1-22Battery (-)OutputSG*CN1-1, CN1-2Signal Ground?  SG (CN1-1, 2): Connect to 0 V on the host controller.

5.3.7 Encoder Pulse Output Setting
Set the encoder pulse output using the following parameter.



Pn212Encoder Output Pulses	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled16 to
1073741824(230)1 P/Rev2048After restartSetupFeedback pulses from the encoder per revolution are divided inside the SERVOPACK by the number set in this parameter before being output. Set according to the system specifications of the machine or host control- ler.
According to the encoder resolution, the number of encoder pulses are limited. Set the encoder output pulses (Pn212) by the following setting unit.

Encoder Output Pulses (P/Rev)Setting Unit (pulse)Encoder ResolutionUpper Limit of Servomotor Speed (min-1)13 bits20 bits16 to 20481??60002049 to 163841?600016386 to 327682?300032772 to 655364?150065544 to 1310728?750131088 to 26214416?375Note 1. The setting range varies with the encoder output pulses for the servomotor used.
A parameter setting error alarm (A.041) will occur if the setting is outside the allowable range or does not satisfy the setting conditions.
2. The upper limit of the pulse frequency is approx. 1.6 Mpps.
The servomotor speed is limited by the setting value of the number of the output pulse for Pn212.
An overspeed alarm (A.511) will occur if the motor speed exceeds the upper limit at the preset number of pulses.
<Setting Example>
Pn212 = 25000 (P/Rev) is accepted, but
Pn212 = 25001 (P/Rev) is not accepted. The alarm A.041 is output.




Output Example: When Pn212 = 16 (16-pulse output per one revolution), PAO and PBO are output as shown below.



PAO PBO

Preset value: 16


1 revolution


5.3.8 Speed Coincidence Signal Setting
The speed coincidence (/V-CMP) output signal is output when the actual servomotor speed during speed con- trol is the same as the speed reference input. The host controller uses the signal as an interlock.

TypeSignal NameConnector Pin NumberSettingMeaningOutput/V-CMPCN1-25, 26ON (close)Speed coincides.OFF (open)Speed does not coincide.This output signal can be allocated to another output terminal with parameter Pn50E.
Refer to 3.3.3 Output Circuit Signal Allocation.


Pn503Speed Coincidence Signal Output Width	Speed
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 1001 min-110ImmediatelySetupThe /V-CMP signal is output when the difference between the speed reference and actual motor speed is below this setting.




503







<Supplementary Information>
/V-CMP is a speed control output signal. With the factory setting without mapping output terminal in Pn50E, this signal is automatically used as the positioning completed signal /COIN for position control, and it is always OFF (open) for torque control.
<Example>
The /V-CMP signal is output at 1900 to 2100 min-1 if the Pn503 is set to 100 and the reference speed is 2000 min-1.



5.4.1 Basic Settings for Position Control Mode

5.4 Operating Using Position Control with Pulse Train Reference
This section describes the operation in position control with pulse train reference. Select the position control with Pn000.

ParameterMeaningWhen EnabledClassificationPn000n.??1?Control mode: Position control (pulse train reference)After restartSetup* Block Diagram for Position Control
A block diagram for position control is shown below.


5.4.1 Basic Settings for Position Control Mode
Set the following signal and parameter for position control with pulse train reference.
(1) Signal Setting
Set the input form for the SERVOPACK using Pn200.0 according to the host controller specifications.

TypeSignal NameConnector Pin NumberName

InputPULSCN1-7Reference Pulse Input/PULSCN1-8Reference Pulse InputSIGNCN1-11Sign Input/SIGNCN1-12Sign Input(2) Reference Input Filter for Signals
The noise margin for input signals will drop if an open-collector pulse reference is input. Set Pn200.3 to 1 if position error occurs due to a reduced noise margin.

ParameterMeaningWhen EnabledClassification


Pn200n.0???Uses the reference input filter for line driver signal. (Maximum reference frequency: 1 Mpps)
[Factory setting]


After restart


Setupn.1???Uses the reference input filter for open-collector sig- nal. (Maximum reference frequency: 200 kpps)n.2???Uses the reference input filter for line driver signal. (Maximum reference frequency: 4 Mpps)Note: * Set Pn200 to n.2??? if the maximum reference frequency exceeds 1 Mpps.
• Use a shielded cable for I/O signals and ground both ends of the shield.
• Connect the shield at the SERVOPACK to the connector shell so that the shield will be connected to the frame ground (FG) through the connector.



(3) Connection Example
Applicable line driver: SN75174 manufactured by Texas Instruments Inc., or MC3487 or equivalent
* Line Driver Output


Host controller

SERVOPACK



?	 represents twisted-pair wires.


* Open-collector Output
Set limit resistor R1 so the input current, i, falls between 7 mA to 15 mA.


Host controller


















* represents twisted-pair wires.

SERVOPACK


* Example
* When Vcc is +24 V: R1 = 2.2 k?
* When Vcc is +12 V: R1 = 1 k?
* When Vcc is +5 V: R1 = 180 ?
Note: In case of open-collector outputs, the signal logic is as follows.

When Tr1 is ONH level input or equivalentWhen Tr1 is OFFL level input or equivalent




5.4.1 Basic Settings for Position Control Mode


The built-in power supply of the SERVOPACK can be used. With an external power supply, a photocoupler isolation circuit will be used. A non-isolated circuit will be used if the built-in power supply is used.

Host controller	SERVOPACK

?	 represents twisted-pair wires.
(4) Pulse Reference Input Signal Form
Set the pulse reference input signal form using Pn200.0.

ParameterReference Pulse FormInput Pulse Multi- plierForward Rotation ReferenceReverse Rotation Reference









Pn200
n.???0Sign + pulse train (Positive logic) (Factory setting)?
PULS (CN1-7)
SIGN	H level
(CN1-11)PULS (CN1-7)
SIGN	L level
(CN1-11)
n.???1CW pulse + CCW pulse (Positive logic)?
PULS
(CN1-7)	L level
SIGN (CN1-11)PULS (CN1-7)
SIGN	L level
(CN1-11)n.???2
Two-phase pulse train with 90? phase differential?1
90
PULS (CN1-7)
SIGN (CN1-11)
90
PULS (CN1-7)
SIGN (CN1-11)n.???3?2n.???4?4
n.???5Sign + pulse train (negative logic)?
PULS (CN1-7)
SIGN	L level
(CN1-11)
PULS (CN1-7)
SIGN	H level
(CN1-11)
n.???6CW pulse + CCW pulse (negative logic)?
PULS
(CN1-7)	H level
SIGN (CN1-11)PULS (CN1-7)
SIGN	H level
(CN1-11)



<Supplementary Information>
The input pulse multiplier can be set for the 2-phase pulse train with 90? phase differential reference pulse form.









Internal



 PULS (CN1-7)
  SIGN (CN1-11)
?1
?2

 Forward rotation	 Reverse rotation






Servomotor movement

processing

reference pulses
?4


(5) Reference Pulse Input Timing
Reference pulse form and input timing are as shown below.

Reference Pulse FormElectrical SpecificationsRemarksSign + pulse train input (SIGN + PULS signal) Maximum reference fre- quency: 4 Mpps*
(In case of open-collector output, maximum refer- ence frequency: 200 kpps)
t1 t2
SIGN	t7
t3
PULS t4
?	t5	t6
T

Forward reference  Reverse referencet1, t2, t3, t7 ? 0.025 ?s t4, t5, t6 ? 0.5 ?s
? ? 0.125 ?s
T-? = 0.125 ?sSign (SIGN)
H = Forward
   reference L = Reverse
referenceCW pulse + CCW pulse Maximum reference fre- quency: 4 Mpps*
(In case of open-collector output, maximum refer- ence frequency: 200 kpps)
t1
T

CCW	?
t2
CW	t3
Forward reference	Reverse referencet1, t2 ? 0.025 ?s t3 ? 0.5 ?s
? ? 0.125 ?s
T-? = 0.125 ?sTwo-phase pulse train with 90? phase differential (phase A + phase B)
Maximum reference fre- quency: 4 Mpps*
(In case of open-collector output, maximum refer- ence frequency: 200 kpps)
t1  t2

Phase A Phase B
?
T

 Forward reference   Reverse reference  Phase B leads	Phase B lags
phase A by 90?	phase A by 90?t1 ? 0.1 ?s t2 ? 0.1 ?s
? ? 0.5 ?s
T-? = 0.5 ?sSwitching of the input pulse multi- plier mode is done with Pn200.0 setting.?  Maximum reference frequency by each multiplier are as follows.
?1 input pulse multiplier: 1 Mpps
?2 input pulse multiplier: 1 Mpps
?3 input pulse multiplier: 1 Mpps



5.4.1 Basic Settings for Position Control Mode



(6) I/O Signal Timing Example
Input/Output signal timing are as shown below.
Servo ON

Baseblock
CN1-11







t1 ? 36 ms t2 ? 6 ms
(When Pn506 is set to 0.) t3 ? 40 ms

Sign + pulse train
CN1-7



Encoder pulses


PAO PBO
/COIN
CLR

t4?t5?t6 ? 2 ms t7 ? 20 ?s


Note 1. The interval from the time the servo ON signal is turned ON until a reference pulse is input is must be at least 40 ms. Otherwise the reference pulse may not be received by the SERVOPACK (t3).
2. The error counter clear signal must be ON for at least 20 ?s (t7).



5.4.2 Clear Signal
Set the clear signal and select the reference form using Pn200.1.
(1) Signal Setting

TypeSignal NameConnector Pin NumberNameInputCLRCN1-15Clear Input/CLRCN1-14Clear Input<Supplementary Information>
CLR Signal wiring is not required if the clear operation is not needed. Set the Pn201.1 to 0 and the error pulse is not cleared.
(2) Clear Input Signal Form
Set the clear input signal form using Pn200.1.

ParameterDescriptionTimingWhen EnabledClassification







Pn200

n.??0?Clears at ON.
Position error pulses do not accumulate while the signal is at ON.
[Factory setting]
CLR		Clears at (CN1-15)	 ON	







After restart







Setup
n.??1?
Clears at the rising edge.CLR	ON
(CN1-15)
Clears here just once.
n.??2?Clears at OFF.
Position error pulses do not accumulate while the signal is at OFF.CLR		Clears at (CN1-15)	 OFF	
n.??3?
Clears at the falling edge.CLR	OFF
(CN1-15)
Clears here just once.The following are executed when the clear operation is enabled.
• The SERVOPACK error counter is set to 0.
• Position loop operation is disabled.
Note: Holding the clear status may cause the servo clamp to stop functioning and the servomotor to rotate slowly due to drift in the speed loop.
(1) Clear Operation
This parameter determines when the error pulse should be cleared according to the condition of the SERVO- PACK. Either of three clearing modes can be selected with Pn200.2.

ParameterDescriptionWhen EnabledClassification

Pn200n.?0??Clears the error pulse during the baseblock (at the Servo OFF and alarm occurred). [Factory setting]

After restart

Setupn.?1??Does not clear the error pulse. Clears only with the/ CLR signal.n.?2??Clears the error pulse when an alarm occurs.


5.4.3 Electronic Gear

5.4.3 Electronic Gear
(1) Encoder Resolution

SGM?V-??????? (Servomotor model)


Serial Encoder Specifications

SymbolSpecificationEncoder ResolutionA13-bit incremental8192320-bit absolute1048576D20-bit incremental1048576
(2) Electronic Gear
The electronic gear enables the workpiece travel distance per input reference pulse from the host controller to be set to any value. The minimum position data moving a load is called a reference unit.

When the Electronic Gear	When the Electronic Gear Is Used

Is Not Used

Encoder resolution (20-bit): 1048576


Workpiece



Ball screw pitch: 6 mm





Encoder resolution (20-bit): 1048576


Workpiece
Reference u:nit: 1?m


Ball screw pitch: 6 mm

To move a workpiece 10 mm:	To move a workpiece 10 mm using reference units:
(3) Electric Gear Ratio
Set the electric gear ratio using Pn20E and Pn210.



Pn20EElectronic Gear Ratio (Numerator)	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 1073741824
(230)-4After restartSetup

Pn210Electronic Gear Ratio (Denominator)	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 1073741824
(230)-1After restartSetupIf the deceleration ratio of the motor and the load shaft is given as n/m where m is the rotation of the motor and n is the rotation of the load shaft,





Electronic gear ratio: B
A

Pn20E

=  Pn210  =

Encoder resolution	? m Travel distance per load		n
shaft revolution (reference units)



(4) Procedure for Setting the Electronic Gear Ratio
Set value electric gear differs depending on the machine specifications. Use the following procedure to set the electronic gear ratio.

StepOperation1Check machine specifications.
Check the deceleration ratio, ball screw pitch, and pulley diameter.2Check the encoder resolution.
Check the encoder resolution for the servomotor used.
3Determine the reference unit used.
Determine the reference unit from the host controller, considering the machine specifications and positioning accuracy.
4Calculate the travel distance per load shaft revolution.
Calculate the number of reference units necessary to turn the load shaft one revolution based on the previously determined reference units.5Calculate the electronic gear ratio.
Use the electronic gear ratio equation to calculate the ratio (B/A).6Set parameters.
Set parameters Pn20E and Pn210 using the calculated values.(5) Electronic Gear Ratio Equation
Refer to the following equation to determine the electric gear ratio.





Reference pulse




+	Position Speed

Servomotor


n
Pitch = P (mm/rev)

(mm/P)

?	loop

loop
m



 (mm/P) :Reference unit PG(P/rev) :Encoder resolution P (mm/rev):Ball screw pitch
 m  : Gear ratio n
 n ? P ? (  B  ) = PG ? m

PG(P/rev)



(  B  ) =  PG ? m ?	 =   PG   ?  m 

Set A and B with the following parameters.

A	n ? P

 P 	n

A :Pn210

B:Pn20E



5.4.4 Smoothing


(6) Electronic Gear Ratio Setting Examples
The following examples show electronic gear ratio settings for different load configurations.





Step



OperationLoad ConfigurationBall ScrewDisc TableBelt and Pulley
Reference unit: 0.001 mm Load shaft

20-bit encoder	Ball screw
Reference unit: 0.01?
Gear ratio: 100 ?1
Load shaft 20-bit encoder
Reference unit: 0.005 mm Load shaft
Gear ratio
50?1	Pully diameter:
             100 mm 20-bit encoder
1
Check machine specifica- tions.
* Ball screw pitch: 6 mm
* Gear ratio: 1/1Rotation angle per revolu- tion: 360?
Gear ratio: 100/1Pulley diameter: 100 mm (pulley circumference: 314 mm)
• Gear ratio: 50/12Check the encoder reso- lution.20-bit20-bit20-bit3Determine the reference unit used.Reference unit: 0.001 mm (1 ?m)Reference unit: 0.01?Reference unit: 0.005 mm (5 ?m)4Calculate the travel dis- tance per load shaft revo- lution.
6 mm/0.001 mm=6000360?/0.01?=36000
314 mm/0.005 mm=628005Calculate the electronic gear ratio. B 	 1048576 		 1  A =		6000	? 1 B 	  1048576  A =		36000	?100B	 1048576 	 50 1A =	628000	? 16Set parameters.Pn20E: 1048576Pn20E: 104857600Pn20E: 52428800Pn210: 6000Pn210: 36000Pn210: 628005.4.4 Smoothing
Applying a filter to a reference pulse input, this function provides smooth servomotor operation in the follow- ing cases.
• When the host controller that outputs a reference cannot perform acceleration/deceleration processing.
• When the reference pulse frequency is too low.
• When the reference electronic gear ratio is too high (i.e., 10 times or more).
Note: This function does not affect the travel distance (i.e., the number of pulses).
(1) Related Parameters
Set the following filter-related parameters.



Pn216Position Reference Acceleration/Deceleration Time	Position
Constant
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 65535
(0 to 6553.5 ms)0.1 ms0 (0.0 ms)*ImmediatelySetup

Pn217Average Movement Time of Position Reference	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 10000
(0.0 to 1000.0 ms)0.1 ms0 (0.0 ms)*ImmediatelySetup?  When set to 0, a filter becomes ineffective.





<Supplementary Information>
The difference between the position reference acceleration/deceleration time constant (Pn216) and the position reference movement averaging time (Pn217) is shown below.

Acceleration/Deceleration FilterAverage Movement Time FilterBefore filter applied After filter applied
100%
63.2%
36.8%

t
Pn216	Pn216
Response waveform for stepwise inputBefore filter applied After filter applied
100%





t
Pn217	Pn217
Response waveform for stepwise input
Pn217		 Before filter applied After filter applied


Pn217


t
Response waveform for ramp reference input


5.4.5 Positioning Completed Output Signal

5.4.5 Positioning Completed Output Signal
This signal indicates that servomotor movement has been completed during position control.
If the difference between the number of reference pulses from the host controller and the movement of the ser- vomotor (the number of position error pulses) drops below the set value in the parameter, the positioning com- pletion signal will be output.
Use this signal to check the completion of positioning from the host controller.

TypeSignal Name Connector Pin NumberOutput Status CloseMeaningOutput/COINCN1-25, 26
[Factory setting]ON (close)Positioning has been completed.OFF (open)Positioning is not completed.• This output signal can be allocated to another output terminal with Pn50E. Refer to 3.3.3 Output Circuit Signal Allocation.
• If the servomotor is used with the factory settings, the function will be automatically set to /V-CMP while in speed control mode and always OFF while in torque control mode.


Pn522Positioning Completed Width	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 1073741824(230)Reference unit7ImmediatelySetup• Set the number of error pulses in reference units (the number of input pulses defined using the electronic gear.)
• The positioning completed width setting has no effect on final positioning accuracy.
Reference	Servomotor

Speed

speed




Error pulse
(Un008)

/COIN (CN1-25)





ON (close) is effective.


Note: Too large a value at this parameter may output only a small error during low-speed operation that will cause the
/COIN signal to be output continuously.


<Supplementary Information>
If a servo gain is set that keeps the position error small when the positioning completed width is small, use Pn207 = 3 to change output timing for the COIN signal.

ParameterNameMeaningWhen EnabledClassification




Pn207n.0???




/COIN Output TimingWhen the absolute value of the posi- tion error is below the positioning completed width setting.




After restart




Setup
n.1???When the absolute value of the posi- tion error is below the positioning completed width setting, and the refer- ence after applying the position refer- ence filter is 0.
n.2???When the absolute value of the posi- tion error is below the positioning completed width (Pn522) setting, and the position reference input is 0.


5.4.6 Positioning Near Signal
The host controller receives the positioning near signal prior to confirming the positioning-completed signal, and performs the following operating sequence after positioning has been completed to shorten the time required for operation.
This signal is generally used in combination with the positioning completed output signal.

TypeSignal Name Connector Pin NumberSettingMeaning
Output
/NEAR
Must be allocatedON (close)The servomotor has reached a point near to positioning completed.OFF (open)The servomotor has not reached a point near to positioning completed.The output terminal must be allocated with Pn510 in order to use Positioning Near signal. Refer to 3.3.3 Output Circuit Signal Allocation for details.


Pn524NEAR Signal Width	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 1073741824(230)Reference unit1073741824ImmediatelySetup• Set the number of error pulses in reference units (the number of input pulses defined using the electronic gear.)
• The positioning near (/NEAR) signal is output when the difference (error) between the number of reference pulses output by the host controller and the travel distance of the servomotor is less than the value set in this parameter.



Speed

Reference	Servomotor speed




Error pulse
0

/NEAR
/COIN
Note: Normally, the setting should be larger than that for the positioning completed width (Pn522).



5.4.7 Reference Pulse Inhibit Function

5.4.7 Reference Pulse Inhibit Function
This function inhibits the SERVOPACK from counting input pulses during position control. The servomotor remains locked (clamped) while pulse are inhibited.
<Terms>
Servo lock: A stopped state of the motor in which a position loop is formed with a position reference of 0.
SERVOPACK




Reference pulse



 /P-CON (/INHIBIT)

(1) Signal Setting
* Factory-set Sequence Signal Allocations (Pn50A.0 = 0)
Use the /P-CON signal to switch to the reference pulse inhibit function.

TypeSignal Name Connector Pin NumberSettingMeaning
Input
/P-CON
CN1-41
[Factory setting]ONTurns ON the INHIBIT function to inhibit the SER- VOPACK from counting reference pulses.OFFTurns OFF the INHIBIT function to count reference pulses.To use the reference pulse inhibit function, set Pn000.1 to B.

ParameterControl MethodInput Signal UsedWhen EnabledClassificationPn000n.??B?The INHIBIT function in position control mode uses /P-CON./P-CONAfter restartSetupNote: If Pn000.1 is set to B, the /P-CON signal cannot be used for any function other than the reference pulse inhibit func- tion.
* Changing Sequence Signal Allocations for Each Signal (Pn50A.0 = 1)
Use the /INHIBIT signal to switch to the reference pulse inhibit function.
To use the /INHIBIT signal, the input signal must be allocated. For details, refer to 3.3.1 Input Circuit Signal Allocations to Input Terminals.
<Supplementary Information>
Reference pulse inhibit function is effective only with position control.

TypeSignal Name Connector Pin NumberSettingMeaning
Input
/INHIBIT
CN1-??
Must be allocated.ONTurns ON the INHIBIT function to inhibit the SER- VOPACK from counting reference pulses.OFFTurns OFF the INHIBIT function to count reference pulses.To use the reference pulse inhibit function, set Pn000.1 to 1, 5, 7 or 9.




ParameterControl MethodInput Signal UsedWhen EnabledClassification




Pn000n.??1?Position control (pulse train reference)/INHIBIT




After restart




Setup
n.??5?Internal set speed control (contact ref- erence)?Position control (pulse train reference)
/INHIBIT
n.??7?Position control (pulse train refer- ence)?Speed control (analog refer- ence)
/INHIBIT
n.??8?Position control (pulse train refer- ence)?Torque control (analog refer- ence)
/INHIBIT


5.5.1 Basic Settings for Torque Control Mode

5.5 Operating Using Torque Control with Analog Voltage Reference
This section describes the operation in torque control with analog voltage reference.
Input the torque reference using analog voltage reference and control the SERVOPACK operation with the torque in proportion to the input voltage.
Select the torque control with analog voltage reference with Pn000.

ParameterMeaningWhen EnabledClassificationPn000n.??2?Control mode: Torque control (analog voltage refer- ence)After restartSetup5.5.1 Basic Settings for Torque Control Mode
Set the following signal and parameter for torque control with analog voltage reference.
(1) Signal Setting
Set the following input signals.

TypeSignal Name Connector Pin NumberNameInputT-REFCN1-9Torque Reference InputSGCN1-10Signal Ground for Torque Reference Input
Input Specifications:
• Input range: ±1 to ±10 VDC/rated torque
• Max. allowable input voltage: ±12 VDC
• The voltage input range can be changed with Pn400.







Reference torque (%)






300

200

100


Factory setting

-12  -8	-4 



0 3 4	8	12

-100

Input voltage (V)



<Input Circuit Example>
Use twisted-pair wires as a countermeasure against noise.


-200

-300


Set the slope with Pn400.

Variable resistor example: Model 25HP-10B manufactured by Sakae Tsushin Kogyo Co., Ltd.


SERVOPACK


+12 V 




?	 represents twisted-pair wires.

<Supplementary Information>
• Checking the Internal Torque Reference
Use the following method to check the internal torque reference.
1. With the panel operator:
Use the Monitor Mode (Un002). Refer to Chapter 8 Monitor Modes (Un???).
2. With an analog monitor:
The internal torque reference can also be checked with an analog monitor. Refer to 6.1.3 Monitoring Ana- log Signals.



(2) Parameter Setting
This sets the analog voltage level for the torque reference (T-REF) that is necessary to operate the servomotor at the rated torque.



Pn400Torque Reference Input Gain	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 100
(1.0 to 10.0 V/rated torque)
0.1 V/rated torque30
(3.0 V/rated torque)
Immediately
Setup<Example>
Pn400 = 30: The servomotor operates at the rated torque with 3 V input [factory setting].
Pn400 = 100: The servomotor operates at the rated torque with 10 V input.
Pn400 = 20: The servomotor operates at the rated torque with 2 V input.





5.5.2 Adjustment of Reference Offset
In torque control, the servomotor may rotate at a minute speed with an analog voltage reference of 0 V. This occurs because the reference voltage of the host controller or external circuit has a minute offset of a few mil- livolts. It is called "offset".
If the servomotor rotates at a minute speed, the offset needs to be eliminated with the offset adjustment func- tion.
Use either automatic adjustment or manual adjustment. Automatic adjustment uses the automatic adjustment parameter for analog (speed and torque) reference offset (Fn009). Manual adjustment uses the manual adjust- ment parameter for torque reference offset (Fn00B).
(1) Automatic Adjustment of Torque Reference Offset
The automatic adjustment of torque reference offset (Fn009) automatically measures the offset and adjusts the reference voltage.



Offset automatically adjusted in SERVOPACK.

Automatic offset adjustment

After completion of the steps adjustment, the amount of offset is stored in the SERVOPACK. Use the following steps for automatic adjustment of the torque reference offset.




5.5.2 Adjustment of Reference Offset



StepDisplay after OperationKeysDescription



1Turn OFF the SERVOPACK, and input the 0 V reference voltage from the host controller or external circuit.
SERVOPACK	Servomotor


Host	0 V speed
controller	reference
Servo OFF	Slow rotation (Servo ON)
2




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
3




MODE/SET	DATA/Press the UP or the DOWN Key to select Fn009.
4




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. "rEF_o" is displayed.
5




MODE/SET	DATA/Press the MODE/SET Key.
The reference offset is automatically adjusted.
When completed, "donE" blinks for approximately one second.
6
After "donE" is displayed, "rEF_o" is displayed again.
7




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. "Fn009" is displayed again.Note: The automatic adjustment of reference offset (Fn009) cannot be used when a position loop has been formed with the host controller. In this case, use the manual servo tuning of torque reference offset described in (2) Manual Adjustment of Reference Offset.
(2) Manual Adjustment of Reference Offset
This mode adjusts the offset by inputting the amount of torque reference offset directly. Manual servo tuning of the torque reference offset (Fn00B) is used in the following cases.
• If a loop is formed with the host controller and the error is zeroed when servolock is stopped.
• To deliberately set the offset to some value.
• To check the offset data that was set in the automatic adjustment mode of the torque reference offset.

The offset adjustment range and setting units are as follows:


Torque reference
Offset adjustment range


Offset setting unit







Analog input voltage





Offset Adjustment Range: -128 to +127
(Torque reference: -1881.6 mV to +1866.9 mV)
Offset Setting Unit
Torque reference: 1 = 14.7 mV




Use the following steps to manually adjust the torque reference offset.

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/Press the UP or the DOWN Key to select Fn00B.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The display shown on the left appears.
4
Turn ON the servo ON (/S-ON) signal. The display shown on the left appears.
5




MODE/SET	DATA/Press the DATA/SHIFT Key for less than one second. The torque reference offset amount is displayed.
6



MODE/SET	DATA/Press the UP or the DOWN Key to adjust the amount of offset.
7




MODE/SET	DATA/Press the DATA/SHIFT Key for less than one second. The display shown on the left appears.
Then "donE" blinks on the display, and offset amount is set.
8




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one sec- ond. "Fn00b" is displayed again.5.5.3 Speed Limit in Torque Control
This function limits the speed of the servomotor to protect the machine.
A servomotor in torque control is controlled by the specified torque output, but the motor speed is not con- trolled. Therefore, if an excessive reference torque is set for the load torque on the machinery side, the speed may out run the torque of the machine and the speed of the motor may increase greatly. If that may occur, use this function to limit the speed.
Note: If the control speed is not within the limit, the function tries to return the speed within the limit using a negative feedback of torque in proportion to the difference from the limited speed. Therefore, the actual limit value of motor speed depends on the load conditions of the motor.

With No Speed LimitWith Speed LimitMotor speed	Danger of damage due to excessive equipment speed.
Maximum speed




V
Speed
Safe operation with speed limit.
Speed limit


VRefer to the following parameters for speed limit.



5.5.3 Speed Limit in Torque Control


(1) Signals Output during Servomotor Speed Limit
The following signal is output when the motor speed reaches the limit speed.

TypeSignal Name Connector Pin NumberNameMeaningOutput/VLTMust be allocatedON (close)Servomotor speed limit being applied.OFF (open)Servomotor speed limit not being applied.For use, this output signal must be allocated with Pn50F. For details, refer to 3.3.3 Output Circuit Signal Allo- cation.
(2) Speed Limit Mode Selection (Torque Limit Option)
Select the speed limit mode with Pn002.

ParameterMeaningWhen EnabledClassification

Pn002n.??0?Uses the value set in Pn407 as the speed limit (internal speed limit function).

After restart

Setup
n.??1?Uses V-REF (CN1-5, 6) as an external speed limit input. Applies a speed limit using the input voltage of V-REF and the setting in Pn300 (external speed limit function).(3) Internal Speed Limit Function
If the internal speed limit function is selected in Pn002, set the limit of the maximum speed of the motor in Pn407.
The limit of the speed in Pn408 can be selected from the maximum speed of the motor or the overspeed detec- tion speed.


Pn407Speed Limit During Torque Control	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 min-110000ImmediatelySetupNote: * The setting in this parameter is enabled when Pn002.1 is set to 0.
• The servomotor's maximum speed will be used when the setting in this parameter exceeds the maximum speed of the servomotor used.

ParameterMeaningWhen EnabledClassification

Pn408n.??0?Use the smaller value between maximum motor rota- tion number and the value of Pn407 as speed limit value.

After restart

Setupn.??1?Use the smaller value between excessive speed detec- tion speed and the value of Pn407 as speed limit value.(4) External Speed Limit Function
If the external speed limit function is selected in Pn002, set the V-REF input signal and Pn300.

TypeSignal Name Connector Pin NumberNameInputV-REFCN1-5External Speed Limit InputSGCN1-6Signal GroundInputs an analog voltage reference as the servomotor speed limit value during torque control.




<Supplementary Information>
• The smaller value of the speed limit input from the V-REF on the Pn407 (Speed Limit during Torque Con- trol) is enabled when Pn002.1 is set to 0.
• The setting in Pn300 determines the voltage level to be input as the limit value. Polarity has no effect.



Pn300Speed Reference Input Gain	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled150 to 3000
(1.50 to 30.00 V/rated speed)0.01 V/rated speed600
(6.00 V/rated speed)ImmediatelySetup


5.6.1 Basic Settings for Speed Control with an Internally Set Speed

5.6 Operating Using Speed Control with an Internally Set Speed
This function allows speed control operation by externally selecting an input signal from among three servo- motor speed settings made in advance with parameters in the SERVOPACK. Since controlling a speed with a parameter inside the SERVOPACK, there is no need for an external speed of pulse generator.








Contact inputs





/P-CON (/SPD-D)

/P-CL  (/SPD-A)

/N-CL (/SPD-B)





41

45 46

SERVOPACK
Internally set speed parameters





Speed reference




Servomotor M


5.6.1 Basic Settings for Speed Control with an Internally Set Speed
Set the following signal and parameter for speed control with an internally set speed.
(1) Signal Setting
The following input signals are used to switch the operating speed.

TypeSignal Name Connector Pin NumberMeaning


Input/P-CONCN1-41Switches the servomotor rotation direction.(/SPD-D)Must be allocated/P-CLCN1-45Selects the internally set speed.(/SPD-A)Must be allocated/N-CLCN1-46Selects the internally set speed.(/SPD-B)Must be allocated(2) Speed Control with an Internally Set Speed Selection
Select the speed control with an internally set speed with Pn000.

ParameterMeaningWhen EnabledClassificationPn000n.??3?Control mode: Internally set speed control (contact ref- erence)After restartSetup


(3) Parameter Setting
Set the internally set speed with Pn301, Pn302 and Pn303.


Pn301Internally Set Speed 1	Speed
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 min-1100ImmediatelySetup
Pn302Internally Set Speed 2	Speed
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 min-1200ImmediatelySetup
Pn303Internally Set Speed 3	Speed
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 min-1300ImmediatelySetupNote: The maximum speed of the servomotor is used whenever the value exceeds the maximum speed is set in the Pn301 to Pn303.
(4) Operating Using an Internally Set Speed
Use ON/OFF combinations of the following input signals to operate with the internally set speeds. Following two kinds of input signals are available.
* Using input signals P-CON, /P-CL, /N-CL [factory setting]

Input SignalMotor Rotation DirectionSpeed/P-CON/P-CL/N-CL

OFFOFFOFF

ForwardStops at 0 of the internally set speed.OFFONPn301: Internally Set Speed 1 (SPEED1)ONONPn302: Internally Set Speed 2 (SPEED2)ONOFFPn303: Internally Set Speed 3 (SPEED3)

ONOFFOFF

ReverseStops at 0 of the internally set speed.OFFONPn301: Internally Set Speed 1 (SPEED1)ONONPn302: Internally Set Speed 2 (SPEED2)ONOFFPn303: Internally Set Speed 3 (SPEED3)* Using input signals /SPD-D, /SPD-A, /SPD-B

Input SignalMotor Rotation DirectionSpeed/SPD-D/SPD-A/SPD-B

OFFOFFOFF

ForwardStops at 0 of the internally set speed.OFFONPn301: Internally Set Speed 1 (SPEED1)ONONPn302: Internally Set Speed 2 (SPEED2)ONOFFPn303: Internally Set Speed 3 (SPEED3)

ONOFFOFF

ReverseStops at 0 of the internally set speed.OFFONPn301: Internally Set Speed 1 (SPEED1)ONONPn302: Internally Set Speed 2 (SPEED2)ONOFFPn303: Internally Set Speed 3 (SPEED3)


5.6.2 Example of Operating with Internally Set Speed


<Supplementary Information>
When Pn000.1 = 4, 5, or 6, and both /P-CL and /N-CL are OFF, the control mode can be switched.
Example:
Pn000.1 = 5: Internally set speed selection (contact reference) ? Position control (pulse train reference)
* Factory-set Sequence Signal Allocations: (Pn50A.0 = 0)

Input SignalSpeed/P-CL/N-CLOFFOFFPulse train reference input (position control)OFFONPn301: Internally Set Speed 1 (SPEED1)ONONPn302: Internally Set Speed 2 (SPEED2)ONOFFPn303: Internally Set Speed 3 (SPEED3)* Changing Sequence Signal Allocations for Each Signal (Pn50A.0 = 1)

Input SignalSpeed/SPD-A/SPD-B/C-SELOFFOFFOFFStops at 0 of the Internally Set SpeedOFFONOFFPn301: Internally Set Speed 1 (SPEED1)ONONOFFPn302: Internally Set Speed 2 (SPEED2)ONOFFOFFPn303: Internally Set Speed 3 (SPEED3)??ONPulse train reference input (position control)Note: Allocate /C-SEL signal to switch the control mode. For details, refer to 3.3.1 Input Circuit Signal Allocation to Input Terminals.

5.6.2 Example of Operating with Internally Set Speed
Operating example of speed control with internally set speed is as shown below.
This example combines speed control with internally set speed with soft start function.
The shock that results when the speed is changed can be reduced by using the soft start function.


Servomotor speed

+SPEED3

+SPEED2

+SPEED1

0

-SPEED1

-SPEED2

-SPEED3



/P-CL (/SPD-A)

/N-CL (/SPD-B)



/P-CON( /SPD-D)









5.7.1 Combination of Control Modes

5.7 Control Selection
SERVOPACK can switch the control mode. Select the control mode with Pn000.
5.7.1 Combination of Control Modes
The following combinations of control modes can be selected with Pn000.

ParameterCombination of Control ModesWhen EnabledClassification







Pn000n.??4?Internally set speed control (contact reference) ?
Speed control (analog voltage reference)







After restart







Setupn.??5?Internally set speed control (contact reference) ?
Position control (pulse train reference)n.??6?Internally set speed control (contact reference) ?
Torque control (analog voltage reference)n.??7?Position control (pulse train reference) ? Speed con- trol (analog voltage reference)n.??8?Position control (pulse train reference) ? Torque con- trol (analog voltage reference)n.??9?Torque control (analog voltage reference) ? Speed control (analog voltage reference)n.??A?Uses /P-CON for zero clamp function.n.??B?Uses /P-CON for reference pulse inhibit function.5.7.2 Switching Internally Set Speed Control (Pn000.1 = 4, 5, or 6)
Conditions for switching in internally set speed control are as shown below.
(1) Factory-set Sequence Signal Allocations (Pn50A.0 = 0)
The control mode can be switched when both /P-CL and /N-CL signals are OFF (high level).
(2) Changing Sequence Signal Allocations for Each Signal (Pn50A.0 = 1)
Allocate the /C-SEL to an input terminal to change modes with the /C-SEL signal.

TypeSignal Name Connector Pin NumberSettingPn000 Setting and Control Moden.??4?n.??5?n.??6?Input/C-SELMust be allocatedONSpeedPositionTorqueOFFInternally set speedInternally set speedInternally set speedNote: To use the /C-SEL signal, the input signal must be allocated. For details, refer to 3.3.1 Input Circuit Signal Alloca- tion.



5.7.3 Switching Other Than Internally Set Speed Control (Pn000.1 = 7, 8, 9, A, or B)
Use the following signals to switch control modes. The control modes switch depending on the signal status as shown below.
(1) Factory-set Sequence Signal Allocations (Pn50A.0 = 0)

TypeSignal Name Connector Pin NumberSettingPn000 Setting and Control Moden.??7?n.??8?n.??9?n.??A?n.??B?
Input
/P-CON
CN1-41ONSpeedTorqueSpeedZero clampINHIBITOFFPositionPositionTorqueSpeedPosition(2) Changing Sequence Signal Allocations for Each Signal (Pn50A.0 = 1)

TypeSignal Name Connector Pin NumberSettingPn000 Setting and Control Moden.??7?n.??8?n.??9?n.??A?n.??B?




Input/C-SEL



Must be allocatedONSpeedTorqueSpeedCan not be switched.Cannot be switched.OFFPositionPositionTorque
/ZCLAMPONCannot be switched.Cannot be switched.Cannot be switched.Zero clampCannot be switched.OFFSpeed
/INHIBIT
ON
Cannot be switched.
Cannot be switched.
Cannot be switched.
Cannot be switched.Reference pulse inhibitedOFFPosition


5.8.1 Internal Torque Limit

5.8 Limiting Torque
The SERVOPACK provides the following four methods for limiting output torque to protect the machine.

Limiting MethodDescriptionReference SectionInternal torque limitAlways limits torque by setting the parameter.5.8.1External torque limitLimits torque by input signal from the host controller.5.8.2Torque limiting by analog voltage referenceAssigns a torque limit by analog voltage reference.5.8.3External torque limit + Torque limiting by analog voltage ref- erenceCombines torque limiting by an external input and by analog volt- age reference.
5.8.45.8.1 Internal Torque Limit
This function always limits maximum output torque by setting values of following parameters.



Pn402Forward Torque Limit	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 8001%800ImmediatelySetup

Pn403Reverse Torque Limit	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 8001%800ImmediatelySetup
Alalog Monitor Output

     No Internal Torque Limit (Maximum Torque Can Be Output)
Internal Torque Limit


V
          Speed Maximum torque


Pn403

V
Pn402
          Speed Limiting torque
The setting unit is a percentage of rated torque.
Note 1. Too small a torque limit setting will result in insufficient torque during acceleration and deceleration.
2. The maximum torque of the servomotor is used whenever the value exceeds the maximum torque is set. (factory setting is 800%: maximum torque)



5.8.2 External Torque Limit
Use this function to limit torque by inputting a signal from the host controller at a specific times during machine operation, such as forced stop or hold operations for robot workpieces.
(1) Input Signals

TypeSignal Name Connector Pin NumberSettingMeaningLimit value
Input
/P-CL
CN1-45
[Factory setting]ONForward external torque limit ONThe value set in Pn402 or Pn404 (whichever is smaller)OFFForward external torque limit OFFPn402
Input
/N-CL
CN1-46
[Factory setting]ONReverse external torque limit ONThe value set in Pn403 or Pn405 (whichever is smaller)OFFReverse external torque limit OFFPn403Note: When using external torque limit, make sure that there are no other signals allocated to the same terminals as /P-CL and /N-CL. When multiple signals are allocated to the same terminal, the signals are handled with OR logic, which affects the ON/OFF state of the other signals. Refer to 3.3.1 Input Circuit Signal Allocation.
(2) Related Parameters
Set the following parameters for external torque limit.



Pn404Forward External Torque Limit	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 8001%100ImmediatelySetup

Pn405Reverse External Torque Limit	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 8001%100ImmediatelySetupNote: Setting unit is percentage to the servomotor rated torque. (Rated torque limits 100 %).



5.8.3 Torque Limiting Using an Analog Voltage Reference


(3) Changes in Output Torque during External Torque Limiting
Changes in output torque when external torque limit is set to 800% are as shown below. In this example, the servomotor rotation direction is Pn000.0 = 0 (CCW = forward).
/N-CL Status/P-CL (Forward external torque limit input)OFFON
Pn403


Torque







Speed
Pn403


Torque







Speed
OFF

0

0
Pn404/N-CL (Reverse external torquePn402
Pn402



Torque







Speedlimit input)Pn403Pn403TorquePn405Pn405ON00
Pn404SpeedPn402Pn4025.8.3 Torque Limiting Using an Analog Voltage Reference
Torque limiting by analog voltage reference limits torque by assigning a torque limit in an analog voltage to the T-REF terminals (CN1-9 and 10). This function can be used only during speed or position control, not dur- ing torque control.
The following chart shows when the torque limiting using an analog voltage reference in the speed control.

SERVOPACK

Torque limit value


Speed reference





<Supplementary Information>
There is no polarity in the input voltage of the analog voltage reference for torque limiting. The absolute val- ues of both + and - voltages are input, and a torque limit value corresponding to that absolute value is applied in the forward and reverse direction.



(1) Input Signals
Use the following input signals to limit a torque by analog voltage reference.





The torque limit input gain is set with Pn400. Refer to 5.5.1 Basic Settings for Torque Control Mode. Input Specifications
• Input range: ?1 VDC to ?10 VDC/rated torque
• Maximum allowable input voltage: ?12 VDC
(2) Related Parameter
Set the following parameter for torque limit by analog voltage reference.

ParameterMeaningWhen EnabledClassificationPn002n.???1Speed control option: Uses the T-REF terminal to be used as an external torque limit input.After restartSetup


Pn415T-REF Filter Time Constant	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 65535
(0 to 655.35 ms)0.01 ms0
(0.00 ms)ImmediatelySetup5.8.4 Torque Limiting Using an External Torque Limit and Analog Voltage Reference
This function can be used to combine torque limiting by an external input and by analog voltage reference.
When /P-CL (or /N-CL) is ON, either the torque limit by analog voltage reference or the setting in Pn404 (or Pn405) will be applied as the torque limit, whichever is smaller.

SERVOPACK

/P-CL
/N-CL

Torque limit value


Speed reference






Note: This function cannot be used during torque control since the torque limit by analog voltage reference is input from T-REF (CN1-9, 10).



5.8.4 Torque Limiting Using an External Torque Limit and Analog Voltage Reference


(1) Input Signals
Use the following input signals to limit a torque by external torque limit and analog voltage reference.

TypeSignal Name Connector Pin NumberNameInputT-REFCN1-9Torque reference inputSGCN1-10Signal ground for torque reference inputThe torque limit input gain is set with Pn400. Refer to 5.5.1 Basic Settings for Torque Control Mode. Input Specifications
• Input range: ?1 VDC to ?10 VDC/rated torque
• Maximum allowable input voltage: ?12 VDC

TypeSignal Name Connector Pin NumberSettingMeaningLimit Value

Input

/P-CL
CN1-45
[Factory setting]
ON
Forward external torque limit ONThe analog voltage reference limit or the value set in Pn402 or Pn404 (whichever is smaller)OFFForward external torque limit OFFPn402

Input

/N-CL
CN1-46
[Factory setting]
ON
Reverse external torque limit ONThe analog voltage reference limit or the value set in Pn403 or Pn405 (whichever is smaller)OFFReverse external torque limit OFFPn403Note: When using the torque limit by external torque limit and analog voltage reference, make sure that there are no other signals allocated to the same terminals as /P-CL and /N-CL. When multiple signals are allocated to the same termi- nal, the signals are handled with OR logic, which affects the ON/OFF state of the other signals. Refer to 3.3.1 Input Circuit Signal Allocation.
(2) Related Parameters
Set the following parameters for torque limit by external torque limit and analog voltage reference.

ParameterMeaningWhen EnabledClassificationPn002n.???3Speed control option: When /P-CL or /N-CL is enabled, the T-REF terminal is used as the external torque limit input.
After restart
Setup

Pn404Forward External Torque Limit	Speed	Position	TorqueClassificationSetting RangeSetting UnitFactory SettingWhen EnabledSetup0 to 8001%100Immediately
Pn405Reverse External Torque Limit	Speed	Position	TorqueClassificationSetting RangeSetting UnitFactory SettingWhen EnabledSetup0 to 8001%100ImmediatelyNote: Setting unit is percentage to the servomotor rated torque. (Rated torque limits 100%).



Pn415T-REF Filter Time Constant	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 65535
(0 to 655.35 ms)0.01 ms0
(0.00 ms)ImmediatelySetup


5.8.5 Checking Output Torque Limiting during Operation
The following signal can be output to indicate that the servomotor output torque is being limited.

TypeSignal Name Connector Pin NumberSettingMeaning
Output
/CLT
Must be allocatedON (close)Servomotor output torque is being lim- ited.OFF (open)Torque is not being limited.For the allocation method, refer to 3.3.1 Input Circuit Signal Allocation.



5.9.1 Encoder Resolutions

5.9 Absolute Encoders
If a motor with an absolute encoder is used, a system to detect the absolute position can be made in the host controller. Consequently, operation can be performed without zero point return operation immediately after
the power is turned ON.






Absolute Encoder TypeResolutionOutput Range of Multiturn DataAction when Limit Is Exceeded
? Series SGD SGDA SGDB

12-bit 15-bit

-99999 to
+ 99999• When the upper limit (+99999) is exceeded in the forward direction, the multiturn data is 0.
• When the lower limit (-99999) is exceeded in the reverse direction, the multiturn data is 0.
?-II? ?-III Series SGDM
SGDH SGDS

17-bit

-32768 to
+ 32767• When the upper limit (+32767) is exceeded in the forward direction, the multiturn data is -32768.*
• When the lower limit (-32767) is exceeded in the reverse direction, the multiturn data is +32768.*

?-V Series

20-bit

-32768 to
+ 32767• When the upper limit (+32767) is exceeded in the forward direction, the multiturn data is -32768.*
• When the lower limit (-32767) is exceeded in the reverse direction, the multiturn data is +32768.*



5.9.1 Encoder Resolutions
The following table shows the encoder resolutions for each servomotor model.

Servomotor ModelEncoder ResolutionSGMJV13-bitSGMAV / SGMJV / SGMGV / SGMCS20-bit<Supplementary Information>
Absolute encoder can be used as an incremental encoder by setting with Pn002.

ParameterMeaningWhen EnabledClassification
Pn002n.?0??Use the absolute encoder as an absolute encoder. (Fac- tory setting)
After restart
Setupn.?1??Use the absolute encoder as an incremental encoder.The SEN signal and back-up battery are not required when using the absolute encoder as an incremental encoder.



5.9.2 Standard Connection Diagram for an Absolute Encoder and Setting the SEN Signal
A standard connection example for a servomotor with an absolute encoder, the SERVOPACK, and host con- troller is shown below.
The SEN signal must be set for the SERVOPACK to output absolute data. For details, refer to (2) Setting the SEN Signal.
(1) Standard Connection Diagram
The following diagram shows the standard connections for an absolute encoder.


Host controller

SERVOPACK	Encoder














Applicable line driver:
Texas Instruments's SN75175 or KM3486 Terminating resistance R: 220 to 470 ?

?   ?Represents twisted-pair wires.
Note: Set the SEN signal to low level when the main circuit power to the SERVOPACK is turned OFF.


Note: The connection cable models and wiring pin numbers depend on the servomotor.
(2) Setting the SEN Signal


TypeSignal Name Connector Pin NumberSettingMeaningInputSENCN1-4OFF (low level)Input when power is turned ONON (high level)Input at absolute data request

For the details of the absolute data reception sequence, refer to 5.9.6 Absolute Encoder Reception Sequence.
Note 1. After turning the power ON, turn ON the SEN signal after/ ALM signal is turned ON and then OFF.
2. When the SEN signal changes from low level to high level, the multiturn data and initial incremental pulses are output. Until these operations have been completed, the motor cannot be operated regardless of the status of the servo ON. The panel operator display will also remain "bb."


Host controller	SERVOPACK


We recommend a PNP transistor. Signal levels
High: 4.0 V min., Low: 0.8 V max.



5.9.3 Absolute Encoder Data Backup

5.9.3 Absolute Encoder Data Backup
In order for the absolute encoder to retain position data when the power is turned OFF, the data must be backed up by a battery.

(1) Battery Provided for SERVOPACK
1. Open the battery case cover.
2. Mount the battery (JZSP-BA01) as shown below.
To the SERVOPACK


3. Close the battery case cover.


(2) Installing the Battery at the Host Controller
Prepare following the host controller specification. Use an ER6VC3 battery (3.6 V, 200 mAh: manufactured by Toshiba Battery Co., Ltd.) or an equivalent.



5.9.4 Encoder Battery Alarm (A. 830)
If the battery voltage drops to approximately 2.7 V, an encoder battery alarm (A.830) or encoder battery warn- ing (A.930) will be displayed.
If an alarm or warning is displayed, replace the batteries using the following procedure. Use Pn008 to set either an alarm (A830) or a warning (A.930).
ParameterMeaningWhen EnabledClassification
Pn008n.???0Outputs the alarm A.830 when the battery voltage drops. (Factory setting)
After restart
Setupn.???1Outputs the warning A.930 when the battery voltage drops.• If Pn008.0 is set to 0, alarm detection will be enabled for 4 seconds after the ALM signal turns ON when the power is turned ON.
Note: No alarm will be displayed even if the battery is disconnected after 4 seconds.
• The battery voltage will be always monitored if Pn008.0 is set to 1.





Control power
ALM



OFF (close)
 
ON (open) ON (open)



Alarm A.830 (Pn008.0 = 0)


Warning A.930 (Pn008.0 = 1)

(1) Battery Replacement Procedure
1. Turn ON only the SERVOPACK control power supply.
2. Replace the battery.
3. After replacing the battery, turn OFF the SERVOPACK power to cancel the absolute encoder battery alarm (A.830).
4. Turn ON the SERVOPACK power back again.
5. Check that the error display is cancelled and it operates without any problems.




5.9.5 Absolute Encoder Setup

5.9.5 Absolute Encoder Setup

Setting up the absolute encoder is necessary in the following cases.
• When starting the machine for the first time
• When an encoder backup error alarm (A.810) is generated
• When an encoder checksum error alarm (A.820) is generated
 • To set the absolute encoder multiturn data to 0 Setup the absolute encoder with Fn008.
(1) Precautions on Setup
• Encoder setup operation is only possible when the servo is OFF.
• If the following absolute encoder alarms are displayed, cancel the alarm by using the same method as the setup (initializing). They cannot be canceled with the SERVOPACK alarm reset input signal (/ALM-RST).
• Encoder backup error alarm (A.810)
• Encoder checksum error alarm (A.820)
• Any other alarms that monitor the inside of the encoder should be canceled by turning OFF the power, then canceling the alarm.
(2) Procedure for Setup
Follow the steps below to setup the absolute encoder.

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or the DOWN Key to select Fn008.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4




MODE/SET	DATA/Continue pressing the UP Key until "PGCL5" is displayed.
*If there is a mistake in the key operation, "nO_OP" will blink for approximately one second. Start the operation from the beginning.
5




MODE/SET	DATA/Press the MODE/SET Key. The absolute encoder is initial- ized.
When completed, "donE" blinks for approximately one sec- ond.
6

"PGCL5" is displayed again.
7




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn008" is displayed again.8Turn OFF the power, and then turn it ON again to make the setting valid.


5.9.6 Absolute Encoder Reception Sequence
The sequence in which the SERVOPACK receives outputs from the absolute encoder and transmits them to host device is shown below.
(1) Outline of Absolute Signals
The serial data, pulses, etc., of the absolute encoder that are output from the SERVOPACK are output from the PAO, PBO, and PCO signals as shown below.

SERVOPACK

SEN






Signal NameStatusContents
PAOAt initializationSerial data
Initial incremental pulsesNormal timeIncremental pulsesPBOAt initializationInitial incremental pulsesNormal timeIncremental pulsesPCOAlwaysOrigin pulses(2) Absolute Encoder Transmission Sequence and Contents
* Absolute Encoder Transmission Sequence
1. Set the SEN signal at ON (high level).
2. After 100 ms, set the system to serial data reception-waiting-state. Clear the incremental pulse up/down counter to zero.
3. Receive eight bytes of serial data.
4. The system enters a normal incremental operation state about 400 ms after the last serial data is received.


SEN signal	

Rotation count serial data





Initial



Incremental pulses

PAO PBO



Serial data:

Undefined Undefined









50 ms






60 ms min.
90 ms typ.

About 15 ms

incremental pulses
(Phase A)
Initial incremental pulses
(Phase B)


400 ms max.
1 to 3 ms


(Phase A)
Incremental pulses
(Phase B)

Indicates how many turns the motor shaft has made from the reference position (position specified at setup).



5.9.6 Absolute Encoder Reception Sequence


Initial incremental pulses:
Outputs pulses at the same pulse rate as when the motor shaft rotates from the origin to the current position at about 1250 min-1 (for 17 bits when the encoder output pulse is at the factory setting)



Coordinate value
Value M

Reference position (setup)

Current position





Final absolute data PM is calculated by following formula. PE=M ? R+PO
PM=PE-PS

SignalMeaningPECurrent value read by encoderMMultiturn data (rotation count data)PONumber of initial incremental pulsesPSNumber of initial incremental pulses read at setup (This is saved and controlled by the host control- ler.)MSMultiturn data read at setupPS'Initial incremental pulses read at setupPMCurrent value required for the user's system.RNumber of pulses per encoder revolution (pulse count after dividing, value of Pn212)


(3) Detailed Signal Specifications
Refer to the following detailed signal specifications.
* PAO Serial Data Specifications
The number of revolutions is output in five digits.

Data Transfer MethodStart-stop Synchronization (ASYNC)Baud rate9600 bpsStart bits1 bitStop bits1 bitParityEvenCharacter coderASCII 7-bit coderData format8 characters, as shown below.
"P"	"+" or "-"	"0" to "9"	"CR"




0 0 0 0 0 1 0 1 0 1
      Data		Stop bit Start bit	Even parity
Note:
• Data is "P+00000" (CR) or "P-00000" (CR) when the number of revolutions is zero.
• The revolution range is "+32767" to "-32768." When this range is exceeded, the data changes from "+32767" to "-32678" or from "-32678" to "+32767." When changing multi- turn limit, the range changes. For details, refer to 5.9.7 Multiturn Limit Setting.* Incremental Pulses and Origin Pulses
Just as with normal incremental pulses, initial incremental pulses which provide absolute data are first divided by the frequency divider inside the SERVOPACK and then output.
For details, refer to 5.3.6 Encoder Pulse Output.




Phase A Phase B
Phase C

Forward rotation



Phase A

Phase B Phase C

Reverse rotation




t




5.9.7 Multiturn Limit Setting


(4) Transferring Alarm Contents
If an absolute encoder is used, the contents of alarms detected by the SERVOPACK can be transmitted in serial data to the host controller from the PAO output when the SEN signal changes to low level from high level.
Note: SEN signal cannot be received during Servo ON.
Output example of alarm contents are as shown below.
















5.9.7 Multiturn Limit Setting

The parameter for the multiturn limit setting sets the upper limit for the multiturn data from the encoder when using an absolute encoder. When the rotation amount exceeds this setting, the encoder rotation amount returns
to 0.


Pn205Multiturn Limit Setting	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 655351 Rev65535After restartSetupNote 1. This parameter is valid when the absolute encoder is used.
2. The range of the multiturn data will vary when this parameter is set to anything other than the factory setting.
3.

Factory Setting (= 65535)Without Factory Setting (?65535)


Multiturn 0 data
Reverse
+32767 Forward	direction
direction





-32768	No. of rotationsPn205 setting value
Forward direction
Reverse directionMultiturn data0
No. of rotations




• When Set to Anything Other than the Factory Setting (? 65535)
1. When the motor rotates in the reverse direction with the multiturn data at 0, the multiturn data will change to the set- ting of Pn205.
2. When the motor rotates in the forward direction with the multiturn data at the Pn205 setting, the multiturn data will change to 0.
Set the value, the desired multiturn amount -1, to Pn205.
5.9.8 Multiturn Limit Disagreement Alarm (A.CC0)

Position detection

(Revolution counter) Detection amount
                 Position	(Absolute encoder) Travel distance/motor = 1 revolution

When the multiturn limit set value is changed with parameter Pn205, an alarm A.CC0 (multiturn limit dis- agreement) will be displayed.

 Alarm DisplayAlarm NameAlarm Code OutputMeaningA.CC0Multiturn Limit Dis- agreementALO1ALO2ALO3Different multiturn limits have been set in the encoder and SERVOPACK.ON (L)OFF (H)ON (L)If this alarm is displayed, perform the operation described below and change the multiturn limit value in the encoder to the value set in Pn205.

StepDisplay after OperationKeysDescription
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn013.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4




MODE/SET



DATA/Press the MODE/SET Key. The multiturn limit setting in the absolute encoder is changed.
When the setting is completed, "donE" blinks for approxi- mately one second.
5

"PGSEt" is displayed again.
6




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn013" is displayed again.7Turn OFF the power, and then turn it ON again to make the setting valid.


5.10.1 Servo Alarm Output Signal (ALM) and Alarm Code Output Signals (ALO1, ALO2, and ALO3)

5.10 Output Signals Used in All Control Modes
This section explains other output signals that are not directly related to any specific control mode. Use these signals according to the application needs, e.g., for machine protection.
5.10.1 Servo Alarm Output Signal (ALM) and Alarm Code Output Signals (ALO1, ALO2, and ALO3)
This section describes signals that are output when the SERVOPACK detects errors and resetting methods.
(1) Servo Alarm Output Signal (ALM)
This signal is output when the SERVOPACK detects an error.


TypeSignal Name Connector Pin NumberSettingMeaningOutputALMCN-31, 32OFF (close)Normal SERVOPACK statusON (open)SERVOPACK alarm status(2) Alarm Code Output Signals (ALO1, ALO2, and ALO3)
The ON/OFF combination of these signals specifies the type of alarm detected by the SERVOPACK. Use these signals as required to display the contents of the alarm at the host.
For details, refer to 10.1.1 List of Alarms.

TypeSignal Name Connector Pin NumberMeaning

OutputALO1CN1-37Alarm code outputALO2CN1-38Alarm code outputALO3CN1-39Alarm code outputSGCN1-1Signal ground for alarm code output



(3) Alarm Reset Method
If a servo alarm (ALM) occurs, use one of the following methods to reset the alarm after eliminating the cause of the alarm.

* Resetting Alarms by Turning ON the /ALM-RST Signal (High Level to Low Level)

TypeSignal NameConnector Pin NumberMeaningInput/ALM-RSTCN1-44Alarm resetNote 1. The /ALM-RST signal will not always reset encoder-related alarms. If an alarm cannot be reset with /ALM-RST, cycle the control power supply.
2. The /ALM-RST signal cannot be set so that it is always enabled by assigning an external input signal. Reset alarms by turning ON the /ALM-RST signal (high level to low level).
<Supplementary Information>
The /ALM-RST signal can be allocated to another output terminal using Pn50E. For details, refer to 3.3.3 Out- put Circuit Signal Allocation.
* Resetting Alarms Using the Panel Operator
Simultaneously press the UP and the DOWN Keys on the panel operator.
* Resetting Alarms Using the Digital Operator
Press the ALARM RESET Key on the digital operator.
5.10.2 Warning Output Signal (/WARN)
This signal is output if a warning, such an overload alarm (A.710) or regenerative overload alarm (A.320), occurs.

(1) Signal Specifications

TypeSignal NameConnector Pin NumberSettingMeaningOutput/WARNMust be allocatedON (close)Normal statusOFF (open)Warning statusNote: The /WARN signal must be allocated. For details, refer to 3.3.3 Output Circuit Signal Allocation.
(2) Related Parameters
Set the output method for alarm codes using the following parameter.
For details on alarm codes, refer to 5.10.1 Servo Alarm Output Signal (ALM) and Alarm Code Output Signals (ALO1, ALO2, and ALO3).

ParameterMeaningWhen EnabledClassification

Pn001n.0???Outputs alarm codes alone for alarm codes ALO1, ALO2 and ALO3.

After restart

Setupn.1???Outputs both alarm and warning codes for alarm codes ALO1, ALO2 and ALO3, and outputs an alarm code when an alarm occurs.


5.10.3 Rotation Detection Output Signal (/TGON)

5.10.3 Rotation Detection Output Signal (/TGON)
This output signal indicates that the servomotor is rotating at the speed set for Pn502 or a higher speed. The status of the signal can be checked with the panel operator or digital operator.


(1) Signal Specifications

TypeSignal NameConnector Pin NumberSettingMeaning
Output
/TGON
CN1-27, 28
[Factory setting]ON (close)Servomotor is rotating (motor speed is above the setting in Pn502.)OFF (open)Servomotor is rotating (motor speed is below the setting in Pn502.)<Supplementary Information>
The /TGON signal can be allocated to another output terminal using Pn50E. For details, refer to 3.3.3 Output Circuit Signal Allocation.
(2) Related Parameters
Set the range in which the /TGON signal is output using the following parameter.


Pn502Rotation Detection Level	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 100001 min-120ImmediatelySetup5.10.4 Servo Ready Output Signal (/S-RDY)
This signal is output when the SERVOPACK is ready to accept the servo ON signal, i.e., the main circuit power supply is ON with no servo alarms.
? If an absolute encoder is used, the output of absolute value data to the host must have been completed when the SEN signal is ON (high level) before /S-RDY is output.
(1) Signal Specifications

TypeSignal NameConnector Pin NumberSettingMeaningOutput/S-RDYCN1-29, 30
[Factory setting]ON (close)Servo is ready.OFF (open)Servo is not ready.<Supplementary Information>
The /S-RDY signal can be allocated to another output terminal using Pn50E. For details, refer to 3.3.3 Output Circuit Signal Allocation.


5.11 Safety Function
The safety function is incorporated in the SERVOPACK to reduce the risk associated with the machine by pro- tecting workers from injury and by securing safe machine operation. Especially when working in hazardous areas inside the safeguard, as for machine maintenance, it can be used to avoid adverse machine movement.
5.11.1 Hard Wire Base Block (HWBB) Function
The Hard Wire Base Block function (hereinafter referred to as HWBB function) is a safety function designed to baseblock the motor (shut off the motor current) by using the hardwired circuits: Each circuit for two chan- nel input signals blocks the run signal to turn off the power module, and the motor current is shut off. (Refer to the diagram below.)

(1) Risk Assessment
Perform risk assessment for the system and confirm that the safety requirements with the following standards are fulfilled before using the HWBB function.
EN954 Category3 IEC61508 SIL2
The following risks can be estimated even if the HWBB function is used. These risks must be included in the risk assessment.
• The motor will rotate in an application where external force is applied to the motor (for example, gravity on the vertical axis). Take measures to secure the motor, such as installing a mechanical brake.
• The motor may move within the electric angle of 180 degrees in case of the power module failure, etc. The number of rotations or movement distance depends on the motor type as shown below.
Rotary motor: 1/6 rotation max. (rotation angle at the motor shaft) Direct-drive motor:1/20 rotation max. (rotation angle at the motor shaft) Linear motor: 30 mm max.
• The HWBB function does not shut off the power to the servodrive or electrically isolates it. Take measures to shut off the power to the servodrive when performing maintenance on it, etc.



5.11.1 Hard Wire Base Block (HWBB) Function


(2) Hard Wire Base Block (HWBB) State
The SERVOPACK will be in the following state if the HWBB function operates. If the /HWBB1 or /HWBB2 signal is OFF, the HWBB function will operate and the SERVOPACK will enter a hard wire baseblock (HWBB) state.
/HWBB1
/HWBB2
       /S-ON SERVOPACK
state

(3) Resetting the HWBB State
Usually, after a baseblock state is set (servomotor turned OFF) with the servo OFF command, the SERVO- PACK will enter an HWBB state with the /HWBB1 and /HWBB2 signals turned OFF. By turning /HWBB1 and /HWBB2 signals ON in this state, the SERVOPACK will enter a baseblock (BB) state and can accept the servo ON command.
/HWBB1
/HWBB2
       /S-ON SERVOPACK
state

If the /HWBB1 and /HWBB2 signals are OFF and the servo ON command is input, the HWBB state will be maintained after the /HWBB1 and /HWBB2 signals are turned ON.
Input the servo OFF command and set the SERVOPACK to BB state. Then input the servo ON command again.

/HWBB1
/HWBB2
       /S-ON SERVOPACK
state

Note 1. If the SERVOPACK is set to BB state with the main power supply turn OFF, the HWBB state will be maintained until the servo OFF command is input.
2. The HWBB state cannot be reset if the /S-ON signal is set to be constantly enabled in the /S-ON signal allocation (Pn50A.1). Do not make this setting if the HWBB function is being used.
(4) Error Detection in HWBB Signal
If only the /HWBB1 or /HWBB2 signal is input, an A.Eb1 alarm (Safety Function Signal Input Timing Error) will be occur unless the other signal is input within 10 seconds. This makes it possible to detect failures, such as disconnection of the HWBB signals.
Note: The A.Eb1 alarm (Safety Function Signal Input Timing Error) is not related to the safety function. Keep this in mind in the system design.



(5) Connection Example and Specifications of Input Signals (HWBB Signals)
The input signals must be redundant. A connection example and specifications of input signals (HWBB sig- nals) are shown below.

* Connection Example for Input Signals (HWBB Signals)

24 V power

* Specifications of Input Signals (HWBB Signals)

TypeSignal NamePin NumberStateMeaning


Input
/HWBB1CN8-4
CN8-3ONNormal operationOFFRequires the HWBB function by using the hardwired cir- cuits.
/HWBB2CN8-6
CN8-5ONNormal operationOFFRequires the HWBB function by using the hardwired cir- cuits.The input signals (HWBB signals) have the following electrical characteristics.

ItemsCharacteristicsRemarksInternal impedance3.3 k?Operation movable voltage range+11 V to + 25 VMaximum delay time20 msTime from the /HWBB1 and /HWBB2 signals are OFF to the HWBB function operates.Note: Use a relay or switch that has micro-current contacts.
If the HWBB function is requested by turning OFF the /HWBB1 and /HWBB2 input signals on the two channels, power supply to the motor will be turned OFF within 20 ms (see below).


/HWBB1
/HWBB2


SERVOPACK
State

Note: The OFF status is not recognized if the /HWBB1 and /HWBB2 signals are 0.5 ms or shorter.



5.11.1 Hard Wire Base Block (HWBB) Function


(6) Operation with Utility Functions
The HWBB function works while the SERVOPACK operates in utility function mode.
If any of the following utility functions is being used with the /HWBB1 and /HWBB2 signals turned OFF, the SERVOPACK cannot be operated by turning ON the /HWBB1 and /HWBB2 signals. Cancel the utility func- tion first, and then set the SERVOPACK to the utility function mode again and restart operation.
• JOG operation (Fn002)
• Origin search (Fn003)
• Program JOG operation (Fn004)
• Advanced autotuning (Fn201)
• EasyFFT (Fn206)
• Automatic offset-adjustment of motor current detection signal (Fn00E)
(7) Servo Ready Output (/S-RDY)
The servo ON command will not be accepted in the HWBB state. Therefore, the servo ready output will turn OFF.
The servo ready output will turn ON if the /S-ON signal is turned OFF (set to BB state) when both the / HWBB1 and /HWBB2 signals are ON.
The following diagram shows an example where the main circuit is turned power ON, the SEN signal is turned ON (with an absolute encoder), and no servo alarm occurs.
/HWBB1
/HWBB2



/S-ON



SERVOPACK
State



/S-RDY

(8) Brake Signal (/BK)
When the /HWBB1 or /HWBB2 signal is OFF and the HWBB function operates, the brake signal (/BK) will turn OFF. At that time, Pn506 (Brake Reference - Servo OFF Delay Time) will be disabled. Therefore, the ser- vomotor may be moved by external force until the actual brake becomes effective after the brake signal (/BK) turns ON.
Note: The brake signal output is not related to safety functions. Be sure to design the system so that the system will not be put into danger if the brake signal fails in the HWBB state. Moreover, if a servomotor with a brake is used, keep in mind that the brake for the servomotor is used only to stop the motor from moving and it cannot be used to brake the motor.
(9) Dynamic Brake
If the dynamic brake is enabled in Pn001.0 (stopping method after servo OFF), the servomotor will come to a stop under the control of the dynamic brake when the HWBB function works while the /HWBB1 or /HWBB2 signal is OFF.
Note: The dynamic brake is not related to safety function. Be sure to design the system so that the system will not be put into danger if the servomotor coasts to a stop in the HWBB state. Usually, use a sequence in which the HWBB state occurs after the servomotor is stopped using a command.






(10) Position Error Clear Section
A position error in the HWBB state is cleared according to the setting in Pn200.2 for the clear operation selec- tion.
If Pn200.2 is set to 1 (i.e., the position error is not cleared for position control), the position error pulses will be accumulated unless the position reference from the host is canceled in the HWBB state, and the following condition may result.
• A position error pulse overflow alarm (A.d00) occurs.
• If the servo is turned ON after changing from HWBB state to BB state, the motor will move for the accumu- lated position error.
Therefore, stop the position reference through the host while in HWBB state. If Pn200.2 is set to 1 (i.e., the position error is not cleared), input the clear (CLR) signal while in HWBB or BB state to clear the position error.
5.11.2 External Device Monitor (EDM1)
The external device monitor (EDM1) functions to monitor failures in the HWBB function. Connect the moni- tor to feedback signals to the safety unit. The relation of the EDM1, /HWBB1, and /HWBB2 signals is shown below.

* Failure Detection Signal for EDM1 Signal
Detection of failures in the EDM1 circuit can be checked using the following four status of the EDM1 signal in the table. Failures can be detected if the failure status can be confirmed, e.g., when the power supply is turned ON.




5.11.2 External Device Monitor (EDM1)


(1) Connection Example and Specifications of EDM1 Output Signal
Connection example and specifications of EDM1 output signal are explained below.
* Connection Example
EDM1 output signal is used for source circuit.

* Specifications

TypeSignal NamePin No.Input StatusMeaning
Output
EDM1CN9-8 CN9-7ONBoth baseblocks by /HWBB1 signal and /HWBB2 signal normally activate.OFF?Electrical characteristics of EDM1 signal are as follows.

ItemsCharacteristicsRemarksMaximum Allowable Voltage30 VDC?Maximum Current50 m ADC?Maximum Voltage Drop at ON1.0 VVoltage between EDM1+ to EDM1- at current is 50 mA.Maximum Delay Time20 msTime from change of /HWBB1, /HWBB2 to change of EDM1


5.11.3 Application Example of Safety Functions
An example of using safety functions is shown below.
(1) Connection Example
In the following example, a safety unit is used and the HWBB function operates when the guard opens.


When a guard opens, both of signals, the /HWBB1 and the /HWBB2, turn OFF, and the EDM1 signal is ON. Since the feedback is ON when the guard closes, the safety unit is reseted, and the /HWBB1 and the /HWBB2 signals turn ON, and the operation becomes possible.
Note: Connect the EDM1 as the direction of current flows from EMD1+ to EMD1-, because the EMD1 has polarity with a transistor output.
(2) Failure Detection Method
In case of a failure such as the /HWBB1 or the /HWBB2 signal remains ON, the safety unit is not reseted because the EDM1 signal keeps OFF. Therefore starting is impossible, then the failure is detected.
An error in the external device, disconnection or short-circuiting of the external wiring, or a failure in the SERVOPACK must be considered. Find the cause and correct the problem.



5.11.4 Confirming Safety Functions


(3) Usage Example




















5.11.4 Confirming Safety Functions
When starting the equipment or replacing the SERVOPACK for maintenance, be sure to conduct the following confirmation test on the HWBB function after wiring.
• When the /HWBB1 and /HWBB2 signals turn OFF, check that the panel operator or digital operator dis- plays "Hbb" and that the motor does not operate.
• Check the ON/OFF states of the /HWBB1 and /HWBB2 signals with bits 0 and 1 of Un015.
? If the ON/OFF states of the signals do not coincide with the display, an error in the external device, dis- connection or short-circuiting of the external wiring, or a failure in the SERVOPACK must be considered. Find the cause and correct the problem.
• Check with the display of the feedback circuit input of the connected device to confirm that the EDM1 sig- nal is OFF while in normal operation.
5.11.5 Precautions for Safety Functions



6

Adjustments



6.1 Adjustments and Basic Adjustment Procedure	6-3
6.1.1 Adjustments	6-3
6.1.2 Basic Adjustment Procedure	6-4
6.1.3 Monitoring Analog Signals	6-5
6.1.4 Safety Precautions on Adjustment of Servo Gains	6-7
6.2 Tuning-less Function (Fn200)	6-10
6.2.1 Tuning-less Function	6-10
6.2.2 Tuning-less Operating Procedure	6-11
6.3 Advanced Autotuning (Fn201)	6-15
6.3.1 Advanced Autotuning	6-15
6.3.2 Advanced Autotuning Procedure	6-19
6.3.3 Related Parameters	6-24
6.4 Advanced Autotuning by Reference (Fn202)	6-25
6.4.1 Advanced Autotuning by Reference	6-25
6.4.2 Advanced Autotuning by Reference Procedure	6-29
6.4.3 Related Parameters	6-31
6.5 One-parameter Tuning (Fn203)	6-32
6.5.1 One-parameter Tuning	6-32
6.5.2 One-parameter Tuning Procedure	6-34
6.5.3 One-parameter Tuning Example	6-38
6.5.4 Related Parameters	6-39
6.6 Anti-Resonance Control Adjustment Function (Fn204)	6-40
6.6.1 Anti-Resonance Control Adjustment Function	6-40
6.6.2 Anti-Resonance Control Adjustment Function Operating Procedure	6-41
6.6.3 Related Parameters	6-45
6.7 Vibration Suppression Function (Fn205)	6-46
6.7.1 Vibration Suppression Function	6-46
6.7.2 Vibration Suppression Function Operating Procedure	6-47
6.7.3 Related Parameters	6-49
6.8 Servo Gain Adjustment Application Function	6-50
6.8.1 Feedforward Reference	6-51
6.8.2 Torque Feedforward	6-52
6.8.3 Speed Feedforward	6-53
6.8.4 Proportional Control Operation (Proportional Operation Reference)	6-54

6.8.5 Using the Mode Switch (P/PI Switching)	6-55
6.8 Servo Gain Adjustment Application Function	6-50
6.8.1 Feedforward Reference	6-51
6.8.2 Torque Feedforward	6-52
6.8.3 Speed Feedforward	6-53
6.8.4 Proportional Control Operation (Proportional Operation Reference)	6-54
6.8.5 Using the Mode Switch (P/PI Switching)	6-55
6.8.6 Switching Gain Settings	6-59
6.8.7 Torque Reference Filter	6-63
6.8.8 Position Integral Time Constant	6-65
6.8.9 Friction Compensation	6-66


6.1 Adjustments and Basic Adjustment Procedure
This section describes adjustments and the basic adjustment procedure.
6.1.1 Adjustments
Tuning is performed to optimize the responsiveness of the SERVOPACK.
The responsiveness is determined by the servo gain that is set in the SERVOPACK.
The servo gain is set using a combination of parameters. These parameters influence each other. Therefore, the servo gain must be set considering the balance between the set values.
Generally, the responsiveness of a machine with high rigidity can be improved by increasing the servo gain. If the servo gain of a machine with low rigidity is increased, however, the machine will vibrate and the respon- siveness may not be improved.
It is possible to suppress the vibration with a variety of vibration suppression functions in the SERVOPACK.
The servo gains are factory-set to stable values, and responsiveness can be increased depending on the actual machine conditions.
This section describes the following utility adjustment functions.

Utility Function for AdjustmentOutlineApplicable Control ModeOperationTuning-less Function (Fn200)This function obtains a stable response with- out adjustment regardless of the type of machine or changes in the load.Speed and PositionOperate from the panel operator, digital operator or
SigmaWin+.Advanced Autotuning (Fn201)Advanced autotuning automatically adjusts the load moment of inertia, gains, and filters with internal references in the SERVOPACK.Speed and PositionOperate from the digital opera- tor or SigmaWin+.Reference Input- type Advanced Autotuning (Fn202)Reference input-type advanced autotuning automatically makes adjustments with the position reference input from the host con- troller while the machine is in operation.
Position
Operate from the digital opera- tor or SigmaWin+.
One-parameter Tuning (Fn203)One-parameter tuning is used to manually make gain and filter adjustments. Position, speed loop gain, filter, and friction compensa- tion adjustments are possible.
Speed and PositionOperate from the panel operator, * digital operator or
SigmaWin+.Anti-Resonance Control Adjustment Function (Fn204)This function effectively suppresses vibration between 100 and 1000 Hz.Speed and PositionOperate from the digital opera- tor or SigmaWin+.Vibration Suppression Function (Fn205)This function effectively suppresses residual vibration if it occurs when positioning.
PositionOperate from the digital opera- tor or SigmaWin+.?  Some functions will be limited if the SERVOPACK is operated from the panel operator.



6.1.2 Basic Adjustment Procedure

6.1.2 Basic Adjustment Procedure
The basic adjustment procedure is shown in the following flowchart. Make suitable adjustments considering the conditions and operating requirements of the machine.













Completed.


(2) Adjust using Advanced Autotuning. Automatically adjusts the load moment of inertia ratio, gains, and filters with internal references in the SERVOPACK.
Refer to 6.3 Advanced Autotuning (Fn201).(3) Adjust using Advanced Autotuning by Reference
Automatically adjusts gains and filters with user reference inputs.
Refer to 6.4 Advanced Autotuning by Reference (Fn202).


Completed.












Completed.





















Completed.



6.1.3 Monitoring Analog Signals
The servo gain adjustments must be made while checking the signal status. Connect a measuring instrument, such as a memory recorder, to connector CN5 on the SERVOPACK to monitor analog signals.
Specifications of analog monitoring are as follows.

ItemSpecificationsRemarksNumber of Channels2 CHOutput Range-10 V to + 10 VLinear effective range: Within ? 8VResolution16-bitAccuracy? 20 mVStandard valueAllowable Max. Load Current? 1 mASettling Time (? 1%)1.2 msStandard valueNote: After the control power supply is turned ON, the analog monitor output may output approximately 10 V for a maxi- mum of 200 ms. Allow for this when using the SERVOPACK.
The settings and parameters related to monitoring analog signals are described below.
(1) Connector CN5 for Analog Monitor
To monitor analog signals, connect a measuring instrument with cable (JZSP-CA01) to the connector CN5.
* Connection Example






k ite




?Measuring instrument is provided by customer.


Line ColorSignal NameFactory SettingWhiteAnalog monitor 1Torque reference: 1 V/100% rated torqueRedAnalog monitor 2Motor speed: 1 V/10000 min-1Black (2 lines)GNDAnalog monitor GND: 0 V(2) Setting Monitor Factor
The output voltages on analog monitor 1 and 2 are calculated by the following equations.

Analog monitor 1 output voltage = (-1) ?	Signal selection  ? Signal multiplier + Offset voltage [V]
(Pn006=n.00??)	(Pn552)	(Pn550)
Analog monitor 2 output voltage = (-1) ?	Signal selection ? Signal multiplier + Offset voltage [V]

(Pn007=n.00??)

(Pn553)

(Pn551)



6.1.3 Monitoring Analog Signals


(3) Related Parameters
The monitor factor can be changed by setting following parameters.


Pn006.0, Pn006.1Analog Monitor 1 Signal SelectionSpeedPosition	TorqueClassificationSetting RangeSetting UnitFactorySettingWhen Enabled00 to 0D?02ImmediatelySetup
Pn007.0, Pn007.1Analog Monitor 2 Signal SelectionSpeedPositionTorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled00 to 0D?02ImmediatelySetup
Pn550Analog Monitor 1 Offset VoltageSpeedPositionTorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled-10000 to 100000.1 V0ImmediatelySetup
Pn551Analog Monitor 2 Offset VoltageSpeedPositionTorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled-10000 to 100000.1 V0ImmediatelySetup
Pn552Analog Monitor Magnification (?1)SpeedPositionTorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled-10000 to 100000.01 times100ImmediatelySetup
Pn553Analog Monitor Magnification (?2)SpeedPositionTorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled-10000 to 100000.01 times100ImmediatelySetup
(4) Monitor Signals
The following signals can be monitored by selecting functions of parameters Pn006 and Pn007.

ParameterDescriptionMonitor SignalMeasurement GainRemarks










Pn006 Pn007n.??00Motor speed1 V/1000 min-1Pn007 Factory Settingn.??01Speed reference1 V/1000 min-1n.??02Torque reference1 V/100% rated torquePn006 Factory Settingn.??03Position error?0.05 V/reference unit0 V at speed/torque controln.??04Position amp error?0.05 V/encoder pulse unitPosition error after electronic gear conversionn.??05Position reference speed1 V/1000 min-1?n.??06Reserved??n.??07Motor-load position error0.01 V/reference unit?
n.??08
Positioning completedPositioning completed: 5 V
Positioning not com- pleted: 0 V
?n.??09Speed feedforward1 V/1000 min-1?n.??0ATorque feedforward1 V/100% rated torque?n.??0BActive gain1 st gain: 1 V
2 nd gain: 2 Vn.??0CCompletion of position referenceCompleted: 5 V Not completed: 0 V



ParameterDescriptionMonitor SignalMeasurement GainRemarksPn006 Pn007n.??0DExternal encoder speed1 V/10000 min-1Value at motor shaft?  When using speed control, the position error monitor signal is 0.

The following diagram shows the analog monitor output at position control.


SERVOPACK
<Example>
Analog monitor output at n.??00 (motor speed setting)


When multiplier is set to ? 1:	When multiplier is set to ? 10:



Analog monitor output voltage EV]


Analog monitor output voltageEV]




Motor speed
Emin-1]

Motor speed
Emin-1]





Note: Linear effective range: within ? 8V

6.1.4 Safety Precautions on Adjustment of Servo Gains

Yaskawa recommends that the following protective functions of the SERVOPACK are set to the correct set- tings before starting to adjust the servo gains.



6.1.4 Safety Precautions on Adjustment of Servo Gains


(1) Overtravel Function
Set the overtravel function. For details on how to set the overtravel function, refer to 5.2.3 Overtravel.
(2) Torque Limit
Calculate the torque required to operate the machine. Set the torque limits so that the output torque will not be greater than required. Setting the torque limits can reduce the amount of shock applied to the machine in col- lisions and other cases.
Use the following parameters to set the torque limits. Pn402: Forward Torque Limit [%]
Pn403: Reverse Torque Limit [%]
For details, refer to 5.8.1 Internal Torque Limit, and 5.8.2 External Torque Limit.
(3) Excessive Position Error Alarm Level
The excessive position error alarm is a protective function that will be enabled when the servo drive is used in position control mode.
For the optimum setting, the servomotor will be stopped after the error occurs if the servomotor performs unpredictably after receiving a reference.
The position error is the difference between the position reference and the actual position. The position error can be calculated from the position loop gain and the motor speed with the following equation.


Position Error =

Motor Speed [min-1]

60	?

Number of Pulses per Motor Rotation [reference unit]


Pn102 / 10

Note: Pn102: Position Loop Gain [0.1/s]

• Excessive Position Error Alarm Level (Pn520 [reference unit])


Pn520 ?

Max. Motor Speed [min-1] 60

 Number of Pulses per Motor Rotation [reference unit]  ? (1.2 to 2) 
Pn102 / 10

Set the level to a value that satisfies these equations, and no alarm will be generated during normal operation. The servomotor will be stopped, however, if the servomotor runs unpredictably after a reference is input or if a position error in accordance with the value set in Pn520 occurs. At the end of the equation, a coefficient is shown as "? (1.2 to 2)." This coefficient is used to add a margin that prevents a faulty alarm from occurring in actual operation of the servomotor.
If the acceleration/deceleration of the position reference exceeds the capacity of the servomotor, the servomo- tor cannot perform at the requested speed, and the allowable level for position error will be increased as not to satisfy these equations. If so, lower the level of the acceleration/deceleration for the position reference so that the servomotor can perform at the requested speed or raise the allowable level of the position errors.
* Related Parameter



Pn520Excessive Position Error Alarm Level	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 1073741823
(230-1)1 reference unit5242880ImmediatelySetup
(4) Vibration Detection Function
Set the vibration detection function to an appropriate value. For details on how to set the vibration detection function, refer to 7.16 Vibration Detection Level Initialization (Fn01B)



(5) Excessive Position Error Alarm Level at Servo ON
If Pn200.2 (Clear Operation) is set to value other than zero, the position error pulses will remain at the base- block. If the servomotor is moved by an external force while it is being baseblocked, the servomotor will return to the original position so that the position error pulses are cleared and reset to zero after the servo is turned ON. This setting is used to limit such motions and to detect any errors.

* Related Parameters



Pn520Excessive Position Error Alarm Level	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 1073741823
(230-1)1 reference unit5242880ImmediatelySetup


Pn526Excessive Position Error Alarm Level at Servo ON	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 107374183
(230-1)1 reference unit5242880ImmediatelySetup

Pn529Speed Limit Level at Servo ON	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 100001 min-110000ImmediatelySetupThe parameter Pn529 (Speed Limit Level at Servo ON) is used to limit the servomotor speed when returning to the original position to clear the accumulated position error pulses and reset the pulses to 0. The speed will be limited until the position error pulses are reset to 0.
* Related Alarm

 Alarm DisplayAlarm NameAlarm ContentsA.d01Position Error Pulse Overflow Alarm at Servo ONIf the servomotor runs without clearing the position error pulses while the servo is OFF, excessive position error pulses are accumulated.
A.d02Position Error Pulse Overflow Alarm by Speed Limit at Servo ONIf the servo turns ON with position error pulses accumulated, the speed is limited by Pn529. In this state, the reference pulse is input without resetting the speed limit, and the position error pulses exceeds the value set for the parameter Pn520.These alarms will be occur if the number of position error pulses accumulated before the servo turns ON is greater than the setting of Pn526 (Excessive Position Error Alarm Level at Servo ON).
When an alarm occurs, refer to 10 Troubleshooting and take the corrective actions.
(6) Excessive Position Error Alarm Level between the Motor and Load
This setting is used to prevent motor overrun resulting from damage to the external encoder or to detect the sliding of a belt mechanism.
If the SERVOPACK is under fully-closed loop control, refer to 9 Fully-closed Loop Control and set protective functions.

* Related Parameter


Pn51BExcessive Error Level Between Servomotor and Load	Position
Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 10737418241 reference unit1000ImmediatelySetup


6.2.1 Tuning-less Function

6.2 Tuning-less Function (Fn200)
This section describes the tuning-less function.

6.2.1 Tuning-less Function
The tuning-less function obtains a stable response without adjustment regardless of the type of machine or changes in the load.
(1) Enabling/Disabling Tuning-less Function
The following parameter is used to enable or disable the tuning-less function.

ParameterMeaningWhen EnabledClassificationPn170n.???0Disables tuning-less functionAfter restartTuningn.???1Enables tuning-less function. [Factory setting](2) Application Restrictions
The following application restrictions apply to the tuning-less function depending on the control mode and other functions used at the same time.
* Control Mode Restrictions
The tuning-less function can be used in position control or speed control. The function is disabled in torque control.

* Control Function Restrictions

Control FunctionPossible/ImpossibleRemarksAnti-resonance controlImpossibleFriction compensationImpossibleGain switchingImpossibleOne-parameter tuning (Fn203)ImpossibleEasyFFT (Fn206)PossibleWhile this function operates, the tuning-less function cannot be used temporarily.Initialize vibration detection level (Fn01B)Possible
Advanced autotuning (Fn201)
Possible• This function can be used when Jcalc is set to ON.
• While this function operates, the tuning- less function cannot be used temporarily.Advanced autotuning by reference (Fn202)ImpossibleAnti-resonance control adjustment function (Fn204)ImpossibleVibration suppression function (Fn205)Impossible



Control FunctionPossible/ImpossibleRemarksOffline Moment of Inertia Setting *PossibleWhile this function operates, the tuning-less function cannot be used temporarily.Mechanical analysis *PossibleWhile this function operates, the tuning-less function cannot be used temporarily.?  Operate using SigmaWin+.
(3) Automatically Setting the Notch Filter
Usually, set this function to Auto Setting. (The notch filter is factory-set to Auto Setting.)
If this function is set to Auto Setting, vibration will be detected automatically and the notch filter will be set.
Set this function to Not Auto Setting only if you do not change the notch filter setting before executing tuning- less function.

ParameterMeaningWhen EnabledClassification
Pn460n.???0Does not set the 2nd notch filter automatically.
Immediately
Tuningn.???1Sets the 2nd notch filter automatically. [Factory setting](4) Tuning-less Level Settings (Fn200)
The tuning-less level is set in Fn200.

6.2.2 Tuning-less Operating Procedure
The procedure to use the tuning-less function is given below.
Operate the tuning-less function from the panel operator, digital operator (optional), or SigmaWin+.
(1) Check Points for Settings
Check the following settings before performing the tuning-less function, or otherwise "NO-OP" will be dis- played during the tuning-less operation.
• The tuning-less function must be enabled. (Pn170.0 = 1)
• The write prohibited setting (Fn010) must not be set.



6.2.2 Tuning-less Operating Procedure


(2) Operating Procedure with Digital Operator

StepDisplay after OperationKeysOperation
1???	???????????????????? ?????? ????????????? ????????????
?????????????

Display the main menu of the utility function mode, and select Fn200.




2




???	?????????????????1



Press the  Key to display the tuning-less mode setting screen.
Note:
• If the display does not switch and NO-OP is dis- played, the write prohibited setting is set in Fn010. Change the setting in Fn010 and press the key again after enabling writing.
• If the response waveform causes overshooting or if the load moment of inertia exceeds the allowable level (i.e., outside the scope of product guarantee),
press the  Key and change the mode to 2.
3???	???????????????????

Press the  Key to display the tuning level setting screen.



4



???	???????????????????
???


2nd notch filter




Press the  or  Key to select the tuning level. Select the tuning level from 0 to 4. The larger the value, the higher the gain is and the better response performance will be. (The factory setting is 4.)
Note:Vibration may occur if the tuning level is too high. Lower the tuning level if vibration occurs.
If high-frequency noise is generated, press the  Key to automatically set a notch filter for the vibra- tion frequency.
5???? ???????????????????

Press the  Key. "Done" will blink and the settings will be saved in EEPROM.
6???	???????????????
???????????????

Press the  Key to complete the tuning-less opera- tion. The screen in step 1 will appear again.Note 1. For the basic operation of the digital operator, refer to ?-V series SGM? V/SGDV User's Manual, Operation of Digital Operator (SIEPS80000055).
2. If the gain level is changed, the automatically set notch filter will be canceled. If vibration occurs, however, the notch filter will be set again.




(3) Operating Procedure with Panel Operator

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility func- tion mode.
2




MODE/SET	DATA/
Press the UP or the DOWN Key to select the Fn200.

3







MODE/SET	DATA/Press the MODE/SET Key to change to setting screen.
Note: If the display does not switch and NO-OP is displayed, the write prohibited setting is set in Fn010. Change the setting in Fn010 and press the key again after enabling writing.
4





MODE/SET	DATA/
If the noise is generated, change the setting using the UP Key.
5




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second to change to tuning level setting screen.



6













MODE/SET	DATA/Press the UP or the DOWN Key to select the tuning level.
Select the tuning level from 0 to 4. The larger the value, the higher the gain is and the better response performance will be. (The factory setting is 4.)
Note: Vibration may occur if the tuning level is too high. Lower the tuning level if vibration occurs.
If high-frequency noise is generated, press the DATA/ SHIFT Key to automatically set a notch filter for the vibration frequency.
7

(Display blinks)



MODE/SET	DATA/
Press the MODE/SET Key. "donE" will blink and the settings will be saved in EEPROM.
8




MODE/SET	DATA/Press the DATA/SHIFT Key for more than one sec- ond. "Fn200" is displayed again.(4) Alarm and Corrective Actions
The autotuning alarm (A.521) will occur if resonance is generated or excessive vibration occurs during posi- tion control. Take the following actions to correct the problem.
* Resonance Sound
Reduce the set value in Pn170.3 or Pn170.2.
* Excessive Vibration during Position Control
Increase the set value in Pn170.3 or reduce the set value in Pn170.2.



6.2.2 Tuning-less Operating Procedure


(5) Parameters Disabled by Tuning-less Function




Item


Name

  Pn NumberFunction to use parameters


RemarksSpeed Limit during Torque ControlZero Clamp during Torque ControlZero- speed Stop during Torque Control
Easy FFT
Mechanical Analysis (Vertical Axis Mode)


GainSpeed Loop GainPn100 Pn104?????Speed Loop Integral Time ConstantPn101 Pn105?????Position Loop GainPn102 Pn106?????Moment of Inertia RatioPn103?????Advanced ControlFriction Compensation SwitchPn408.3?????Anti-resonance Control SwitchPn160.0?????  Gain SwitchingGain Switching SwitchPn139.0?????Manual Gain Switching??????Note: ?: Uses the setting value.
?: Does not use the setting value.


6.3 Advanced Autotuning (Fn201)
This section describes the adjustment using advanced autotuning.
6.3.1 Advanced Autotuning
Advanced autotuning automatically operates the SERVOPACK (in reciprocating movement in the forward and reverse directions) within set limits and makes adjustment automatically according to the mechanical characteristics while the SERVOPACK is operating.
Advanced autotuning can be performed without connecting the host. The following automatic operation specifications apply.
• Motor speed: Rated motor speed ? 2
• Acceleration torque*: Approximately 100% of rated motor torque force
• Movement distance: Set in unit of 1000 reference unit. Factory setting is 3 motor rotations.
? The acceleration torque varies with the influence of the load moment of inertia ratio (Pn103), machine friction, and external disturbance.
Rated motor speed ? 1/3


Movement Speed












SERVOPACK



Advanced autotuning performs the following adjustments.


t

Rated motor speed ? 1/3

Rated motor torque?
Approx. 100%

t
Rated motor torque?
Approx. 100%

• Moment of inertia ratio
• Gains (e.g., position loop gain and speed loop gain)
• Filters (torque reference filter and notch filter)
• Friction compensation
• Anti-resonance control
• Vibration suppression (Mode = 2 or 3)
Refer to 6.3.3 Related Parameters for parameters used for adjustments.
A mode can be set to select whether to calculate the load moment of inertia.

SettingContentsJcalc = ONCalculates the load moment of inertia.Jcalc = OFFDoes not calculate the load moment of inertia.Tuning level can be set to select an adjustment type.

Tuning LevelAdjustment TypeMode 1StandardMode 2Make adjustments for positioning.Mode 3Make adjustments for positioning, giving priority to overshooting suppression.


6.3.1 Advanced Autotuning


A filter type can be set to select a machine resonance reduction filter according to the mechanical element.

Filter TypeContentsType = 1Select a filter suitable for the belt drive mechanism or other mechanism.Type = 2Selects a filter suitable for a ball screw drive mechanism.Type = 3Selects a filter suitable for a rigid system, such as a gear.

(1) Check Points for Settings
Check the following settings before performing advanced autotuning, or otherwise "NO-OP" will be displayed during advanced autotuning.
• The main circuit power supply must be ON.
• The servo must be OFF.
• Forward run prohibited (P-OT) and reverse run prohibited (N-OT) signal must not be in an overtravel state.
• The clear signal must be at low level (not cleared).
• The control must not be set to torque control.
• Automatic gain switching must be disabled.
• The write prohibited setting (Fn010) must not be set.

<Supplementary Information>
If advanced autotuning is started while the SERVOPACK is in speed control, the mode will change to position control automatically to perform advanced autotuning. The mode will return to speed control after completing the adjustment.
(2) Check Points for Operating Conditions
Advanced autotuning cannot be performed normally under the following conditions. If any of the following conditions exists, calculate the load moment of inertia ratio from the specifications of the machine and per- form reference input-type advanced autotuning or one-parameter tuning.
Refer to 6.4 Advanced Autotuning by Reference (Fn202) and 6.5 One-parameter Tuning (Fn203) for details.
• The machine system can work only in a single direction.
• The operating range is 0.5 rotation or less.



(3) Items Influencing Performance
Advanced autotuning may not be performed normally under the following conditions. If the result of autotun- ing is not satisfactory, perform reference input-type advanced autotuning or one-parameter tuning.
Refer to 6.4 Advanced Autotuning by Reference (Fn202) and 6.5 One-parameter Tuning (Fn203) for details.
• The load moment of inertia changes within the set operating range.
• The machine has high friction.
• The rigidity of the load is low and vibration occurs when positioning is performed.
• The position integration function is used.
• P control operation (proportional control) is performed.
Note:If a setting is made for calculating the moment of inertia, an error will result when P control operation is used while the moment of inertia is being calculated.
• The mode switch is used.
Note:If a setting is made for calculating the moment of inertia, the mode switch function will be disabled while the moment of inertia is being calculated. At that time, PI control will be used. The mode switch function will be enabled after calculating the moment of inertia.

<Supplementary Information>
Advanced autotuning makes adjustments by referring to the positioning completion width (Pn522). If the SERVOPACK is operated in position control (Pn000.1=1), set the electronic gear ratio (Pn20E/Pn210) and positioning completion width (Pn522). If the SERVOPACK is operated in speed control (Pn000.1=0), use the factory settings.


(4) Automatically Setting the Notch Filter
Usually, set this function to Auto Setting. (The notch filter is factory-set to Auto Setting.)
If this function is set to Auto Setting, vibration will be detected automatically and the notch filter will be set.
Set this function to Not Auto Setting only if you do not change the notch filter setting before executing advanced autotuning.

ParameterFunctionWhen EnabledClassification


Pn460n.???0Does not set the 1st notch filter automatically.


Immediately


Tuningn.???1Sets the 1st notch filter automatically. [Factory setting]n.?0??Does not set the 2nd notch filter automatically.n.?1??Sets the 2nd notch filter automatically. [Factory setting]
(5) Anti-Resonance Control Adjustment Function
This function reduces vibration of which the notch filter does not effective because of low vibration frequency.
Usually, set this function to Auto Setting. (The anti-resonance control is factory-set to Auto Setting.)
When this function is set to Auto Setting, vibration will be automatically detected during advanced autotuning and anti-resonance control will be automatically adjusted and set.
Set this function to Not Auto Setting only if you do not change the setting for anti-resonance control before executing advanced autotuning.



6.3.1 Advanced Autotuning


For details, refer to 6.6 Anti-Resonance Control Adjustment Function (Fn204).

ParameterFunctionWhen EnabledClassification
Pn160n.??0?Does not use the anti-resonance control automati- cally.
Immediately
Tuningn.??1?Uses the anti-resonance control automatically. [Factory setting]The following parameters related to anti-resonance control are set automatically.

ParameterNamePn161Anti-Resonance FrequencyPn163Anti-Resonance Damping GainNote: The following parameters related to anti-resonance control are not set automatically but the respective set values in the parameters will apply.
Anti-resonance gain compensation (Pn162)
Anti-resonance filter time constant 1 compensation (Pn164) Anti-resonance filter time constant 2 compensation (Pn165)
(6) Model Following Control with Vibration Suppression
The vibration suppression function suppresses transitional vibration at frequency as low as 1 to 100 Hz that is generated mainly when positioning if the machine stand vibrates.
Usually, set this function to Auto Setting. (The vibration suppression function is factory-set to Auto Setting.) When this function is set to Auto Setting, vibration will be automatically detected during advanced autotuning and model following control with vibration suppression will be automatically adjusted and set.
Set this function to Not Auto Setting only if you do not change the setting for model following control with vibration suppression before executing advanced autotuning.
Note: This function uses model following control. Therefore, the function can be executed only if the adjustment level is set to mode 2 or 3.
* Related Parameters

ParameterFunctionWhen EnabledClassification
Pn140n.?0??Does not use the vibration suppression function auto- matically.
Immediately
Tuningn.?1??Uses the vibration suppression function automati- cally. [Factory setting]The following parameters related to model following control with vibration suppression are set automatically.

ParameterNamePn141Model Following Control GainPn145Vibration Suppression 1 Frequency APn146Vibration Suppression 1 Frequency BNote: The following parameters related to model following control with vibration suppression are not set automatically but the respective set values in the parameters will apply.
Model following control gain compensation (Pn142)
(7) Friction Compensation
This function compensates for changes in the following conditions.
• Changes in the viscous resistance of the lubricant, such as the grease, on the sliding parts of the machine
• Changes in the load resistance resulting from fluctuations in the machine assembly
• Secular changes in the load resistance

Conditions to which friction compensation is applicable depend on the tuning level. The friction compensation setting in Pn408.3 applies when the mode is 1.




Tuning Level
Friction
Compensation Setting
Mode 1
Mode 2
Mode 3Pn408n.0?????n.1?????* : Adjusted with the friction compensation function.
* : Adjusted without the friction compensation function.
(8) Feedforward
If tuning is performed at mode 2 or mode 3, the feedforward reference (Pn109), speed feedforward (V-REF) input, and torque feedforward (T-REF) input will be ignored because model following control will be enabled.
The following settings are required if model following control is used together with the speed feedforward (V- REF) input and torque feedforward (T-REF) input.

ParameterFunctionWhen EnabledClassification

Pn140n.0???Model following control is not used together with external speed/torque feedforward input. [Factory setting]

Immediately

Tuningn.1???Model following control is used together with exter- nal speed/torque feedforward input.
Refer to 6.8.2 Torque Feedforward and 6.8.3 Speed Feedforward for details.
6.3.2 Advanced Autotuning Procedure
The following procedure is used for advanced autotuning.
Advanced autotuning is performed from the Digital Operator (option) or SigmaWin+. Here, the operating procedure from the Digital Operator is described.
Refer to the ?-V series SGM? V/SGDV User's Manual, Operation of Digital Operator (SIEPS80000055) for basic key operations of the Digital Operator.
Note: The function cannot be performed from the Panel Operator.



6.3.2 Advanced Autotuning Procedure


(1) Operating Procedure

StepDisplay after OperationKeysOperation
1
??	? ?????????????????????? ??? ?????????
?????????-???
???????????????



Display the main menu of the utility function mode, and select Fn201.

2
??	???????? ??????????
? ? ? ???  ?????? ????????????????
???????????
Press the  Key to display the initial setting screen for advanced autotuning.
Note: If the display does not switch and NO-OP is displayed, refer to (1) Check Points for Set- tings.
3
??	???????? ??????????
? ? ? ???  ?????? ????????????????
?????.?????



Press the  , or  Key and set the items in steps 3-1 to 3-4.


3-1* Calculating Load Moment of Inertia
Select the mode to be used.
Normally, set Jcalc to ON.
Jcalc = ON: Load moment of inertia ratio calculated Jcalc = OFF: Load moment of inertia ratio not calculated
<Supplementary Information>
If the moment of inertia ratio is already known from the machine specifications, set the value in Pn103 and set Jcalc to OFF.


3-2* Tuning Level
Select the tuning level.
Mode = 1: Makes adjustments considering responsiveness and stability. (Standard level) Mode = 2: Makes adjustments for positioning.
Mode = 3: Makes adjustments for positioning, giving priority to overshooting suppression.
Set this level if position error overshoots at mode 2.
Note: Set the mode to 1 if Fn202 (Advanced Autotuning by Reference) is performed after executing this func- tion.


3-3* Filter Type Setting
Select the filter type to set a filter according to the machine element to be driven. Set the filter referring to the following functional elements.
<Supplementary Information>
If there is noise or the gain does not increase, good results may be obtained by changing the filter type. Type = 1: Selects a filter suitable for belt drive mechanisms.
Type = 2: Selects a filter suitable for ball screw drive mechanisms [Factory setting]. Type = 3: Selects a filter suitable for rigid systems, such as a gear.





3-4* STROKE (Travel Distance) Setting
Specify a travel distance in increments of 1000 references. Travel distance setting range:
The travel distance setting range is from -99990000 to +99990000. The negative (-) direction is for reverse rotation, and the positive (+) direction is for forward rotation.
Initial value:
About 3 rotations
Note:
• Move the position using JOG operation to where a suitable movable range is ensured.
• Set the number of motor rotations to at least 0.5; otherwise, "Error" will be displayed and the travel distance cannot be set.
• To calculate the load moment of inertia ratio/mass ratio and ensure precise tuning, it is recommended to set the number of motor rotations to around 3.
4??	?D V A N C E D ?????????????
??????????.? ??????????.????????????.?

Press the  Key. The advanced autotuning execu- tion screen will be displayed.



StepDisplay after OperationKeysOperation
5R U N	?D V A N C E D  ??
??????????? ??????????.???????????.????????????.?
Press the  Key. The servo will be ON and the dis- play will change from "BB" to "RUN."
?If the level is set to 3, the "Pn102" display will change to the "Pn141."
















6






















R U N	?D V A N C E D  ??
??????????? ??????????.???????????.????????????.?













Press the  Key if a positive (+) value is set in
STROKE (travel distance), or press the  Key if a negative (-) value is set. Calculation of the moment of inertia ratio/mass ratio will start. While the moment of inertia ratio/mass ratio is being calculated, the set value for Pn103 will blink. When the calculation has been completed, the set value will stop blinking and the calculated load moment of inertia ratio/mass ratio will be displayed. The servo will remain ON, but the auto run operation will enter HOLD status.
Note:
• Press the  Key to stop advanced autotuning. The estimated load moment of inertia ratio/mass ratio will be saved in the SERVOPACK.
• In the case of calculating the moment of inertia
only, press the  Key after pressing the  Key to finish Fn201.
• The wrong key for the set travel direction is pressed, the calculation will not start.
• If the tuning operation or the calculation of the moment of inertia/mass ratio does not start, "NO- OP" will blink. Refer to (3) Failure in Operation, and take a corrective action to enable operation.
• If the calculation of the moment of inertia/mass ratio is not completed normally because the required conditions are not met, "Pn103=ERR" will be displayed. Refer to (4) Errors during Cal- culation of Load Moment of Inertia Ratio/Mass
Ratio, press the  Key to cancel the function, modify the settings, and then restart.
<Supplementary Information>
If the moment of inertia/mass ratio is not calculated, the set value for Pn103 will be displayed but not blink.





7






A d j	?D V A N C E D ?????????????
??????????.? ??????????.????????????.?




When the  or  Key is pressed according to the sign (+ or -) of the value set for STROKE (travel distance), the calculated value of the moment of iner- tia/mass ratio will be written to the SERVOPACK and the auto run operation will restart. While the ser- vomotor is running, the notch filter, the torque refer- ence filter, and gains will be automatically set. "Adj" will blink during the auto setting operation.
Note:
• Precise adjustments cannot be made and "Error" will be displayed as the status if there is vibration when starting adjustments. If that occurs, make adjustments using one-parameter tuning (Fn203).
8E n d	?D V A N C E D	?????????????
??????????.? ??????????.????????????.?When the adjustment has been completed normally, the servo will turn OFF, and "End" will blink for two seconds and "Adj" will be displayed on the status dis- play.

9
?o n e	?D V A N C E D	?????????????
??????????.? ??????????.????????????.?
Press the  Key. The values adjusted will be writ- ten to the SERVOPACK, "Done" will blink for two seconds, and "Adj" will be displayed again.
<Supplementary Information>
Not to save the values, press the  Key.


6.3.2 Advanced Autotuning Procedure


StepDisplay after OperationKeysOperation
10??	? ?????????????????????? ??? ?????????
?????????-???
???????????????

Press the  Key to complete the advanced autotun- ing operation. The screen in step 1 will appear again.(2) Supplementary Information on Advanced Autotuning
If advanced autotuning is not completed normally, "Error" will blink. Press the MODE/SET Key to end the function, return to the first step, and display the initial setting screen for advanced autotuning.
Set the Positioning Completed Width (Pn522) to a larger value and perform advanced autotuning again.


Example of Display If Advanced Autotuning Is Not Completed Normally

(3) Failure in Operation
If "NO-OP" or "Error" blinks during adjustment, the adjustment will be stopped.
* Probable Causes of "NO-OP" Blinking
• The main circuit power supply is OFF.
• An alarm or warning has occurred.
• An overtravel has occurred.
• A SigmaWin+ communications error has occurred.
• Gain setting 2 is selected by gain switching.
• Jcalc is set to OFF (load moment of inertia ratio/mass ratio not calculated) and the tuning-less function is set to effective.
Press the  Key and stop the adjustment once, and take a corrective action to enable operation.
* Probable Causes of "Error" Blinking and Remedies
Press the  Key and stop the adjustment once, and take the following remedies to enable operation.

ErrorProbable CauseCorrective Actions
Travel distance setting errorThe travel distance is set to approximately
0.5 rotation (0.05 rotation for SGMCS ser- vomotor) or less, which is less than the min- imum adjustable travel distance.Increase the travel distance. It is recom- mended to set the number of motor rota- tions to around 3.An error occurred during the calculation of the load moment of inertia ratio/ mass ratio.
Refer to (4) Errors during Calculation of Load Moment of Inertia Ratio/Mass Ratio.The positioning completion signal (/COIN) did not turn ON within approximately 10 seconds after positioning adjustment was completed.
The positioning completion width is too small or P control operation (proportional control) is being used.
Increase the set value for Pn522. If the mode switch is used, increase the set value or disable the mode switch.
The gain dropped below the minimum adjustable gain.
Machine vibration is occurring or the posi- tioning completion signal (/COIN) is turn- ing ON and OFF.Increase the set value for Pn522. If there is machine vibration, suppress the vibration with the anti-resonance control adjustment function and the vibration suppression function.


(4) Errors during Calculation of Load Moment of Inertia Ratio/Mass Ratio
The following table shows the probable causes of errors that may occur during the calculation of the load moment of inertia ratio/mass ratio with the Jcalc set to ON, along with corrective actions for the errors.

 Error DisplayError TypeCauseCorrective Action
Err1Failure in start- ing calculation of moment of iner- tia/mass ratioThe SERVOPACK started calculat- ing the moment of inertia/mass ratio, but the calculation was not com- pleted.• Increase the speed loop gain (Pn100).
• Increase the STROKE (travel distance).
Err2Failure in calcula- tion of moment of inertia/mass ratioThe moment of inertia/mass ratio fluctuated greatly and did not con- verge within 10 tries.Set the calculation value based on the machine specifications in Pn103 and execute the calculation with the Jcalc set to OFF.Err3Low-frequency vibration errorLow-frequency vibration was detected.Double the calculation starting level of the moment of inertia/mass ratio (Pn324).
Err4
Torque limit error
The torque limit was reached.• Increase the torque limit value.
• Double the calculation starting level of the moment of inertia/mass ratio (Pn324).
Err5
Proportional con- trol errorWhile calculating the moment of inertia/mass ratio, the speed control was set to proportional control with P-CON input.Operate the SERVOPACK with PI control while calculating the moment of inertia/mass ratio.


6.3.3 Related Parameters

6.3.3 Related Parameters
The following parameters are set automatically by using advanced autotuning function.

ParameterNamePn100Speed Loop GainPn101Speed Loop Integral Time ConstantPn102Position Loop GainPn121Friction Compensation GainPn123Friction Compensation CoefficientPn124Friction Compensation Frequency CorrectionPn125Friction Compensation Gain CorrectionPn141Model Following Control GainPn143Model Following Control Bias (Forward Direction)Pn144Model Following Control Bias (Reverse Direction)Pn145Vibration Suppression 1 Frequency APn146Vibration Suppression 1 Frequency BPn147Model Following Control Speed Feedforward CompensationPn161Anti-Resonance FrequencyPn163Anti-Resonance Damping GainPn401Torque Reference Filter Time ConstantPn408Notch Filter Selection/Friction Compensation SelectionPn4091st Step Notch Filter FrequencyPn40A1st Step Notch Filter Q ValuePn40C2nd Step Notch Filter FrequencyPn40D2nd Step Notch Filter Q Value

6.4 Advanced Autotuning by Reference (Fn202)
Adjustments with advanced autotuning by reference are described below.
6.4.1 Advanced Autotuning by Reference
Advanced autotuning by reference is used to automatically achieve optimum tuning of the SERVOPACK in response to the user reference inputs from the host.
Advanced autotuning by reference is performed generally to fine-tune the SERVOPACK after advanced auto- tuning of the SERVOPACK has been performed.
If the load moment of inertia ratio is set correctly is Pn103, advanced autotuning by reference can be per- formed without performing advanced autotuning.

Host Controller


SERVOPACK

Advanced autotuning by reference performs the following adjustments.
• Gains (e.g., position loop gain and speed loop gain)
• Filters (torque reference filter and notch filter)
• Friction compensation
• Anti-resonance control
• Vibration suppression
Refer to 6.4.3 Related Parameters for parameters used for adjustments.

Tuning level can be set to select an adjustment type.

Tuning LevelAdjustment TypeMode 1StandardMode 2Makes adjustments for positioning.Mode 3Makes adjustments for positioning, giving priority to overshooting suppression.A filter type can be set to select a machine resonance reduction filter according to the mechanical element.

Filter TypeContentsType = 1Select a filter suitable for the belt drive mechanism or other mechanism.Type = 2Selects a filter suitable for a ball screw drive mechanism.Type = 3Selects a filter suitable for a rigid system, such as a gear.


6.4.1 Advanced Autotuning by Reference





(1) Check Points for Settings
Check the following settings before performing advanced autotuning by reference, or otherwise "NO-OP" will be displayed during advanced autotuning.
• The main circuit power supply must be ON.
• Forward run prohibited (P-OT) and reverse run prohibited (N-OT) signal must not be in an overtravel state.
• The control must be set to position control.
• Automatic gain switching must be disabled.
• The write prohibited setting (Fn010) must not be set.
(2) Check Points for Operating Conditions
The following conditions are required to perform advanced autotuning by reference. If these conditions are not satisfied, use one-parameter tuning.
• The travel distance in response to references from the host controller must be the same as or larger than the set positioning completion width (Pn522).
• The motor speed in response to references from the host controller must be the same as or larger than the set rotation detection level (Pn502).
• The stopping time, i.e., the period while the positioning completion/COIN signal is OFF, is 10 ms or longer.
(3) Items Influencing Performance
Advanced autotuning by reference may not be performed normally under the following conditions. If the result of autotuning is not satisfactory, perform one-parameter tuning.
Refer to 6.5 One-parameter Tuning (Fn203) for details.
• The rigidity of the load is low and vibration occurs when positioning is performed.
• The position integration function is used.
• P control operation (proportional control) is performed.
• The mode switch is used.
<Supplementary Information>
Advanced autotuning by reference is performed by referring to the positioning completion width (Pn522). Set the electronic gear ratio (Pn20E/Pn210) and positioning completion width (Pn522).




(4) Automatically Setting the Notch Filter
Usually, set this function to Auto Setting. (The notch filter is factory-set to Auto Setting.)
If this function is set to Auto Setting, vibration will be detected automatically and the notch filter will be set.
Set this function to Not Auto Setting only if you do not change the notch filter setting before executing advanced autotuning.

ParameterFunctionWhen EnabledClassification


Pn460n.???0Does not set the 1st notch filter automatically.feed- forward


Immediately


Tuningn.???1Sets the 1st notch filter automatically. [Factory setting]n.?0??Does not set the 2nd notch filter automatically.n.?1??Sets the 2nd notch filter automatically. [Factory setting]
(5) Anti-Resonance Control Adjustment Function
This function reduces vibration of which the notch filter does not effective because of low vibration frequency.
Usually, set this function to Auto Setting. (The anti-resonance control is factory-set to Auto Setting.)
When this function is set to Auto Setting, vibration will be automatically detected during advanced autotuning by reference and anti-resonance control will be automatically adjusted and set.
Set this function to Not Auto Setting only if you do not change the setting for anti-resonance control before executing advanced autotuning by reference.
For details, refer to 6.6 Anti-Resonance Control Adjustment Function (Fn204)

ParameterFunctionWhen EnabledClassification
Pn160n.??0?Does not use the anti-resonance control automati- cally.
Immediately
Tuningn.??1?Uses the anti-resonance control automatically. [Fac- tory setting]The following parameters related to anti-resonance control are set automatically.

ParameterNamePn161Anti-Resonance FrequencyPn163Anti-Resonance Damping GainNote: The following parameters related to anti-resonance control are not set automatically but the respective set values in the parameters will apply.
Anti-resonance gain compensation (Pn162)
Anti-resonance filter time constant 1 compensation (Pn164) Anti-resonance filter time constant 2 compensation (Pn165)
(6) Model Following Control with Vibration Suppression
The vibration suppression function suppresses transitional vibration at frequency as low as 1 to 100 Hz that is generated mainly when positioning if the machine stand vibrates.
Usually, set this function to Auto Setting. (The vibration suppression function is factory-set to Auto Setting.) When this function is set to Auto Setting, vibration will be automatically detected during advanced autotuning by reference and model following control with vibration suppression will be automatically adjusted and set.
Set this function to Not Auto Setting only if you do not change the setting for model following control with vibration suppression before executing advanced autotuning by reference.
Note: This function uses model following control. Therefore, the function can be executed only if the adjustment level is set to mode 2 or 3.



6.4.1 Advanced Autotuning by Reference


* Related Parameters

ParameterFunctionWhen EnabledClassification
Pn140n.?0??Does not use the vibration suppression function auto- matically.
Immediately
Tuningn.?1??Uses the vibration suppression function automati- cally. [Factory setting]The following parameters related to model following control with vibration suppression are set automatically.

ParameterNamePn141Model Following Control GainPn145Vibration Suppression 1 Frequency APn146Vibration Suppression 1 Frequency BNote: The following parameters related to model following control with vibration suppression are not set automatically but the respective set values in the parameters will apply.
Model following control gain compensation (Pn142)
(7) Friction Compensation
This function compensates for changes in the following conditions.
• Changes in the viscous resistance of the lubricant, such as the grease, on the sliding parts of the machine
• Changes in the load resistance resulting from fluctuations in the machine assembly
• Secular changes in the load resistance

Conditions to which friction compensation is applicable depend on the tuning level. The friction compensation setting in Pn408.3 applies when the mode is 1.

Tuning Level
Friction
Compensation Setting
Mode 1
Mode 2
Mode 3Pn408n.0?????n.1?????* : Adjusted with the friction compensation function.
?: Adjusted without the friction compensation function.
(8) Feedforward
If tuning is performed at mode 2 or mode 3, the feedforward reference (Pn109), speed feedforward (V-REF) input, and torque feedforward (T-REF) input will be ignored because model following control will be enabled.
The following settings are required if model following control is used together with the speed feedforward (V- REF) input and torque feedforward (T-REF) input.

ParameterFunctionWhen EnabledClassification

Pn140n.0???Model following control is not used together with external speed/torque feedforward input.
[Factory setting]

Immediately

Tuningn.1???Model following control is used together with exter- nal speed/torque feedforward input.
Refer to 6.8.2 Torque Feedforward and 6.8.3 Speed Feedforward for details.



6.4.2 Advanced Autotuning by Reference Procedure
The following procedure is used for advanced autotuning by reference.
Advanced autotuning by reference is performed from the Digital Operator (option) or SigmaWin+. Here, the operating procedure from the Digital Operator is described.
Refer to the ?-V series SGM? V/SGDV User's Manual, Operation of Digital Operator (SIEPS80000055) for basic key operations of the Digital Operator.
Note: The function cannot be performed from the Panel Operator.
(1) Operating Procedure

StepDisplay after OperationKeysOperation
1
??	? ??????????????????
?????????-???
??????????????????????-??? ???



Display the main menu of the utility function mode, and select Fn202.

2
??	????????? ? ? ??? ??????
??
Press the  Key to display the initial setting screen for advanced autotuning.
Note: If the display does not switch and NO-OP is displayed, refer to (1) Check Points for Set- tings.
3??	????????? ? ? ??? ????????



Press the  steps 3-1 and 3-2.
or
Key and set the items in


3-1* Tuning Level
Select the tuning level.
Mode = 1: Makes adjustments considering responsiveness and stability. (Standard level) Mode = 2: Makes adjustments for positioning.
Mode = 3: Makes adjustments for positioning, giving priority to overshooting suppression.
Set this level if position error overshoots at mode 2.
Note: Set the mode to 1 if Fn202 (Advanced Autotuning by Reference) is performed after executing this func- tion.


3-2* Filter Type Setting
Select the filter type to set a filter according to the machine element to be driven. Set the filter referring to the following functional elements.
<Supplementary Information>
If there is noise or the gain does not increase, good results may be obtained by changing the filter type. Type = 1: Selects a filter suitable for belt drive mechanisms.
Type = 2: Selects a filter suitable for ball screw drive mechanisms [Factory setting]. Type = 3: Selects a filter suitable for rigid systems, such as a gear.
4??	???????????????????
??????????.? ??????????.????????????.???
Press the  Key. The advanced autotuning execu- tion screen will be displayed.
?If the level is set to 2 or 3, the "Pn102" display will change to the "Pn141".
5???	???????????????????
??????????.? ??????????.????????????.???
Input an external /S-ON signal, and then input a refer- ence from the host controller.
6???	???????????????????
??????????.? ??????????.????????????.???
Starts to adjust using  or  Key. "Adj" will blink on the status display.
Note: Adjustment cannot be performed during "BB" is shown on the status display.
7???	???????????????????
??????????.? ??????????.????????????.???When the adjustment has been completed normally, "END" will blink for two seconds on the status dis- play.


6.4.2 Advanced Autotuning by Reference Procedure


StepDisplay after OperationKeysOperation

8

????	???????? ?????????????
??????????.?
??????????.??

Press the  Key. The adjusted values will be writ- ten to the SERVOPACK, "DONE" will blink for two seconds.
<Supplementary Information>??????????.?Not to save the values set in step 6, press the  Key.
9??	? ??????????????????
?????????-???
??????????????????????-??? ???
Press the  Key to complete the advanced autotun- ing by reference operation. The screen in step 1 will appear again.(2) Failure in Operation
If "NO-OP" or "Error" blinks for approximately two seconds during adjustment, the adjustment will be stopped. After the adjustment is canceled, "NO-OP" or "Error" will be changed to "RUN" or "BB".
* Probable Causes of "NO-OP" Blinking
• The main circuit power supply is OFF.
• An alarm or warning has occurred.
• An overtravel has occurred.
• A SigmaWin+ communications error has occurred.
• Gain setting 2 is selected by gain switching.
Press the  Key and stop the adjustment once, and take a corrective action to enable operation.
* Probable Causes of "Error" Blinking and Remedies
Press the  Key and stop the adjustment once, and take the following remedies to enable operation.

ErrorProbable CauseCorrective ActionsThe positioning completion signal (/COIN) did not turn ON within approximately 10 seconds after positioning adjustment was completed.
The positioning completion width is too small or P control operation (proportional control) is being used.

Increase the set value for Pn522. If the P control is set, disable the mode switch.
The gain dropped below the minimum adjustable gain.
Machine vibration is occurring or the posi- tioning completion signal (/COIN) is turning ON and OFF.Increase the set value for Pn522. If there is machine vibration, suppress the vibration with the anti-resonance control adjustment function, and the vibration suppression function.


6.4.3 Related Parameters
The following parameters are set automatically by using advanced autotuning by reference. Manual adjust- ments are not required.

ParameterNamePn100Speed Loop GainPn101Speed Loop Integral Time ConstantPn102Position Loop GainPn121Friction Compensation GainPn123Friction Compensation CoefficientPn124Friction Compensation Frequency CorrectionPn125Friction Compensation Gain CorrectionPn141Model Following Control GainPn143Model Following Control Bias (Forward Direction)Pn144Model Following Control Bias (Reverse Direction)Pn145Vibration Suppression 1 Frequency APn146Vibration Suppression 1 Frequency BPn147Model Following Control Speed Feedforward CompensationPn161Anti-Resonance FrequencyPn163Anti-Resonance Damping GainPn401Torque Reference Filter Time ConstantPn408Notch Filter Selection/Friction Compensation SelectionPn4091st Step Notch Filter FrequencyPn40A1st Step Notch Filter Q ValuePn40C2nd Step Notch Filter FrequencyPn40D2nd Step Notch Filter Q Value


6.5.1 One-parameter Tuning

6.5 One-parameter Tuning (Fn203)
Adjustments with one-parameter tuning are described below.
6.5.1 One-parameter Tuning
One-parameter tuning is used to manually make tuning level adjustments during operation with a position ref- erence or speed reference input from the host controller.
One-parameter tuning enables automatically setting related servo gain settings to balanced conditions by adjusting one or two autotuning levels.
Tuning level can be set to select an adjustment type.

Tuning ModeAdjustment TypeMode 0Makes adjustments giving priority to stability.Mode 1Makes adjustments giving priority to responsiveness.Mode 2Makes adjustments for positioning.Mode 3Makes adjustments for positioning, giving priority to overshooting suppression.A filter type can be set to select a machine resonance reduction filter according to the mechanical element.

Filter TypeContentsType = 1Selects a filter suitable for the belt drive mechanism or other mechanism.Type = 2Selects a filter suitable for a ball screw drive mechanism.Type = 3Selects a filter suitable for a rigid system, such as a gear.One-parameter tuning performs the following adjustments.
• Gains (e.g., position loop gain and speed loop gain)
• Filters (torque reference filter and notch filter)
• Friction compensation
• Anti-resonance control
Refer to 6.5.4 Related Parameters for parameters used for adjustments.
<Supplementary Information>
Perform one-parameter tuning if satisfactory responsiveness is not obtained with advanced autotuning or advanced autotuning by reference.
To fine-tune each servo gain after one-parameter tuning, refer to 6.8 Servo Gain Adjustment Application Func- tion.




(1) Check Points for Settings
Check the following settings before performing one-parameter tuning, or otherwise "NO-OP" will be dis- played during one-parameter tuning.
• The write prohibited setting (Fn010) must not be set.
(2) Automatically Setting the Notch Filter
Usually, set this function to Auto Setting. (The notch filter is factory-set to Auto Setting.)
If this function is set to Auto Setting, vibration will be detected automatically and the notch filter will be set.
Set this function to Not Auto Setting only if you do not change the notch filter setting before executing one- parameter tuning.

ParameterFunctionWhen EnabledClassification


Pn460n.???0Does not set the 1st notch filter automatically.


Immediately


Tuningn.???1Sets the 1st notch filter automatically. [Factory setting]n.?0??Does not set the 2nd notch filter automatically.n.?1??Sets the 2nd notch filter automatically. [Factory setting]
(3) Anti-Resonance Control Adjustment Function
This function reduces vibration of which the notch filter does not effective because of low vibration frequency.
Usually, set this function to Auto Setting. (The anti-resonance control is factory-set to Auto Setting.)
When this function is set to Auto Setting, vibration will be automatically detected during one-parameter tun- ing and anti-resonance control will be automatically adjusted and set.
Set this function to Not Auto Setting only if you do not change the setting for anti-resonance control before executing one-parameter tuning.
For details, refer to 6.6 Anti-Resonance Control Adjustment Function (Fn204)

ParameterFunctionWhen EnabledClassification
Pn160n.??0?Does not use the anti-resonance control automati- cally.
Immediately
Tuningn.??1?Uses the anti-resonance control automatically. [Factory setting]The following parameters related to anti-resonance control are set automatically.

ParameterNamePn161Anti-Resonance FrequencyPn163Anti-Resonance Damping GainNote: The following parameters related to anti-resonance control are not set automatically but the respective set values in the parameters will apply.
Anti-resonance gain compensation (Pn162)
Anti-resonance filter time constant 1 compensation (Pn164) Anti-resonance filter time constant 2 compensation (Pn165)
"ARES" will blink on the digital operator when anti-resonance control adjustment function is set.




6.5.2 One-parameter Tuning Procedure


(4) Friction Compensation
This function compensates for changes in the following conditions.
• Changes in the viscous resistance of the lubricant, such as the grease, on the sliding parts of the machine
• Changes in the load resistance resulting from fluctuations in the machine assembly
• Secular changes in the load resistance

Conditions to which friction compensation is applicable depend on the tuning level. The friction compensation setting in Pn408.3 applies when the mode is 0 or 1.

Tuning Level
Friction
Compensation Setting
Mode 0
Mode 1
Mode 2
Mode 3Pn408n.0???????n.1???????* : Adjusted with the friction compensation function.
?: Adjusted without the friction compensation function.
(5) Feedforward
If tuning is performed at mode 2 or mode 3, the feedforward reference (Pn109), speed feedforward (V-REF) input, and torque feedforward (T-REF) input will be ignored because model following control will be enabled.
The following settings are required if model following control is used together with the speed feedforward (V- REF) input and torque feedforward (T-REF) input.

ParameterFunctionWhen EnabledClassification

Pn140n.0???Model following control is not used together with external speed/torque feedforward input.
[Factory setting]

Immediately

Tuningn.1???Model following control is used together with exter- nal speed/torque feedforward input.
Refer to 6.8.2 Torque Feedforward and 6.8.3 Speed Feedforward for details.
6.5.2 One-parameter Tuning Procedure
The following procedure is used for one-parameter tuning.
One-parameter tuning is performed from the Digital Operator (option) or SigmaWin+. Here, the operating procedure from the Digital Operator is described.
Refer to the ?-V series SGM? V/SGDV User's Manual, Operation of Digital Operator (SIEPS80000055) for basic key operations of the Digital Operator.
Note: Mode 2 and mode 3 cannot be selected from the Panel Operator.
To perform one-parameter tuning with mode 2 or mode 3, operate from the Digital Operator or SigmaWin+.



(1) Operating Procedure 1

StepDisplay after OperationKeysOperation
1
???	? ??????????????????-???
??????????????????????-??? ???????????? ???



Display the main menu of the utility function mode, and select Fn203.


2


??	??????????????????????

Press the  Key to display the moment of inertia ratio set in Pn103 at present. Select the digit with the
    or  Key, change the set value with the  or	Key.
Note: If the display does not switch and NO-OP is
displayed, refer to (1) Check Points for Set- tings.
3??	??????????????????
?????? ???? ? ?
???? ? ?

Press the  Key to display the initial setting screen for one-parameter tuning.
4
??	??????????????????
?????? ???? ? ?
???? ? ?



Press the  ,  or  Key and set the items in steps 4-1 and 4-2.



4-1* Tuning Mode
Select the tuning Mode.
Tuning Mode = 0: Makes adjustments giving priority to stability. Tuning Mode = 1: Makes adjustments giving priority to responsiveness. Tuning Mode = 2: Makes adjustments for positioning.
Tuning Mode = 3: Make adjustments for positioning, giving priority to overshooting suppression.
Set this mode if position error overshoots at Tuning Mode 2.
When Tuning Mode is set to 0 or 1, refer to (2) Operating Procedure 2 [Tuning Mode set to 0 or 1]. When Tuning Mode is set to 2 or 3, refer to (3) Operating Procedure 3 [Tuning Mode set to 2 or 3].


4-2* Filter Type Setting
Select the filter type to set a filter according to the machine element to be driven. Set the filter referring to the following functional elements.
<Supplementary Information>
If there is noise or the gain does not increase, good results may be obtained by changing the filter type. Type = 1: Selects a filter suitable for belt drive mechanisms.
Type = 2: Selects a filter suitable for ball screw drive mechanisms [Factory setting]. Type = 3: Selects a filter suitable for rigid systems, such as a gear.


6.5.2 One-parameter Tuning Procedure


(2) Operating Procedure 2 [Tuning Mode set to 0 or 1]

StepDisplay after OperationKeysOperation1Input an external /S-ON signal. The display will change from "BB" to "RUN." Input a reference from the host controller.
2???	?????????????????????.?
??????????.????????????.?

The set value will be displayed. Press the  Key after checking the value.







3









???		???????????????? ? ????
???	????






Mode 0 and Mode 1 are used to make level adjust- ments. When the level is increased, the responsive- ness will improve. If the value is too large, however,
vibration will occur. If that occurs, press the  Key. The SERVOPACK will detect the vibration fre- quencies automatically and make notch filter or anti- resonance control settings.
If the vibration is great, the vibration frequency will
be detected even if the  Key is not pressed and a notch filter or anti-resonance control will be set.
Select the digit with the  or  Key, adjust the level with  or  Key, and press the  Key. When the notch filter is set, "NF1" or "NF2" will be
displayed on the bottom row. "NF1" shows that a
one-level notch filter is set.
When anti-resonance control is set, "ARES" is dis- played.
4???	?????????????????????.?
??????????.????????????.?
A confirmation screen is displayed after level adjust- ment. Check the value and press the  Key.


5


????	?????????????????????.?
??????????.????????????.?

Press the  Key. The adjusted values will be writ- ten to the SERVOPACK, "DONE" will blink for two seconds.
<Supplementary Information>
Not to save the values set in step 3, press the  Key.
The screen in step 3 will appear with the  Key.
6???	???????????????????-???
??????????????????????-??? ???????????? ???
Press the  Key to complete the one-parameter tuning operation. The screen in step 1 will appear again.Note: Tuning Mode
0: Makes adjustments giving priority to stability.
1: Makes adjustments giving priority to responsiveness.



(3) Operating Procedure 3 [Tuning Mode set to 2 or 3]

StepDisplay after OperationKeysOperation1Input an external /S-ON signal. The display will change from "BB" to "RUN." Input a reference from the host controller.
2???	?????????????????????.?
??????????.????????????.?

The set value will be displayed. Press the  Key after checking the value.
















3






















???	????????????? ????? ? ????.??? ????? ? ????.?
???	????














Mode 2 or 3 is used to make FF level and FB level adjustments. When the level is increased, the respon- siveness will improve. If the value is too large, how- ever, vibration will occur. If that occurs, press the
 Key. The SERVOPACK will detect the vibration frequencies automatically and make notch filter or anti-resonance control settings.
If the vibration is great, the vibration frequency will
be detected even if the  Key is not pressed and a notch filter or anti-resonance control will be set.
The positioning time will become shorter if the FF level is increased. If the FF level is too high, over-
shooting will result. Adjust FF level and FB level with the , ,  or  Keys, and press the  Key.
Note:
• A change in the FF level will become effective after the motor stops (i.e., the motor comes to a stop with no reference input), and the response of the motor will change. Wait until the set operation reference stops and check the response before adjusting the FF level. If the FF level is changed greatly while the SERVOPACK is in operation, the response will change radically. This may cause vibration.
• "FF LEVEL" will blink until the FF level is enabled. If the motor does not stop approximately 10 seconds after the setting is changed, a timeout error will result and the previous setting will be enabled again.
• The vibration frequencies may not be detected if the amplitude is too small. If that occurs, press the
 Key to forcibly detect the vibration frequen- cies.
4???	?????????????????????.?
??????????.????????????.?
???

A confirmation screen is displayed after adjustment.


5


????	?????????????????????.?
??????????.????????????.?
???

Press the  Key. The adjusted values will be writ- ten to the SERVOPACK, "DONE" will blink for two seconds.
<Supplementary Information>
Not to save the values set in step 3, press the  Key.
The screen in step 3 will appear with the  Key.
6???	???????????????????-???
??????????????????????-??? ???????????? ???
Press the  Key to complete the one-parameter tuning operation. The screen in step 1 will appear again.


6.5.3 One-parameter Tuning Example

6.5.3 One-parameter Tuning Example
The following procedure is used for one-parameter tuning on the condition that the tuning mode is set to 2, or
3. This mode is used to reduce positioning time.

StepMeasuring Instrument Display ExampleOperation




1

Position error pulse (4 reference units/div)



Reference pulse speed (500 min-1/div)


Positioning completed


Measure the positioning time after setting the moment of iner- tia ratio (Pn103) correctly. Tuning will be completed if the specifications are met here. The tuning results will be saved in the SERVOPACK.




2



The positioning time will become shorter if the FF level is increased. The tuning will be completed if the specifications are met. The tuning results will be saved in the SERVOPACK. If overshooting occurs before the specifications are met, go to step 3.



3




Overshooting will be reduced if the LB level is increased. If the overshooting is solved, go to step 4.




4
The graph shows overshooting generated with the FF level increased in step 3. In this state, the overshooting occurs at two references, but the positioning setting time is short. The tuning will be completed if the specifications are met. The adjustment results are saved in the SERVOPACK. If overshooting occurs before the specifications are met, repeat steps 3 and 4.
If vibration occurs before the overshooting is eliminated, the vibration will be suppressed by the automatic notch filter.
Note:
The vibration frequencies may not be detected if the amplitude
is too small. If that occurs, press the  Key to forcibly detect the vibration frequencies.5The adjustment results are saved in the SERVOPACK.


6.5.4 Related Parameters
The following parameters are set automatically by using one-parameter tuning. Manual adjustments are not required.

ParameterNamePn100Speed Loop GainPn101Speed Loop Integral Time ConstantPn102Position Loop GainPn121Friction Compensation GainPn123Friction Compensation CoefficientPn124Friction Compensation Frequency CorrectionPn125Friction Compensation Gain CorrectionPn141Model Following Control GainPn143Model Following Control Bias (Forward Direction)Pn144Model Following Control Bias (Reverse Direction)Pn147Model Following Control Speed Feedforward CompensationPn161Anti-Resonance FrequencyPn163Anti-Resonance Damping GainPn401Torque Reference Filter Time ConstantPn408Notch Filter Selection/Friction Compensation SelectionPn4091st Step Notch Filter FrequencyPn40A1st Step Notch Filter Q ValuePn40C2nd Step Notch Filter FrequencyPn40D2nd Step Notch Filter Q Value


6.6.1 Anti-Resonance Control Adjustment Function

6.6 Anti-Resonance Control Adjustment Function (Fn204)
This section describes the anti-resonance control adjustment function.
6.6.1 Anti-Resonance Control Adjustment Function
An increase in the control gain of the SERVOPACK is effective for high-speed, high-precision driving of a machine. If the gain is excessively high, vibration will occur in the operating section of the machine. The anti- resonance control adjustment function (Fn204) is an effective function that supports anti-resonance control adjustment if the vibration frequencies are from 100 to 1,000 Hz.
The anti-resonance control adjustment function reduces vibration by adjusting the damping gain with vibra- tion frequencies that are automatically detected or manually set.

The automatic detection of vibration frequencies is enabled or disabled using the tuning mode settings.

Tuning ModeDetection of Vibration FrequenciesGuideline Selection0YES• The vibration frequencies are unknown.
• This function is being used for the first time.
1
NO• The frequencies are already known.
• To fine-tune the damping gain when the anti-resonance control adjustment function has already been used.
•




(1) Check Points for Settings
Check the following settings before performing anti-resonance control adjustment function, or otherwise "NO-OP" will be displayed during anti-resonance control adjustment.
• The control must not be set to torque control.



(2) Items Influencing Performance
Before executing the anti-resonance control adjustment function, check the following precautions and take necessary measures.
• To obtain sufficient vibration reduction, the moment of inertia ratio must be set correctly. Perform advanced autotuning to set the moment of inertia ratio (Pn103).
<Supplementary Information>
Perform one-parameter tuning (Fn203) or use another method to increase the responsiveness after performing this function. If the vibration reduction gain is increased with one-parameter tuning performed, vibration may result again. If that occurs, perform this function again to fine-tune the settings.
6.6.2 Anti-Resonance Control Adjustment Function Operating Procedure
The following procedure is used for anti-resonance control adjustment function.
Anti-resonance control adjustment function is performed from the Digital Operator (option) or SigmaWin+. Here, the operating procedure from the Digital Operator is described.
Refer to the ?-V series SGM? V/SGDV User's Manual, Operation of Digital Operator (SIEPS80000055) for basic key operations of the Digital Operator.
Note: • The function cannot be performed from the Panel Operator.
• Use this function if vibration is generated when a control reference is input.

The following three methods can be used for the anti-resonance control adjustment function. Select and use the best method.
1. Starting Execution with Vibration Suppression When the Anti-resonance Control Adjustment Function Has Not Been Used ? See page 6-41.
2. Starting Execution without Vibration Suppression When the Anti-resonance Control Adjustment Function Has Not Been Used ? See page 6-43.
3. Starting Execution for Fine-tuning When the Anti-resonance Control Adjustment Function Has Been Used
? See page 6-45.


(1) Starting Execution with Vibration Suppression When the Anti-Resonance Control Adjustment Function Has Not Been Used

StepDisplayafter OperationKeysOperation
1
???	?????????????????????????
???????-??? ???????????? ??? ?????????? ???



Display the main menu of the utility function mode, and select Fn204.
2???
?????? - ???????

??????
Press the  Key to display the initial setting screen for tuning mode.
Note:If the display does not switch and NO-OP is dis- played, refer to (1) Check Points for Settings.
3???
?????? - ???????


??????



Press the "0".
or
Key and select the tuning mode


6.6.2 Anti-Resonance Control Adjustment Function Operating Procedure


StepDisplay after OperationKeysOperation



4



???	? ??? ???????? ? ???? ??
???? ? ?????


Press the  Key while "Tuning Mode = 0" is dis- played. The screen shown on the left will appear. The detection of vibration frequencies will start and "freq" will blink.
Note: Return to step 3 if vibration is not detected.
Lower the vibration detection sensitivity (Pn311). When this parameter is lowered, the detection sensitivity will be increased. Vibra- tion may not be detected accurately if too small value is set.





5






???	? ??? ???????? ? ???? ??
???? ? ?????The vibration frequency will be displayed if vibration is detected.


Error


Torque reference



PPoossiititiiioonniiinnggccoommppllleettieoednd
signal
6???	? ??? ????

???? ? ???? ?????? ? ?????

Press the  Key. The cursor will move to "damp," and "freq" will be displayed normally.









7











???	? ??? ???????? ? ???? ??
???? ? ?????







Select the digit with the  or  Key, and press the  or  Key to adjust the damping gain.



Error


Torque reference


PPoossiititiiioonniiinnggccoommppllleettieoednd
signal
Note:
Increase the damping gain from about 0% to 200% in 10% increments while checking the effect of vibra- tion reduction. If vibration reduction is still insuffi- cient at a gain of 200%, cancel the setting, and lower the control gain by using a different method, such as one-parameter tuning.
8???	? ??? ????

???? ? ???? ?????? ? ?????

Press the  Key. The cursor will move from "damp" to "freq".
9???	? ??? ????

???? ? ???? ?????? ? ?????
Select the digit with the  or  Key, and press
the  or  Key to fine-tune the frequency. Skip this step and go to step 10 if the fine-tuning of the fre- quency is not necessary.
10???	? ??? ????

???? ? ???? ?????? ? ?????

Press  Key to save the settings.



StepDisplay after OperationKeysOperation
11????	? ??? ????

???? ? ???? ?????? ? ?????
"DONE" will blink for two seconds.
12???	?????????????????????????
???????-??? ???????????? ??? ?????????? ???
Press the  Key to complete the anti-resonance control adjustment function. The screen in step 1 will appear again.(2) Starting Execution without Vibration Suppression When the Anti-Resonance Control Adjustment Function Has Not Been Used

StepDisplay after OperationKeysOperation
1
???	?????????????????????????
???????-??? ???????????? ??? ?????????? ???



Display the main menu of the utility function mode, and select Fn204.
2???	? ??? ?????????? ???? ? ?

Press the  Key to display the initial setting screen for tuning mode.
3???	???????????????? ???? ? ?



Press the  or  Key and select the tuning mode "1".






4







???	? ??? ???????? ? ???? ??
???? ? ?????





Press the  Key while "Tuning Mode = 1" is dis- played. The screen shown on the left will appear and "freq" will blink.


Error


Torque reference



PPoossiititiiioonniiinnggccoommppllleettieoednd
signal
5???	? ??? ????

???? ? ???? ?????? ? ?????

Select the digit with the  or  Key, and press the  or  Key to adjust the frequency.
6???	? ??? ????

???? ? ???? ?????? ? ?????

Press the  Key. The cursor will move to "damp".


6.6.2 Anti-Resonance Control Adjustment Function Operating Procedure


StepDisplay after OperationKeysOperation









7











???	? ??? ???????? ? ???? ??
???? ? ?????







Select the digit with the  or  Key, and press the  or  Key to adjust the damping gain.



Error


Torque reference


PPoossiititiiioonniiinnggccoommppllleettieoednd
signal
Note:
Increase the damping gain from about 0% to 200% in 10% increments while checking the effect of vibra- tion reduction. If vibration reduction is still insuffi- cient at a gain of 200%, cancel the setting, and lower the control gain by using a different method, such as one-parameter tuning.
8???	? ??? ????

???? ? ???? ?????? ? ?????

Press the  Key. The cursor will move from "damp" to "freq".
9???	? ??? ????

???? ? ???? ?????? ? ?????
Select the digit with the  or  Key, and press
the  or  Key to fine-tune the frequency. Skip this step and go to step 10 if the fine-tuning of the fre- quency is not necessary.
10???	? ??? ????

???? ? ???? ?????? ? ?????

Press  Key to save the settings.
11????	? ??? ????

???? ? ???? ?????? ? ????
"DONE" will blink for two seconds.
12???	?????????????????????????
???????-??? ???????????? ??? ?????????? ???
Press the  Key to complete the anti-resonance control adjustment function. The screen in step 1 will appear again.


(3) Starting Execution for Fine-tuning When the Anti-Resonance Control Adjustment Function Has Been Used

StepDisplay after OperationKeysOperation
1
???	?????????????????????????
???????-??? ???????????? ??? ?????????? ???



Display the main menu of the utility function mode, and select Fn204.
2???	???????????????? ???? ? ?
Press the  Key to display the "Tuning Mode = 1" as shown on the left.
Note: If the display does not switch and NO-OP is displayed, refer to (1) Check Points for Settings.
3???	? ??? ????

???? ? ???? ?????? ? ?????
Press the  Key while "Tuning Mode = 1" is dis- played. The screen shown on the left will appear and "damp" will blink.



4


???	? ??? ???????? ? ???? ??
???? ? ?????

Select the digit with the  or  Key, and press the  or  Key to adjust the damping gain.
Note:
Increase the damping gain from about 0% to 200% in 10% increments while checking the effect of vibra- tion reduction. If vibration reduction is still insuffi- cient at a gain of 200%, cancel the setting, and lower the control gain by using a different method, such as one-parameter tuning.
5???	? ??? ????

???? ? ???? ?????? ? ????

Press the  Key. The cursor will move from "damp" to "freq".
6???	? ??? ????

???? ? ???? ?????? ? ????
Select the digit with the  or  Key, and press
the  or  Key to fine-tune the frequency. Skip this step and go to step 7 if the fine-tuning of the fre- quency is not necessary.
7????	? ??? ????

???? ? ???? ?????? ? ????

Press  Key to save the settings.
8???	?????????????????????????
???????-??? ???????????? ??? ?????????? ???
Press the  Key to complete the anti-resonance control adjustment function. The screen in step 1 will appear again.6.6.3 Related Parameters
Pn160 and Pn161 are set automatically. The other parameters are not set automatically but the respective set values in the parameters will apply.

ParameterNamePn160Anti-resonance Control SelectionPn161Anti-resonance FrequencyPn162Anti-resonance Gain CompensationPn163Anti-resonance Damping GainPn164Anti-resonance Filter Time Constant 1 CompensationPn165Anti-resonance Filter Time Constant 2 Compensation


6.7.1 Vibration Suppression Function

6.7 Vibration Suppression Function (Fn205)
The vibration suppression function is described in this section.
6.7.1 Vibration Suppression Function
The vibration suppression function suppresses transitional vibration at frequency as low as 1 to 100 Hz that is generated mainly when positioning if the machine stand vibrates.


(1) Check Points for Settings
Before performing the vibration suppression function, check the following setting and take necessary mea- sures.
• The control must be set to position control.
(2) Items Influencing Performance
The vibration suppression function cannot suppress vibration effectively under the following condition. If the result is not satisfactory, perform anti-resonance control adjustment function (Fn204) or one-parameter tuning (Fn203).
• Vibration is generated continuously when the motor is not rotating.
<Supplementary Information>
Perform one-parameter tuning (Fn203) to improve responsiveness after vibration suppression is performed.
(3) Detection of Vibration Frequencies
No frequency detection may be possible if the vibration does not appear as a position error or the vibration resulting from the position error is too small.
The detection sensitivity can be adjusted by changing the setting for the remained vibration detection width (Pn560). Perform the detection of vibration frequencies after adjusting the remained vibration detection width (Pn560).


Pn560Remained Vibration Detection Width	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0.1 to 300%0.1%40%ImmediatelySetupNote: Use a set value of 10% as a guideline. The smaller the set value is, the higher the detection sensitivity will be. If the value is too small, however, the vibration may not be detected accurately.




<Supplementary Information>
Vibration frequencies automatically detected may vary more or less during each positioning operation. Per- form positioning several times and make adjustments while checking the effect of vibration suppression.
(4) Feedforward
If this function is performed, the feedforward reference (Pn109), speed feedforward (V-REF) input, and torque feedforward (T-REF) input will be ignored because model following control will be enabled.
The following settings are required if model following control is used together with the speed feedforward (V- REF) input and torque feedforward (T-REF) input.

ParameterFunctionWhen EnabledClassification

Pn140n.0???Model following control is not used together with external speed/torque feedforward input.
[Factory setting]

Immediately

Tuningn.1???Model following control is used together with exter- nal speed/torque feedforward input.
Refer to 6.8.2 Torque Feedforward and 6.8.3 Speed Feedforward for details.
6.7.2 Vibration Suppression Function Operating Procedure
The following procedure is used for vibration suppression function.
Vibration suppression function is performed from the Digital Operator (option) or SigmaWin+. Here, the operating procedure from the Digital Operator is described.
Refer to the ?-V series SGM? V/SGDV User's Manual, Operation of Digital Operator (SIEPS80000055) for basic key operations of the Digital Operator.
Note: • The function cannot be performed from the Panel Operator.
• If this function is aborted by pressing the MODE/SET Key, the SERVOPACK will continue operating until the motor comes to a stop. After the motor stops, the set value will return to the previous value.

The operating flow of the vibration suppression function is shown below.
(1) Operating Flow




6.7.2 Vibration Suppression Function Operating Procedure


(2) Operating Procedure

StepDisplay after OperationKeysOperation1Input a control reference and take the following steps while repeating positioning.
2
???	????????????????????? ???
????????? ????????????? ???
???????????????



Display the main menu of the utility function mode, and select Fn205.











Press the  Key. The display shown on the left will appear.Measure f: Measurement frequencySetting f: Setting frequency [Factory-set to the set value for Pn145]Note: If the setting frequency and actual operating frequency are different, "Setting" will blink. The detected vibration frequency will be dis- played.???	???? ???????????  ?????. ??????	???? ???????????  ?????. ???3??????? ????????????????  ?????. ???
Frequency detection will not be performed if there is no vibration or the vibration frequency is outside the range of detectable frequencies. The following screen will be displayed if vibration is not detected. If the vibration frequencies are not detected, prepare a means of detecting and measuring the vibration.
When the vibration frequencies are measured, go to step 5 and manually set the measured vibration fre- quency.???	???? ??????????? ? ??????????????? ? ????. ???





4






???	???? ????

??????? ?????. ??????????  ?????. ???




Press the  Key. The displayed measure f value will be displayed as the setting f value as well.





Error



Torque reference


5


???	???? ????

??????? ?????. ??????????  ?????. ???

If the vibration is not completely suppressed, press the   or   Key and move the digit, and press
the  or  Key to fine-tune the frequency. Skip this step and go to step 7 if the fine-tuning of the fre- quency is not necessary.
Note:
If the setting frequency and actual operating fre- quency are different, "Setting" will blink.



StepDisplay after OperationKeysOperation






6







???	???? ????

??????? ?????. ??????????  ?????. ???





Press the  Key. The "Setting f" will change to usual display and the frequency currently displayed will be set for the vibration suppression function.






Error


Torque reference
7????	???? ????

??????? ? ??????????????? ? ????. ???

Press the  Key to save the settings.
8???	???????????????
???????????????

Press the  Key to complete the vibration suppres- sion function. The screen in step 1 will appear again.
6.7.3 Related Parameters
The following parameters are set automatically. Manual adjustments are not required.

ParameterNamePn140Model Following Control SelectionPn141Model Following Control GainPn145Vibration Suppression 1 Frequency APn146Vibration Suppression 1 Frequency B



6.8 Servo Gain Adjustment Application Function
The servo gain adjustment application functions are described in this section.
The adjustment application functions are classified roughly into adjustment functions to shorten positioning time and adjustment functions to reduce vibration.
The following table shows a list of adjustment application functions.
(1) Adjustment Functions to Shorten Positioning Time

Adjustment Functions and Related ParametersDescriptionCharacteristicsApplicable Control ModeReferenceFeedforward Pn109 Pn10AFeedforward compensation for the position reference is added to the speed reference.




The system will be unstable if a large value is set, possibly resulting in overshooting or vibration.
Position
6.8.1Torque Feedforward Pn002 Pn400 Pn415While in position control or speed control, torque feedforward input is applied into the torque refer- ence input terminal and added to the internal torque reference.
Speed Position

6.8.2Speed Feedforward Pn207 Pn300 Pn307While in position control, speed feedforward input is applied into the speed reference input terminal and added to the internal speed reference.

Position

6.8.3Mode Switch (P/PI control switching) Pn10B Pn10C Pn10D Pn10E Pn10F
Switches from PI control to P control using the value of an internal servo variable in a parameter (torque, speed, acceler- ation, or position error) as a threshold value.

Enables easily switching PI/P control.
Suppresses an overshooting.


Speed Position


6.8.5Gain Switching Pn100 to Pn106 Pn141
Pn142 Pn148 Pn149 Pn401 Pn412Manually or automatically change parameters for the posi- tion loop gain (Kv), speed loop integral time constant (Ti), posi- tion loop gain (Kp), torque refer- ence filter time constant(Tf), model following control gain, and model following control gain compensation.
Enables easily switching gain according to the internal con- ditions of the SEROVO- PACK. The user must select the switching conditions.


Speed Position


6.8.6


(2) Adjustment Functions to Reduce Vibration

Adjustment Functions and Related ParametersDescriptionCharacteristicsApplicable Control ModeReferenceSpeed Reference Filter
Pn307
A first order lag filter for the speed reference input.Enables smooth operation. If a large value is set, however, the responsiveness will decrease.
Speed
5.3.4Torque Reference Filter
Pn401Sets a filter time constant with the first order lag filter and a notch filter arranged in series to the torque reference.Effective in almost all fre- quency bands. If a large value (low frequency) is set, the responsiveness will decrease.Speed Position Torque
6.8.7

Notch Filter Pn408
Pn409 to Pn40E

Sets a Q (notch width) for each of two notch filters arranged in series with the torque reference.Mainly effective for vibration between 500 and 2,000 Hz. Instability will result if the setting is not correct. As a utility functions for the notch filters settings, the online vibration monitor (Fn207) and EasyFFT (Fn206) func- tions are available.

Speed Position Torque


6.8.7(3) Other Adjustment Functions

Adjustment Functions and Related ParametersDescriptionApplicable Control ModeReferenceProportional Control Operation (Proportional Operation Reference)When sending references from the host controller to the SERVO- PACK, P control mode can be selected from the host controller for particular operating conditions.Speed Position
6.8.4Position Integral Time ConstantThis function adds an integral control operation to the position loop.Position6.8.8Friction Compensation Pn408This function rectifies the viscous friction change and regular load change.Speed Position6.8.96.8.1 Feedforward Reference
Applies feedforward control compensation in position control inside the SERVOPACK. Use this parameter to shorten positioning time.


Position reference pulse


+	+ +
-
Encoder feedback pulse



Pn109Feedforward Gain	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 1001%0ImmediatelyTuning

Pn10AFeedforward Filter Time Constant	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 6400
(0.00 to 64.00 ms)0.01 ms0
(0.00 ms)ImmediatelyTuning
Note: Too high value may cause the machine to vibrate. For ordinary machines, set 80% or less in this parameter.



6.8.2 Torque Feedforward

6.8.2 Torque Feedforward
The torque feedforward function is valid only in speed control and position control.
The torque feedforward function shortens positioning time, The host controller differentiates a speed reference to generate a torque feedforward reference, and inputs the torque feedforward reference together with the speed or position reference to the SERVOPACK.
(1) Connection Example
Connect a speed reference signal line to V-REF (CN1-5 and -6) and a torque feedforward reference to T-REF (CN1-9 and -10) from the host controller.


Host controller	SERVOPACK
Kp: Position loop gain KFF: Feedforward gain
(2) Related Parameters
Torque feedforward is set using the parameters Pn002, Pn400 and Pn415.
The factory setting is Pn400 = 30. If, for example, the torque feedforward value is ±3V, then, the torque is limited to ±100% of the rated torque.

ParameterFunctionWhen EnabledClassificationPn002n.???0DisabledAfter restartSetupn.???2Uses T-REF terminal for torque feedforward input.


Pn400Torque Reference Input Gain	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 100
(1.0 to 10.0V/rated torque)0.1V/rated torque30
(3.0 V/rated torque)ImmediatelySetupNote 1. Too high a torque feedforward value will result in overshooting or undershooting. To prevent such troubles, set the optimum value while observing the system responsiveness.
2. The torque feedforward function cannot be used with torque limiting by analog voltage reference.


Pn415Filter Time Constant	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 655350.01 ms0ImmediatelySetup• The following settings are required if model following control is used together with the speed feedforward (V-REF) input and torque feedforward (T-REF) input.

ParameterFunctionWhen EnabledClassification
Pn140n.0???Model following control is not used together with external speed/torque feedforward input.
Immediately
Tuningn.1???Model following control is used together with exter- nal speed/torque feedforward input.





6.8.3 Speed Feedforward
The speed feedforward function is valid only in position control.
The speed feedforward function is used to shorten positioning time. The host controller differentiates the position reference to generate the speed feedforward reference, and inputs the speed feedforward reference together with the position reference to the SERVOPACK.
(1) Connection Example
Connect a position reference signal line to PULS and SIGN (CN1-7, -8, -11, and -12) and a speed feedforward reference signal line to V-REF (CN1-5 and -6) from the host controller.


Host controller	SERVOPACK
Kp: Position loop gain KFF: Feedforward gain
(2) Related Parameters
Speed feedforward value is set using the parameters Pn207 and Pn300.
The factory setting is Pn300 = 600. If, for example, the speed feedforward value is ±6V, then the speed is lim- ited to the rated speed.

ParameterFunctionWhen EnabledClassificationPn207n.??0?DisabledAfter restartSetupn.??1?Uses V-REF terminal for speed feedforward input.


Pn300Speed Reference Input Gain	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled150 to 3000
(1.50 to 30.00 V/rated speed)
0.01 V/rated speed600
(6.00 V/rated torque)
Immediately
SetupNote: Too high a speed feedforward value will result in overshooting or undershooting. To prevent such troubles, set the optimum value while observing the system responsiveness.



6.8.4 Proportional Control Operation (Proportional Operation Reference)


• The following settings are required if model following control is used together with the speed feedforward (V-REF) input and torque feedforward (T-REF) input.

ParameterFunctionWhen EnabledClassification

Pn140n.0???Model following control is not used together with external speed/torque feedforward input. [Factory setting]

Immediately

Tuningn.1???Model following control is used together with exter- nal speed/torque feedforward input.
6.8.4 Proportional Control Operation (Proportional Operation Reference)
When sending references from the host controller to the SERVOPACK, proportional control mode can be selected from the host controller for particular operating conditions.
Proportional control operation is set using parameter Pn000 (1st digit) and input signal (/P-CON).
(1) Connection Example
Input signal /P-CON (CN1-41) is used to select PI control or P control. For the control mode setting, refer to (2) Related Parameters.
TypeSignal Name Connector Pin NumberSettingMeaningInput/P-CONCN1-41OFF (High level)Switches to PI control.ON (Low level)Switches to P control.
ParameterControl ModeWhen EnabledClassification




Pn000n.??0?Speed ControlInput signal /P-CON (CN1-41) is used to select PI control or P control.
SERVOPACK CN1

P/PI Switching /P-CON	41

CN1-41 is OFF (high level): PI control CN1-41 is ON (low level): P control




After restart




Setup


n.??1?


Position Control


(2) Related Parameters
Proportional control operation is enabled when the control mode is set to speed or position control.


Parameter
ContentsProportional Control Enabled/ Disabled
/P-CON Signal Allocation
When Enabled
Classification















Pn000n.??0?Speed control (analog reference)EnabledNot required















After restart















Setupn.??1?Position control (pulse train reference)EnabledNot requiredn.??2?Torque control (analog reference)Disabledn.??3?Internal set speed control (contact
reference)EnabledRequired
n.??4?Internal set speed control (contact reference)? Speed control (analog reference)
Enabled
Required
n.??5?Internal set speed control (contact reference)? Position control (pulse train reference)
Enabled
Required
n.??6?Internal set speed control (contact reference)? Torque control (analog reference)
Enabled
Required
n.??7?Position control (pulse train refer- ence)? Speed control
(analog reference)
Enabled
Required
n.??8?Position control (pulse train refer- ence)? Torque control
(analog reference)
Enabled
Required
n.??9?Torque control (analog refer- ence)? Speed control (analog reference)
Enabled
Requiredn.??A?Speed control (analog refer- ence)? Zero clampEnabledRequiredn.??B?Position control (pulse train refer- ence)? Position control (inhibit)EnabledRequired6.8.5 Using the Mode Switch (P/PI Switching)
Use the mode switch (P/PI switching) function in the following cases:
P Control: Proportional control
PI Control: Proportional/integral control
• To suppress overshooting during acceleration or deceleration (for speed control)
• To suppress undershooting during positioning and reduce the settling time (for position control)

Speed


Overshoot


Actual servomotor operation
Reference


     Time Undershoot



Settling time


The mode switch function automatically switches the speed control mode between PI control mode and P con- trol mode based on a comparison between the servo's internal value and a user-set detection level shown in (1) Related Parameters.



6.8.5 Using the Mode Switch (P/PI Switching)


<Supplementary Information>
• Monitoring the speed response waveform and position error waveform is required for adjustment.
• If I-P control is selected for speed loop control, the mode switching function will be disabled.
(1) Related Parameters
Select the conditions to switch modes (P or PI control switching) by using the following parameters.


Parameter
Mode Switch SelectionParameter Containing Detection Point Setting
 When Enabled
Classification


Pn10Bn.???0Uses a torque reference level for detection point. [Factory setting]Pn10C


Immediately


Setupn.???1Uses a speed reference level for detection point.Pn10Dn.???2Uses an acceleration level for detection point.Pn10En.???3Uses an position error pulse level for detection point.Pn10Fn.???4Does not use mode switch function.?* Parameters to set the detection point


Pn10CMode Switch (Torque Reference)	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 8001%200ImmediatelyTuning
Pn10DMode Switch (Speed Reference)	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 min-10ImmediatelyTuning
Pn10EMode Switch (Acceleration)	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 300001 min-1/s0ImmediatelyTuning
Pn10FMode Switch (Position Error)	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 reference unit0ImmediatelyTuningMode switch functions according to the detection point are as follows.
* Using the Torque Reference Level to Switch Modes (Factory Setting)
With this setting, the speed loop is switched to P control when the value of torque reference input exceeds the torque set in Pn10C. The factory setting for the torque reference detection point is 200% of the rated torque.


Speed




+Pn10C
Torque Reference
- Pn10C




<Example>
If the mode switch function is not being used and the SERVOPACK is always operated with PI control, the speed of the motor may overshoot or undershoot due to torque saturation during acceleration or deceleration. The mode switch function suppresses torque saturation and eliminates the overshooting or undershooting of the motor speed.

* Using the Speed Reference Level to Switch Modes
With this setting, the speed loop is switched to P control when the value of speed reference input exceeds the speed set in Pn10D.



Speed


Pn10D

Speed reference

Motor speed

Time

PIP ControlPI Control
<Example>
In this example, the mode switch is used to reduce the settling time. It is necessary to increase the speed loop gain to reduce the settling time. Using the mode switch suppresses overshooting and undershooting when speed loop gain is increased.




6.8.5 Using the Mode Switch (P/PI Switching)


* Using the Acceleration Level to Switch Modes
With this setting, the speed loop is switched to P control when the speed reference exceeds the acceleration rate set in Pn10E.
Speed




+Pn10E
Acceleration 0
- Pn10E


<Example>
If the mode switch function is not being used and the SERVOPACK is always operated with PI control, the speed of the motor may overshoot or undershoot due to torque saturation during acceleration or deceleration. The mode switch function suppresses torque saturation and eliminates the overshooting or undershooting of the motor speed.

* Using the Position Error Pulse Level to Switch Modes
This setting is effective with position control only.
With this setting, the speed loop is switched to P control when the position error pulse exceeds the value set in Pn10F.

Speed



Position error pulse
Pn10F




<Example>
In this example, the mode switch is used to reduce the settling time. It is necessary to increase the speed loop gain to reduce the settling time. Using the mode switch suppresses overshooting and undershooting when speed loop gain is increased.

6.8.6 Switching Gain Settings
Two gain switching functions are available, manual switching and automatic switching. The manual switch- ing function uses an external input signal to switch gains, and the automatic switching function switches gains automatically.
For the gain combinations for switching, refer to (1) Gain Combinations for Switching. For the manual gain switching, refer to (2) Manual Gain Switching.
For the automatic gain switching, refer to (3) Automatic Gain Switching.
(1) Gain Combinations for Switching


Setting
Speed Loop GainSpeed Loop Integral Time Constant
Position Loop GainTorque Reference FilterModel Following Control GainModel Following Control Gain CompensationFriction Compensation Gain
Gain Setting 1
Pn100
Speed Loop GainPn101
Speed Loop Integral Time Constant
Pn102
Position Loop GainPn401
Torque Refer- ence Filter Time ConstantPn141
Model Follow- ing Control GainPn142
Model Follow- ing Control Gain Compen- sation
Pn121
Friction Com- pensation Gain
Gain Setting 2Pn104
2nd Speed Loop GainPn105
2nd Speed Loop Integral Time ConstantPn106
2nd Position Loop GainPn412
2nd Torque Ref- erence Filter Time ConstantPn148
2nd Model Fol- lowing Control GainPn149
2nd Model Fol- lowing Control Gain Compen- sationPn122
2nd Gain for Friction CompensationNote: The model following control gain and model following control compensation gain can be changed only manually.
(2) Manual Gain Switching
Manual gain switching uses an external input signal (/G-SEL1) to switch gain setting 1 and gain setting 2.

Parameter SettingSwitching SettingSettingPn139=n.???0 Manual Gain SwitchingOFF (H level)Gain Setting 1ON (L level)Gain Setting 2


6.8.6 Switching Gain Settings


(3) Automatic Gain Switching
Automatic gain switching is performed under the following settings and conditions.

Parameter SettingSwitching SettingSettingSwitching Wait TimeSwitching Time

Pn139=n.???2 (Automatic Switching Pattern 1)Condition A established. Pn139=??X?Gain Setting 1 to Gain Setting 2Gain Switching Waiting Time 1 Pn135Gain Switching Time 1
Pn131Condition A not estab- lished.
Pn139=??X?Gain Setting 2 to Gain Setting 1Gain Switching Waiting Time 2 Pn136Gain Switching Time 2
Pn132
Automatic switching pattern 1 (Pn139.0 = 2)


Note: For the gains if the control is changed from position control to another method using the control switching function, refer to switching condition-A selection described in (5) Parameters for Automatic Gain Switching.
* Relationship between the Gain Switching Waiting Time and the Switching Time Constant
In this example, the "positioning completion signal (/COIN) ON" condition is set as condition A for automatic gain switching pattern 1. The position loop gain is switched from the value in Pn102 (Position Loop Gain) to the value in Pn106 (2nd Position Loop Gain). When the /COIN signal goes ON, the switching operation begins after the waiting time set in Pn135. The switching operation changes the position loop gain linearly from Pn102 to Pn106 over the switching time set in Pn131.
Switching


Pn102
Position Loop Gain

Waiting Time Pn135

Switching Time Pn131




Pn106
2nd Position Loop Gain

Switching condition A established

<Supplementary Information>
Automatic gain switching is available in the PI and I-P controls.




(4) Related Parameters

ParameterFunctionWhen EnabledClassificationPn139n.???0Manual gain switching [Factory setting]ImmediatelyTuningn.???2Automatic gain switching pattern 1Note: n.???1 is reserved. Do not set.



Pn1042nd Speed Loop Gain	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 20000
(1.0 to 2000.0 Hz)0.1 Hz400
(40.0 Hz)ImmediatelyTuning

Pn1052nd Speed Loop Integral Time Constant	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled15 to 51200
(0.15 to 512.00 ms)0.01 ms2000
(20.00 ms)ImmediatelyTuning

Pn1062nd Position Loop Gain	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 20000
(1.0 to 2000.0/s)0.1/s400 (40.0/s)ImmediatelyTuning
Pn1482nd Model Following Control Gain	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 200000.1/s500ImmediatelyTuning
Pn1492nd Model Following Control Gain Compensation	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled500 to 20000.1 %1000ImmediatelyTuning

Pn4122nd Torque Reference Filter Time Constant	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 65535
(0.00 to 655.35 ms)0.01 ms100
(1.00 ms)ImmediatelyTuning


6.8.6 Switching Gain Settings


(5) Parameters for Automatic Gain Switching


Pn1222nd Gain for Friction Compensation	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 10001 %100ImmediatelyTuning
Pn131Gain Switching Time 1	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 655351 ms0ImmediatelyTuning
Pn132Gain Switching Time 2	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 655351 ms0ImmediatelyTuning
Pn135Gain Switching Waiting Time 1	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 655351 ms0ImmediatelyTuning
Pn136Gain Switching Waiting Time 2	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 655351 ms0ImmediatelyTuning

ParameterFunction When Enabled
ClassificationPosition ControlOther than Position Control






Pn139n.??0?





 Switching condition APositioning completion signal (/COIN) ONFixed in gain setting 1






Immediately






Tuningn.??1?Positioning completion signal (/COIN) OFFFixed in gain setting 2n.??2?NEAR signal (/NEAR) ONFixed in gain setting 1n.??3?NEAR signal (/NEAR) OFFFixed in gain setting 2n.??4?No output for position reference filter and refer- ence pulse input OFF
Fixed in gain setting 1n.??5?Position reference pulse input ONFixed in gain setting 2


6.8.7 Torque Reference Filter
As shown in the following diagram, the torque reference filter contains first order lag filter and notch filters arrayed in series, and each filter operates independently. The notch filters can be enabled and disabled with the Pn408.








Torque reference before filtering

Torque reference after filtering







(1) Torque Reference Filter
If you suspect that machine vibration is being caused by the servodrive, try adjusting the filter time constants. This may stop the vibration. The lower the value, the better the speed control response will be, but there is a
lower limit that depends on the machine conditions.



Pn401Torque Reference Filter Time Constant	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 65535
(0.00 to 655.35 ms)0.01 ms100
(1.00 ms)ImmediatelyTuning


6.8.7 Torque Reference Filter


(2) Notch Filter
The notch filter can eliminate specific frequency vibration generated by sources such as resonances of ball screw axes. The notch filter puts a notch in the gain curve at the specific vibration frequency. The frequency components near the notch frequency can be eliminated with this characteristic. A higher notch filter Q value produces a sharper notch and phase delay.

Q value = 0.7Q value = 1.0
100
0
Gain -100 (db)
-200
-300
102




0
-100
Phase -200 (deg)
-300
-400
102Notch filter








103
Frequency (Hz)


Notch filter








103
Frequency (Hz)








104
100
0
Gain -100 (db)
-200
-300
10




0
-100
Phase -200 (deg)
-300
-400
10













2Notch filter









  Frequency (Hz) Notch filter







Frequency (Hz)





104








2Set the notch filter enabled/disabled with Pn408.

ParameterFunctionWhen EnabledClassification

Pn408n.???01st notch filter disabled. [Factory setting]

Immediately

Tuningn.???11st notch filter enabled.n.?0??2nd notch filter disabled. [Factory setting]n.?1??2nd notch filter enabled.



Set the machine's vibration frequency in the parameter of a notch filter that is being used.


Pn4091st Notch Filter Frequency	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled50 to 50001 Hz5000ImmediatelyTuning
Pn40A1st Notch Filter Q Value	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled50 to 10000.0170ImmediatelyTuning
Pn40B1st Notch Filter Depth	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 10000.0010ImmediatelyTuning
Pn40C2nd Notch Filter Frequency	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled50 to 50001 Hz5000ImmediatelyTuning
Pn40D2nd Notch Filter Q Value	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled50 to 10000.0170ImmediatelyTuning
Pn40E2nd Notch Filter Depth	Speed	Position	Torque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 10000.0010ImmediatelyTuning
6.8.8 Position Integral Time Constant
This function adds an integral control operation to the position loop. It is effective for electronic cam or elec- tronic shaft applications.



Pn11FPosition Integral Time Constant	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 50000
(0.0 to 5000.0 ms)0.1 ms0
(0.0 ms)ImmediatelyTuning


6.8.9 Friction Compensation

6.8.9 Friction Compensation
Friction compensation rectifies the viscous friction change and regular load change.
<Supplementary Information>
The factors causing load changes include grease viscosity resistance changes resulting from temperature changes in addition to viscous friction and regular load changes resulting from equipment variations and secu- lar changes.
Friction compensation is automatically adjusted by the following settings.
1. The friction compensation function and advanced autotuning level are set to tuning level 2 or 3.
2. The one-parameter tuning level is set to 2 or 3.

Refer to the following description and make adjustments only if manual adjustment is required.
(1) Required Parameter Settings
The following parameter settings are required to use friction compensation.

ParameterFunctionWhen EnabledClassificationPn408n.0???Does not use friction compensation. [Factory setting]ImmediatelySetupn.1???Uses friction compensation.

Pn121Friction Compensation Gain	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled10 to 100001 %100ImmediatelyTuning
Pn123Friction Compensation Coefficient	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 1001 %0ImmediatelyTuning
Pn124Friction Compensation Frequency Correction	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled-10000 to 100000.1 Hz0ImmediatelyTuning
Pn121Friction Compensation Gain Correction	Speed	Position
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 10001 %100ImmediatelyTuning(2) Operating Procedure for Friction Compensation
The following procedure is used for friction compensation.






StepOperation

1Set the following parameters for friction compensation to the factory setting as follows. Friction compensation gain (Pn121): 100
Friction compensation coefficient (Pn123): 0
Friction compensation frequency correction (Pn124): 0 Friction compensation gain correction (Pn125): 100
Note: Always use the factory-set values for friction compensation frequency correction (Pn124) and friction compensation gain correction (Pn125).2To check the effect of friction compensation, increase the friction compensation coefficient (Pn123). Note: The upper limit of the friction compensation coefficient (Pn123) is 95%.














3If the friction compensation is insufficient in step 2, increase the set value in Pn121 to where the equipment does not vibrate.
Note: The SERVOPACK may vibrate if Pn121 is set to a value the same as or higher than the resonance fre- quency of the equipment.
If necessary, adjust Pn121 in increments of 10.0 Hz.
Effect of Adjustment
The following graph shows the responsiveness with and without proper adjustment.


S?ma?ll/?lar?ge?fr?ic?tion
?Sm?a?ll friction	(No difference
in responsiveness)

Posit?io?n e?rr?or	Posit?io?n e?rr?or
L?a?rg?e friction

Referen?ce?p?uls?e??sp?ee?d	Referen?ce?p?uls?e??sp?ee?d



Without friction compensation	With friction compensation

Effect of Adjustment Parameters
Pn121: Friction Compensation Gain
This parameter sets the responsiveness for external disturbance. The higher the set value is, the better the responsiveness will be. If the equipment has a resonance frequency, however, vibration may result if the set value is the same as or high than the resonance frequency.
Pn123: Friction Compensation Coefficient
This parameter sets the effect of friction compensation. The higher the set value is, the more effective friction compensation will be. If the set value is excessively high, however, the vibration will occur easily. Usually, set the value to 95% or less.

7

Utility Functions (Fn???)



7.1 List of Utility Functions	7-2
7.2 Alarm History Display (Fn000)	7-4
7.3 JOG Operation (Fn002)	7-5
7.4 Origin Search (Fn003)	7-6
7.5 Program JOG Operation (Fn004)	7-8
7.6 Initializing Parameter Settings (Fn005)	7-13
7.7 Clearing Alarm History (Fn006)	7-14
7.8 Manual Zero-adjustment of Analog Monitor Output (Fn00C)	7-15
7.9 Manual Gain-adjustment of Analog Monitor Output (Fn00D)	7-17
7.10 Automatic Offset-Signal Adjustment of the Motor Current
Detection (Fn00E)	7-19
7.11 Manual Offset-Signal Adjustment of the Motor Current
Detection (Fn00F)	7-20
7.12 Write Prohibited Setting (Fn010)	7-21
7.13 Servomotor Model Display (Fn011)	7-23
7.14 Software Version Display (Fn012)	7-24
7.15 Resetting Configuration Error of Option Card (Fn014)	7-25
7.16 Vibration Detection Level Initialization (Fn01B)	7-26
7.17 Display of SERVOPACK and Servomotor ID (Fn01E)	7-28
7.18 Display of Servomotor ID in Feedback Option Card (Fn01F)	7-29
7.19 EasyFFT (Fn206)	7-30
7.20 Online Vibration Monitor (Fn207)	7-34
7.21 Origin Setting (Fn020)	7-36


7.1 List of Utility Functions
Utility functions are used to execute parameters related to servomotor operation and adjustment.
When a utility function is executed, the Panel Operator displays a corresponding parameter number beginning with Fn.
The following table shows the parameters in the utility mode and reference section.

Function No.
FunctionOperation from the Panel OperatorOperation from the Digital Operator or SigmaWin+
Reference SectionFn000Alarm traceback data display??7.2Fn002JOG operation??7.3Fn003Origin search??7.4Fn004Program JOG operation??7.5Fn005Initializes parameter settings??7.6Fn006Clears alarm traceback data??7.7Fn008Absolute encoder multi-turn reset and encoder alarm reset??5.9.5Fn009Automatic tuning of analog (speed, torque) reference off- set??5.3.2
5.5.2Fn00AManual servo tuning of speed reference offset??5.3.2Fn00BManual servo tuning of torque reference offset??5.5.2Fn00CManual zero-adjustment of analog monitor output??7.8Fn00DManual gain-adjustment of analog monitor output??7.9Fn00EAutomatic offset-adjustment of motor current detection signal??7.10Fn00FManual offset-adjustment of motor current detection sig- nal??7.11Fn010Write prohibited setting??7.12Fn011Checks servomotor models??7.13Fn012Software version display??7.14Fn013Multi-turn limit value setting change when a Multi-turn Limit Disagreement alarm occurs??5.9.8Fn014Resets configuration error of option card??7.15Fn01BInitializes vibration detection level??7.16Fn01ESERVOPACK and servomotor ID Display??7.17Fn01FDisplay of servomotor ID for feedback option??7.18Fn200Tuning-less level setting??6.3.2Fn201Advanced autotuning??6.4.2Fn202Advanced autotuning by reference??6.5.2Fn203One-parameter tuning???6.6.2Fn204Anti-resonance control adjustment function??6.7.2Fn205Vibration suppression function??6.7.2Fn206EasyFFT??7.19Fn207Online vibration monitor??7.20Fn020Origin setting??7.21Fn030Software reset??7.22* : Available ?? N?t available




* There are functional limitations if the function is executed on the Panel Operator.
Note 1. If the Panel Operator displays "no_oP" when the above function is executed, the write prohibited setting may be enabled. Refer to 7.12 Write Prohibited Setting (Fn010) for details.
2. The Panel Operator will display "no_oP" if the user attempts to execute a utility function not supported by the Panel Operator.


7.2 Alarm History Display (Fn000)
This function displays the alarm history to check the ten latest alarms. The latest ten alarm numbers and time stamps* can be checked.
?  Time Stamps
A function that measures the ON times of the control power supply and main circuit power supply in 100-ms units and displays the operating time when an alarm occurs. The time stamp operates around the clock for approximately 13 years.
<Example of Time Stamps> If 36000 is displayed, 3600000 [ms] = 3600 [s]
= 60 [min]
= 1 [h] Therefore, the number of total number of operating hours is 1.
Follow the steps below to confirm the alarm histories.

StepDisplay afterOperationKeysOperation

1





MODE/SET




MODE/SET



DATA/




DATA/
Press the MODE/SET Key to select "Alarm History Dis- play (Fn000)." If a number other than Fn000 is dis- played, press the UP Key or DOWN Key to set Fn000.
2




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one sec- ond. The latest alarm data is displayed.

3



Alarm Sequence Number
The higher the number, the older the alarm date.


Alarm Code See the alarm table.



MODE/SET



DATA/
Press the DOWN Key to display one older alarm data. (To display one newer alarm data, press the UP Key.) The higher the leftmost digit, the older the alarm data.
4




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. The lower four digits of Time Stamp are displayed.
5




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. The middle four digits of Time Stamp are displayed.
6




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. The higher two digits of Time Stamp are displayed.
7




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. The alarm number is displayed again.
8




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one sec- ond. "Fn000" is displayed again.<Supplementary Information>
• If the same alarm occurs more than one hour later, this alarm is also saved.
• The display "?.---" means no alarm occurs.
• Delete the alarm history using the parameter Fn006. The alarm history is not cleared on alarm reset or when the SERVOPACK power is turned OFF.


7.3 JOG Operation (Fn002)
JOG operation is used to check the operation of the servomotor under speed control without connecting the SERVOPACK to the host.

(1) Settings before Operation
The following settings are required before performing JOG operation.
• If the S-ON input signal is ON, turn OFF the signal.
• If Pn50A.1 is set to 7 (i.e., the servo is always ON), change the value.
• Considering the operating range of the machine, set the JOG operation speed in Pn304.


Pn304JOG Speed	Speed	Position	TorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 min-1500ImmediatelySetup(2) Operating Procedure
Follow the steps below to set the JOG speed. The following example is given when the rotating direction of servomotor is set as Pn000.0=0(counterclockwise direction is regarded as the forward run).

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn002.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4




MODE/SET



DATA/
Press the MODE/SET Key. The servo turns ON.


5








MODE/SET






DATA/The servomotor will rotate at the present speed set in Pn304 while the UP Key (for forward rotation) or DOWN Key (for reverse rotation) is pressed.

Forward


Reverse

6





MODE/SET




DATA/The servo will be turned OFF (i.e., the motor will be turned OFF) when the MODE/SET Key is pressed.
<Supplementary Information>
The servo can be turned OFF by pressing the DATA/SHIFT Key for approximately one second.
7




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn002" is displayed again.

7.4 Origin Search (Fn003)
The origin search is designed to position the origin pulse position of the incremental encoder (phase-C) and to clamp at the position. This mode is used when the motor shaft needs to be aligned to the machine.

Execute the origin search without connecting the couplings. Motor speed at the time of execution: 60 min-1

Servomotor	Machine




For aligning the motor shaft with the machine

(1) Settings before Operation
The following settings are required before performing an origin search.
• If the S-ON input signal is ON, turn OFF the signal.
• If Pn50A.1 is set to 7 (i.e., the servo is always ON), change the value.
(2) Operating Procedure
Follow the steps below to execute the origin search.

StepDisplay after OperationKeysDescription
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select the Fn003.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second, and the display shown on the left appears.
4




MODE/SET	DATA/Press the MODE/SET Key.
The servomotor is turned to Servo ON.




5














MODE/SET	DATA/Pressing the UP Key will rotate the motor in the forward direction. Pressing the DOWN Key will rotate the motor in the reverse direction. The rotation of the servomotor changes according to the setting of Pn000.0.





Note: Direction when viewed from the load of the servomo- tor.
6

Display blinks.



MODE/SET	DATA/Press the UP or DOWN Key. When the servomotor origin search is completed, the display blinks.
At this moment, the motor is servo-locked at the origin pulse position.



StepDisplay after OperationKeysDescription
7




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn003" is displayed again.

7.5 Program JOG Operation (Fn004)
The Program JOG Operation is a utility function, that allows continuous automatic operation determined by the preset operation pattern, movement distance, movement speed, acceleration/deceleration time, number of time of repetitive operations.
This function can be used to move the servomotor without it having to be connected to a host controller for the machine as a trial operation in JOG operation mode. Program JOG Operation can be used to confirm the oper- ation and for simple positioning operations.
(1) Settings before Operation
The following settings are required before performing program JOG operation.
• Set correctly the machine operation range and safe operation speed in the parameters such as "program JOG operation movement distance" and "program JOG movement speed."
• The SERVOPACK must be in Servo Ready status to execute this function.
• If the Servo-ON input signal (/S-ON) is ON, turn it OFF.
• Release the Servo-ON signal mask if the parameter Pn 50A.1 is set to 7, and the Servo has been set to always be ON.
(2) Precautions
• Control is position control during program JOG operation. However, the pulse reference input to the SER- VOPACK is inhibited (in /INHIBIT status) and no pulse reference input is accepted.
<Supplementary Information>
• The overtravel function is enabled in this function.
• When an absolute encoder is used, input is not necessary since SEN signal is always enabled.
• Other functions that are applicable for position control, such as position reference filter, can be used.
(3) Related Parameters


Pn530Program JOG Operation Related SwitchSpeedPosition	TorqueClassificationSetting RangeSetting UnitFactorySettingWhen Enabled??0000ImmediatelySetup
Pn531Program JOG Movement DistanceSpeedPositionTorque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 1073741824(230)1 Reference unit32768ImmediatelySetup
Pn533Program JOG Movement SpeedSpeedPositionTorque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 100001 min-1500ImmediatelySetup
Pn534Program JOG Acceleration/Deceleration TimeSpeedPositionTorque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled2 to 100001 ms100ImmediatelySetup
Pn535Program JOG Waiting TimeSpeedPositionTorque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 100001 ms100ImmediatelySetup
Pn536Number of Times of Program JOG MovementSpeedPositionTorque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 10001 time1ImmediatelySetup






ParameterContentsFactory Setting









Pn530n.???0(Waiting time Pn535 ? Forward movement Pn531) ? Number of times of movement Pn536









0n.???1(Waiting time Pn535 ? Reverse movement Pn531) ? Number of times of movement Pn536
n.???2(Waiting time Pn535 ? Forward movement Pn531) ? Number of times of movement Pn536
(Waiting time Pn535 ? Reverse movement Pn531) ? Number of times of movement Pn536
n.???3(Waiting time Pn535 ? Reverse movement Pn531) ? Number of times of movement Pn536
(Waiting time Pn535 ? Forward movement Pn531) ? Number of times of movement Pn536
n.???4(Waiting time Pn535 ? Forward movement Pn531 ? Waiting time Pn535 ? Reverse movement Pn531)
? Number of times of movement Pn536
n.???5(Waiting time Pn535 ? Reverse movement Pn531 ? Waiting time Pn535 ? Forward movement Pn531)
? Number of times of movement Pn536
Note: For details of Pn530, refer to (4) Setting Infinite Time Operation and (5) Program Operation Patterns.
(4) Setting Infinite Time Operation
• When 0, 1, 4 or 5 is set to Pn530.0, setting 0 to Pn536 (Number of Times of Program JOG Movement) enables infinite time operation.
• Program JOG operation pattern follows the setting of Pn530.0. Only number of times of program JOG movement is infinite. For details, refer to (5) Program Operation Patterns.
• To stop infinite time operation, press the MODE/SET Key (or JOG/SVON Key of digital operator) to servo OFF.
Note: 1. 2 or 3 is set to Pn530.0, infinite time operation is disabled.
2. 0 or 1 is set to Pn530.0, movement is one direction. Take note of movable range.
(5) Program Operation Patterns
The following example is given when the rotating direction of the Servomotor is set as Pn000.0 = 1 (counter- clockwise direction is regarded as the forward run).

Pn530.0 = 0(Waiting time Pn535 ? Forward movement Pn531) ? No. of times of movement Pn536



Speed




Movement speed
Pn533

At zero speed

key ON
Waiting time Pn535Number of times of movement Pn536
Pn531
Movement distance
Pn531
Movement distance
Pn531
Movement distanceDiagramAccel/Decel time
Pn534Servomotor Run Status

(Stop)

(Forward)

(Stop)

(Forward)

(Stop)

(Forward)





Pn530.0 = 1(Waiting time Pn535 ? Reverse movement Pn531) ? No. of times of movement Pn536



 Speed DiagramNumber of times of movement Pn536


At zero speed

Movement	Pn531	Pn531	Pn531
speed	Movement	Movement	Movement
Pn533	distance	distance	distance




key ON	Accel/Decel time		Waiting time Waiting time	Pn534	Waiting time		Pn535
Pn535	Pn535Servomotor Run Status
					
(Stop)	(Reverse)	(Stop)	(Reverse)	(Stop)	(Reverse)
Pn530.0 = 2(Waiting time Pn535 ? Forward movement Pn531) ? No. of times of movement Pn536
(Waiting time Pn535 ? Reverse movement Pn531) ? No. of times of movement Pn536




 Speed DiagramNumber of times of movement Pn536	Number of times of movement Pn536



Movement	Pn531	Pn531	Accel/Decel time
speed	Movement	Movement  Waiting time  Pn534	Waiting time
Pn533	distance	distance	Pn535	Pn535
At zero speed
Movement
key ON	Pn531	Pn531	speed
Waiting time Accel/Decel Waiting time	Movement	Movement	Pn533
Pn535	time	Pn535	distance	distance
Pn534Servomotor Run Status
							
(Stop)	(Forward)	(Stop)	(Forward)	(Stop)	(Reverse)	(Stop)	(Reverse)
Pn530.0 = 3(Waiting time Pn535 ? Reverse movement Pn531) ? No. of times of movement Pn536
(Waiting time Pn535 ? Forward movement Pn531) ? No. of times of movement Pn536




 Speed DiagramNumber of times of movement Pn536	Number of times of movement Pn536
	
Accel/Decel time
Waiting time	Pn534	Waiting time	Waiting time		Pn531		Pn531	Movement Pn535			Pn535		Pn535	Movement	Movement	speed
key ON	distance	distance	Pn533

At zero speed
Pn531	Pn531
Movement	Movement	Waiting time
distance	distance		Accel/Decel time Pn535 Pn533	Pn534
Movement speedServomotor Run Status
							
(Stop)	(Reverse)	(Stop)	(Reverse)	(Stop)	(Forward)	(Stop)	(Forward)Note: When 3 is set to Pn530.0, infinite time operation is disabled.






Pn530.0 = 4(Waiting time Pn535 ? Forward movement Pn531 ? Waiting time Pn535 ? Reserve movement Pn531)
? No. of times of movement Pn536




 Speed DiagramNumber of times of movement Pn536


Pn531	Movement
Movement	speed
distance	Pn533
At zero speed

key ON	Pn531
Waiting time	Waiting time  Movement	Pn533
Pn535  Accel/Decel time Pn535	distance	Movement speed
Pn534Servomotor Run Status
				
(Stop)	(Forward)	(Stop)	(Reverse)	(Stop)

Pn530.0 = 5(Waiting time Pn535 ? Reverse movement Pn531 ? Waiting time Pn535 ? Forward movement Pn531)
? No. of times of movement Pn536Number of times of movement Pn536
	

 Speed Diagram
Accel/Decel time
Waiting time	Pn534	Waiting time	Pn531
Pn535	Pn535	Movement
key ON	distanceAt zero speed
Pn531	Movement
Movement	speed
distance	Pn533Servomotor Run Status

(Stop)
	
(Reverse)	(Stop)
	
(Forward)	(Stop)(6) Operating Procedure
Follow the steps below to perform the program JOG operation.

StepDisplay after
OperationKeysOperation
1




MODE/SET



DATA/
Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn004.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for more than one second. The dis- play shown on the left appears.
4



MODE/SET


DATA/
Press the MODE/SET Key. The servo turns ON.



StepDisplay after OperationKeysOperation


5










MODE/SET	DATA/Press the UP or DOWN Key according to the first movement direction of the operation pattern. After the preset waiting time, the movement starts.
<Supplementary Information>
• Press the MODE/SET Key again during operation, and the ser- vomotor will be in baseblock status and stop.
• Press the DATA/SHIFT Key for more than one second during operation, the servomotor stops and the display of step 2 appears.

6

(Blinking)"End" blinks when the program JOG operation movement com- pletes, and the display of step 4 appears.
<Supplementary Information>
• Press the MODE/SET Key, and the servomotor will be in base- block status and the display of step 3 appears.
• Press the DATA/ENTER Key for more than one second, and the display of step 2 appears.

7.6 Initializing Parameter Settings (Fn005)
This function is used when returning to the factory settings after changing parameter settings.

Follow the steps below to initialize the parameter setting.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn005.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4

Display blinks



MODE/SET



DATA/Press the MODE/SET Key. Then, the parameters will be initialized.
During initialization, the display shown on the left blinks.
5

Display blinks
When the initialization of parameter setting completes, the display shown on the left blinks for about one second.
6
The display changes from "donE" to the display shown on the left.
7




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn005" is displayed again.8Turn OFF the power and then turn ON again to validate the setting.

7.7 Clearing Alarm History (Fn006)
The clear alarm history function deletes all of the alarm history recorded in the SERVOPACK.
Note: The alarm history can be deleted only with this function. The alarm history is not deleted when the alarm reset is executed or the main circuit power supply of the SERVOPACK is turned OFF.
Follow the steps below to clear the alarm history.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn006.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4

Display blinks



MODE/SET



DATA/Press the MODE/SET Key to clear the alarm history.
The display shown on the left blinks for about one second when the data is cleared.
5
The display changes from "donE" to the display shown on the left.
6




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn006" is displayed again.

7.8 Manual Zero-adjustment of Analog Monitor Output (Fn00C)
This function is used to manually adjust the offsets for the analog monitor outputs (torque reference monitor output and motor speed monitor output). The offsets for the torque reference monitor output and motor speed monitor output can be adjusted individually. The offset values are factory-set before shipping. Therefore, the user need not usually use this function.
(1) Adjustment Example
An example of offset adjustment to the motor speed monitor is shown below.


ItemSpecificationsZero-adjustment Range-2 V to + 2 VAdjustment Unit18.9 mV/LSB<Supplementary Information>
• Offset adjustment cannot be made if write protection is set in Fn010.
• The adjustment value will not be initialized when parameter settings are initialized using Fn005.
• Make offset adjustment with a measuring instrument connected, so that the analog monitor output is zero. An example of settings for a zero analog monitor output is shown below.
• While the motor is not turned ON, set the monitor signal to the torque reference.
• In speed control, set the monitor signal to the position error.
(2) Operating Procedure
Follow the steps below to perform the manual zero-adjustment of analog monitor output.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn00C.
3




MODE/SET



DATA/Press the DATE/SHIFT Key for approximately one second. The display shown on the left appears.
4




MODE/SET



DATA/Press the MODE/SET Key to select channel-1 or channel-2 monitor output.



StepDisplay after OperationKeysOperation
5




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. Zero adjustment data will be displayed as shown on the left.
6




MODE/SET



DATA/Press the UP or DOWN Key to change the data. This com- pletes zero adjustment of the analog monitor output.

7





MODE/SET




DATA/Press the DATA/SHIFT Key for less than one second. The zero adjustment data will be displayed as shown on the left.
<Supplementary Information>
To adjust a different channel, switch the monitor channel using steps 4 through 6.
8




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn00C" is displayed again.

7.9 Manual Gain-adjustment of Analog Monitor Output (Fn00D)
This function is used to manually adjust the gains for the analog monitor outputs (torque reference monitor output and motor speed monitor output). The gains for the torque reference monitor output and motor speed monitor output can be adjusted individually. The gain values are factory-set before shipping. Therefore, the user need not usually use this function.
(1) Adjustment Example
An example of gains adjustment to the motor speed monitor is shown below.







n adjustment














The gain adjustment width is made with a 100% output set as a center value (adjustment range: 50% to 150%). A setting example is shown below.
<Setting the Set Value to ?125>
100% + (?125 ? 0.4%) = 50%
Therefore, the monitor output voltage is 0.5 times as high.
<Setting the Set Value to 125>
100% + (125 ? 0.4%) =150%
Therefore, the monitor output voltage is 1.5 times as high.

ItemSpecificationsGain-adjustment Range50% to 150%Adjustment Unit0.4%/LSB<Supplementary Information>
• Gain adjustment cannot be made if write protection is set in Fn010.
• The adjustment value will not be initialized when parameter settings are initialized using Fn005.



(2) Operating Procedure
Follow the steps below to perform the manual gain-adjustment of analog monitor output.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn00D.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4




MODE/SET



DATA/Press the MODE/SET Key to select channel-1 or channel-2 monitor output.
5




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. Gain adjustment data will be displayed as shown on the left.
6




MODE/SET



DATA/Press the UP or DOWN Key to change the data. This com- pletes gain adjustment of the analog monitor output.

7





MODE/SET




DATA/Press the DATA/SHIFT Key for less than one second. The gain adjustment data will be displayed as shown on the left.
<Supplementary Information>
To adjust a different channel, switch the monitor channel using steps 4 through 6.
8




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn00D" is displayed again.


7.10 Automatic Offset-Signal Adjustment of the Motor Current Detection (Fn00E)
Perform this adjustment only if highly accurate adjustment is required for reducing torque ripple caused by current offset. Basically, the user need not to perform this adjustment.

Follow the steps below.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn00E.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4

Display blinks



MODE/SET



DATA/Press the MODE/SET Key.
The offset will be automatically adjusted.
When the adjustment completes, the display shown on the left blinks for about one second.
5
The display changes from "donE" to the display shown on the left.
6




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn00E" is displayed again.


7.11 Manual Offset-Signal Adjustment of the Motor Current Detection (Fn00F)
Use this function only if the torque ripple is high after the automatic offset adjustment of the motor current detection signal (Fn00E).

Follow the steps below.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn00F.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left (phase U) appears.
4




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second to dis- play the phase-U offset amount.
5




MODE/SET



DATA/Press the UP or DOWN Key to adjust the offset. Carefully adjust the offset while monitoring the torque reference mon- itor signal.
Adjustable range: ?512 to +511
6




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. The display shown on the left appears.
7




MODE/SET



DATA/Press the MODE/SET Key.
The display shown on the left appears (phase V).
8




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second to dis- play the phase-V offset amount.
9




MODE/SET



DATA/Press the UP or DOWN Key to adjust the offset. Carefully adjust the offset while monitoring the torque reference mon- itor signal.
Adjustable range: ?512 to +511
10




MODE/SET



DATA/Press the DATA/SHIFT Key for less than one second. The display shown on the left appears.
11




MODE/SET



DATA/When the offset adjustment completes, press the DATA/ SHIFT Key for approximately one second.
"Fn00F" is displayed again.

7.12 Write Prohibited Setting (Fn010)
Prohibiting writing prevents writing parameters by mistake.
This function can write-protect all Pn??? parameters and the utility functions (Fn??? ) shown in (1) Utility Functions That Can Be Write-protected.
(1) Utility Functions That Can Be Write-protected

Parameter No.FunctionReference SectionFn002JOG operation7.3Fn003Origin search7.4Fn004Program JOG operation7.5Fn005Initialize parameter settings7.6Fn006Clear alarm traceback data7.7Fn008Absolute encoder multi-turn reset and encoder alarm reset5.9.5Fn009Automatic tuning of analog (speed, torque) reference offset5.3.2
5.5.2Fn00AManual servo tuning of speed reference offset5.3.2Fn00BManual servo tuning of torque reference offset5.5.2Fn00CManual zero-adjustment of analog monitor output7.8Fn00DManual gain-adjustment of analog monitor output7.9Fn00EAutomatic offset-adjustment of motor current detection signal7.10Fn00FManual offset-adjustment of motor current detection signal7.11Fn013Multi-turn limit value setting change when a Multi-turn Limit Disagreement alarm occurs5.9.8Fn014Resets configuration error of option card7.15Fn01BInitializes vibration detection level7.16Fn200Tuning-less level setting6.3.2Fn201Advanced autotuning6.4.2Fn202Advanced autotuning by reference6.5.2Fn203One-parameter tuning6.6.2Fn204Anti-resonance control adjustment function6.7.2Fn205Vibration suppression function6.7.2Fn206EasyFFT7.19Fn207Online vibration monitor7.20Note: If the write prohibited setting (Fn010) is enabled, the following display will appear on the Panel Operator when the user attempts to execute the above utility functions. To execute these utility functions, set Fn010 to write permitted.

Blinks for second



(2) Operating Procedure
Follow the steps below to set "write prohibited" or "write permitted." Setting values are as follows:
• "0000": Write permitted (Releases write prohibited mode.)
• "0001": Write prohibited (Parameters become write prohibited from the next power ON.)


StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Fn010.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4




MODE/SET



DATA/Press the UP or DOWN Key to set a value: "0000": Write permitted, "0001": Write prohibited


5


Display blinks






MODE/SET






DATA/Press the MODE/SET Key to register the value.
The write prohibited settings of parameters are executed. When the value is registered, the display shown on the left blinks for about one second.
Note:
If a value other than "0000" and "0001" is set, "Error" is dis- played.
6

The display changes from "donE" to "P.000?."
7




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn010" is displayed again.8Turn OFF the power and then turn ON again to validate the setting.

7.13 Servomotor Model Display (Fn011)
This function is used to check the servomotor model, voltage, capacity, encoder type, and encoder resolution. If the SERVOPACK has been custom-made, you can also check the specification codes of SERVOPACKs.
Follow the steps below.

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select Fn011.







3



















MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second to display the servomotor model and voltage code.




Servomotor Voltage		Servomotor Model Data		Type	Data	Model 02	400 VAC	 60 SGMAV
01	200 VAC	63  SGMGV
6D SGMJV
32 SGMCS-??C
33 SGMCS-??D
34 SGMCS-??B
35 SGMCS-??E
36 SGMCS-??L
37 SGMCS-??M


4









MODE/SET	DATA/Press the MODE/SET Key to display the servomotor capac- ity.




Servomotor capacity in units of 10 W The above example indicates 100 W





5














MODE/SET	DATA/Press the MODE/SET Key, and the encoder type and reso- lution code will be displayed.




  Encoder Type Encoder Resolution Data  Type	Data Resolution 00  Incremental   13   13-bit
01 Absolute	20	20-bit (Multi-turn)
Absolute
02 (Within one rotation)


6









MODE/SET	DATA/Press the MODE/SET Key to display the SERVOPACK's code for custom orders.
* The display "y.0000" means standard model.




Code for custom orders



StepDisplay after OperationKeysOperation
7




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn011" is displayed again.7.14 Software Version Display (Fn012)
Set Fn012 to select the software-version check mode to check the SERVOPACK and encoder software version numbers.
Follow the steps below.

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select Fn012.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second to display the SERVOPACK software version number.
4




MODE/SET	DATA/Press the MODE/SET Key to display the encoder software version number.
5




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn012" is displayed again.

7.15 Resetting Configuration Error of Option Card (Fn014)
The SERVOPACK with option card recognizes installation status and types of option card which is connected to SERVOPACK. If an error is detected, the SERVOPACK issues an alarm.
This function resets these alarms.
For alarm types and corrective actions, refer to 10 Troubleshooting.
Note 1. Alarms related to option cards can be cleared only this function. These alarms cannot be cleared by alarm reset or turning OFF the main circuit power supply.
2. Before clearing the alarm, perform corrective action for the alarm.
(1)	Operating Procedure
Follow the steps below.

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2





MODE/SET	DATA/
Press the UP or DOWN Key to select Fn014.
3





MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4





MODE/SET	DATA/Press the UP or DOWN Key to select option card to be cleared.
5




MODE/SET	DATA/Press the MODE/SET Key for approximately one second. The display shown on the left appears.



6

Display blinks
?








MODE/SET	DATA/


Press the MODE/SET Key again. The display changes shown on the left and the configuration error of option card is cleared.
7
The display changes from "done" to the display shown on the left.
8





MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn014" is displayed again.9Turn OFF the power and then turn ON again to validate the setting.

7.16 Vibration Detection Level Initialization (Fn01B)
This function detects vibration when servomotor is connected to a machine and automatically adjust the vibra- tion detection level (Pn312) to output more exactly the vibration alarm (A.520) and warning (A.911).
The vibration detection function detects vibration elements according to the motor speed, and if the vibration exceeds the detection level calculated by the following formula, outputs an alarm or warning depending on the setting of vibration detection switch (Pn310).

Detection level = Vibration detection level (Pn312[min-1]) ? Detection sensibility (Pn311[%])
100

<Remarks>
• Use this function if the vibration alarm (A.529) or warning (A.911) is not output correctly when a vibration above the factory setting vibration detection level (Pn312) is detected. In other cases, it is not necessary to use this function.
• The vibration alarm or warning detection sensibility differs depending on the machine conditions. In this case, a detection sensibility fine adjustment can be set in the detection sensibility Pn311.

(1) Operating Procedure
Follow the steps to initialize the parameter Pn312.

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select Fn01b.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.



4



Display blinks








MODE/SET	DATA/Press the MODE/SET Key for approximately one second again. The display shown on the left will flash and the vibration level will be detected and refreshed. This will con- tinue until the MODE/SET Key is pressed again.
Note:
• Operate the SERVOPACK with the references that will used for actual operation.
• If the servomotor is rotating at 10% or less of the maxi- mum speed, "Error" will be displayed.
5





MODE/SET	DATA/Press the MODE/SET Key again at a suitable time to com- plete frequency detection and refreshing the setting. This will enable the setting. If the setting has been completed normally, "donE" will be displayed. If there was a setting failure, "Error" will be displayed.



StepDisplay after OperationKeysOperation
6




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn016" is displayed again.
(2) Related Parameters
Use the following parameters as required.


Pn311Vibration Detection SensibilitySpeedPosition	TorqueClassificationSetting RangeSetting UnitFactorySettingWhen Enabled50 to 5001%100ImmediatelySetup
Pn312Vibration Detection LevelSpeedPositionTorque
ClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to 50001 min-150ImmediatelySetupNote: Pn312 is set by the vibration detection level, so it is not necessary to adjust it.
The vibration detection sensibility can be set at Pn311.

ParameterMeaningWhen EnabledClassification
Pn310n.???0Does not detect vibration (Factory setting)
Immediately
Setupn.???1Outputs the warning (A.911) when vibration is detected.n.???2Outputs the alarm (A.520) when vibration is detected.

7.17 Display of SERVOPACK and Servomotor ID (Fn01E)
This function displays ID information for SERVOPACK, servomotor, encoder and option card connected to the SERVOPACK.
To perform this function, the digital operator (JUSP-OP05A-1-E, option) or SigmaWin+ (option) is needed. This function cannot be performed with the panel operator provided as an accessory.
The following items can be displayed.

IDItems to be Displayed

SERVOPACK• SERVOPACK model
• SERVOPACK serial number
• SERVOPACK manufacturing date
• SERVOPACK input voltage (V)
• Maximum applicable motor capacity (W)
• Maximum applicable motor rated current (Arms)

Servomotor• Servomotor model
• Servomotor serial number
• Servomotor manufacturing date
• Servomotor input voltage (V)
• Servomotor capacity (W)
• Servomotor rated current (Arms)
Encoder• Encoder model
• Encoder serial number
• Encoder manufacturing date
• Encoder type/resolution
Feedback Option Card• Feedback option card model
• Feedback option card serial number (Reserved area)
• Feedback option card manufacturing date
• Feedback option card IDNote: ID information for fully-closed control I/F card such as model number, serial number and manufacturing date cannot be displayed.


7.18 Display of Servomotor ID in Feedback Option Card (Fn01F)
This function displays ID information for servomotor and encoder in feedback option card connected to the SERVOPACK.
To perform this function, the digital operator (JUSP-OP05A-1-E, option) or SigmaWin+ (option) is needed. This function cannot be performed with the panel operator provided as an accessory.
The following items can be displayed.

IDItems to be Displayed

Servomotor• Servomotor model
• Servomotor serial number
• Servomotor input voltage (V)	Reserved area
• Servomotor capacity (W)
• Servomotor rated current (Arms)
Encoder• Encoder model
• Encoder serial number
• Encoder type/resolution (bit number display and pulse number/Rev dis- play available)Parameter file ID• Parameter file source ID (character: 14 )	Reserved area
• Parameter file version (4 digits hexadecimal display)

7.19 EasyFFT (Fn206)


Machine vibration may be suppressed with a notch filter setting made according to the detected vibration fre- quency.
This function detects and sets the frequency as a parameter for the notch filter according to the machine char- acteristics. This setting function is called EasyFFT.
EasyFFT sends a frequency waveform reference from the SERVOPACK to the servomotor and rotates the ser- vomotor at minimal speed a number of times over a certain period, thus causing machine vibration. The SER- VOPACK detects the resonance frequency from the generated vibration and makes notch filter settings according to the resonance frequency detection. The notch filter is effective for the elimination of high-fre- quency vibration and noise.

SERVOPACK


In addition to this function, Online Vibration Monitor (Fn207) can be used to detect machine vibration and automatically make notch filter settings. Use the following flowchart to determine which function should be used.






When using mainly for servo gain adjustment, etc.


(1) Operating Procedure
Follow the steps below.

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select Fn206.

3

Setting reference amplitude



MODE/SET	DATA/
Press the DATA/SHIFT for approximately one second. The display shown on the left appears. The panel operator is in Fn206 utility setting execution mode.



StepDisplay after OperationKeysOperation




4













MODE/SET	DATA/Press the UP or DOWN Key to set a reference amplitude. Reference amplitude setting: 1 to 800
Note:
• At the initial execution of Fn206, do not change the refer- ence amplitude setting, but starts from the initial value
15. Though increasing reference amplitude increases the detection accuracy, the vibration and noise occurring on the machine will increase momentarily. Increase an amplitude value little by little, observing the result.
• The setting value of the reference amplitude setting is stored in Pn456.
5

Run ready status



MODE/SET	DATA/
Press the DATA/SHIFT Key for approximately one second to enter the run ready status.

6





MODE/SET	DATA/Press the MODE/SET Key to enter Servo ON status (the motor power ON)
<Supplementary Information>
Press the MODE/SET Key to turn the servo OFF. "F" is displayed to indicate the run ready status.




7


Display blinks

  Servomotor small movement










MODE/SET	DATA/In the Servo ON status (the servomotor power ON), press the UP Key (forward) or the DOWN Key (reverse). The servomotor performs a few to-and-from movements within 1/4 rotation in automatic operation. The motor performs such movements for approximately 1 to 45 seconds. During this operation, the display shown on the left blinks.
Note:
• Do not enter the machine's working area, because the ser- vomotor rotates. Some noise may result.
• Press the MODE/SET Key to stop the servomotor. No detection is executed. "F." is displayed to indicate the run ready status (step 5).

8

Detection result example
At normal completion of the detection, "E_FFt" stops blink- ing and the detected resonant frequency is displayed. When failing to detect, "F  " is displayed.* IMPORTANT
If the operation ended normally but it took two second or more, the detection accuracy may not be good. Set the reference amplitude little higher than 15 in step 4 and re-execute the operation. More accurate resonance may be fre- quency detected.
Though increasing reference amplitude increases the detection accuracy, the vibration and noise occurring in the machine will increase momentarily. Increase an amplitude value little by little, observing the result.


9




MODE/SET



DATA/To end the vibration monitor, press the DATA/SHIFT Key for less than one second. To set the detected value, pro- ceed to step 11.
10




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The servo turns OFF (the servomotor power OFF) and the utility function mode display appears.




11

 Display blinks Pn408=n.???1 Pn409=1375 (Hz)










MODE/SET










DATA/After the detection completes normally, press the MODE/ SET Key. The optimum notch filter for the detected fre- quency is automatically set. When the notch filter is set correctly (Pn408, Pn409), the display "donE" blinks.
When the 1st notch filter frequency was already set (Pn408=n???1), sets 2nd notch filter frequency (Pn40C). When the 2nd notch filter frequency (Pn408=n.?1??) was also set, the frequency setting of notch filter is unable. If the detected frequency is not used, set the Pn408=n.???0



StepDisplay after OperationKeysOperation
12

Run ready status



MODE/SET	DATA/
Press the MODE/SET Key to return to the display of run ready status.
13




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. "Fn206" is displayed again.(2) Related Parameters
Use the following parameters as required.


Pn40C2nd Notch FIlter Frequency	Speed	Position	TorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled50 to 50001 Hz5000ImmediatelyTuning

Pn456Sweep Torque Reference Amplitude	Speed	Position	TorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled1 to 8001%15ImmediatelyTuning
ParameterMeaningWhen EnabledClassification

Pn408n.???0Disables 1st notch filter. (Factory setting)

Immediately

Setupn.???1Uses 1st notch filter.n.?0??Disables 2nd notch filter. (Factory setting)n.?1??Uses 2nd notch filter.

Pn4091st Notch FIlter Frequency	Speed	Position	TorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled50 to 50001 Hz5000ImmediatelyTuning

7.20 Online Vibration Monitor (Fn207)
The machine vibration can sometimes be suppressed by setting a notch filter or torque reference filter for the vibration frequencies.
When online, vibration frequencies caused by machine resonance will be detected and the frequency that has the highest peak will be displayed on the Panel Operator. The effective torque reference filter or notch filter frequency for the vibration frequency will be automatically selected. In addition to this function, EasyFFT (Fn206) can be used to detect machine vibration and automatically make notch filter settings. Use the follow- ing flowchart to determine which function should be used.


When using mainly for servo gain adjustment, etc.




(1) Operating Procedure
Follow the steps below.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select the Fn207.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.
4

Display blinks



MODE/SET



DATA/
Press the MODE/SET Key. "F" will blink, and the detection of frequencies will start automatically.



5


Detection result example








MODE/SET








DATA/When "F" stops blinking, detection has been completed. If detection has been performed normally, the results of detec- tion will be displayed.
The displayed value is the frequency of the highest peak of vibration.
Note:
• If a frequency is not detected, "F	" will be displayed.
• If detection processing is not completed normally for some reason, "no_oP" will be displayed.
6




MODE/SET



DATA/To make only a vibration frequency check without setting the results of detection, press the DATA/SHIFT Key. Pro- ceed to step 7 to set the results of detection.
7




MODE/SET



DATA/If the MODE/SET Key is pressed, the optimum notch filter frequency or torque reference filter time constant for the frequency value will be set automatically, and "donE" will be displayed if the setting is completed normally.
8




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second. "Fn207" is displayed again.(2) Related Parameters
The following parameters are set automatically by using online vibration monitor.

ParameterMeaningPn401Torque Reference Filter Time ConstantPn408Torque Related Function SwitchPn4091st Notch Filter Frequency

7.21 Origin Setting (Fn020)
This function sets current scale position as origin when using the absolute external scale. Use the following product as an absolute external scale.
Absolute separate linear scale (made by Mitutoyo Corporation)
ABS ST780A series Model ABS ST78?A
(1) Settings before Operation
The following settings are required before setting origin.
• If the S-ON input signal is ON, turn OFF the signal.
• If Pn50A.1 is set to 7 (i.e., the servo is always ON), change the value.
(2) Operating Procedure

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select Fn020.
3




MODE/SET	DATA/Press the DATA/SHIFT Key for approximately one second. The display shown on the left appears.

4





MODE/SET	DATA/Press the UP Key until "OSET5" is displayed. Note:
If there is a mistake during key operations. "NO_OP" will be displayed for approximately one second and then "Fn000" will be displayed again.
5




MODE/SET	DATA/Press the MODE/SET Key to set the origin of the scale. After the setting is completed, "donE" will blink for approx- imately one second.
6

After one second
After "donE" is displayed, "OSET5" is displayed again.
7
Press the DATA/SHIFT Key for approximately one second. "Fn020" is displayed again.8Turn OFF the power and then turn ON again to validate the setting.

7.22 Software Reset (Fn030)
This function enables resetting the SERVOPACK internally from software. If this function is used when parameter changes have been made that require turning the power OFF and ON, the changes will be reflected
without actually turning the power OFF and ON.

Follow the steps below to reset the SERVOPACK internally.

StepDisplay after OperationKeysOperation
1




MODE/SET	DATA/Press the MODE/SET Key to select the utility function mode.
2




MODE/SET	DATA/
Press the UP or DOWN Key to select Fn030.
3




MODE/SET	DATA/Press the DATE/SHIFT key for approximately one second. The display shown on the left appears.


4



Display after operation







MODE/SET	DATA/
Press the UP Key until "SrSt5" is displayed. Note:
If there is a mistake during key operations, "nO_OP" will be displayed for approximately one second and then "Fn030" will be displayed again.
5



MODE/SET	DATA/Press the MODE/SET Key. The panel display will disap- pear.
Note:
This function cannot be executed while the servo is ON.
6




MODE/SET	DATA/The status display screen, which is the same as the screen that is displayed immediately after the power turned ON, will appear.

8

Monitor Modes (Un???)



8.1 List of Monitor Modes	8-2
8.2 Operation in Monitor Mode	8-3
8.3 Reading 32-bit Decimal Displays	8-4
8.4 Monitoring Input Signals	8-5
8.4.1 Checking Input Signal Status	8-5
8.4.2 Interpreting Input Signal Display Status	8-5
8.4.3 Input Signal Display Example	8-6
8.5 Monitoring Output Signals	8-7
8.5.1 Checking Output Signal Status	8-7
8.5.2 Interpreting Output Signal Display Status	8-7
8.5.3 Output Signal Display Example	8-7
8.6 Monitor Display at Power ON	8-8
8.7 Monitoring I/O Signals	8-8


8.1 List of Monitor Modes
The monitor mode can be used for monitoring the reference values, I/O signal status, and SERVOPACK inter- nal status.
Refer to the following table.

Parameter No.Content of DisplayUnitUn000Motor rotating speedmin-1Un001Speed referencemin-1Un002Internal torque reference (in percentage to the rated torque)%Un003*3Rotation angle 1 (32-bit decimal code)pulseUn004Rotation angle 2 (Electric angle from 0 degree of phase-U)degUn005*1Input signal monitor?Un006*2Output signal monitor?Un007Input reference pulse speed (valid only in position control)min-1Un008Error counter (position error amount) (valid only in position control)reference unitUn009Accumulated load ratio (in percentage to the rated torque: effective torque in cycle of 10 seconds)%Un00ARegenerative load ratio (in percentage to the processable regenerative power: regenerative power consumption in cycle of 10 seconds)%Un00BPower consumed by DB resistance
(in percentage to the processable power at DB activation: dis- played in cycle of 10 seconds)
%Un00C*3Input reference pulse counter (32-bit decimal code)reference unitUn00D*3Feedback pulse counter (encoder pulses ? 4 (multiplier): 32-bit decimal code)encoder pulse
Un00E*3Fully-closed feedback pulse counter
(Fully-closed feedback pulse ? 4 (multiplier): 32-bit decimal code)
External encoder pulseUn012Total operation time100 msUn013*3Feedback pulse counter (32-bit decimal code)reference unitUn014Effective gain monitor?Un015Safety I/O signal monitor?Un020Motor rated speedmin-1Un021Motor maximum speedmin-1???  Refer to 8.4 Monitoring Input Signals.
???  Refer to 8.5 Monitoring Output Signals.
???  Refer to 8.3 Reading 32-bit Decimal Displays.


8.2 Operation in Monitor Mode
The example below shows how to display the contents of monitor number Un000 (when the servomotor rotates at 1500 min-1)

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/Press the MODE/SET Key to select the monitor mode.
2




MODE/SET



DATA/Press the UP or DOWN Key to select the monitor number to be displayed.
3




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one sec- ond to display the data of Un000 (motor speed).
4




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one sec- ond to return to the display of step 1.

8.3 Reading 32-bit Decimal Displays
This section describes how to read parameters displayed in 32-bit decimal on the Panel Operator.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/
Press the MODE/SET Key to select the monitor mode.
2




MODE/SET



DATA/Press the UP or DOWN Key to display the parameter to be displayed in 32-bit decimal.
3Lower 4 digits




MODE/SET




DATA/Press the DATA/SHIFT Key for approximately one second. The lower 4 digits of the setting of the selected parameter are displayed.
4Middle 4 digits



MODE/SET



DATA/After checking the displayed digits, press the DATA/SHIFT Key. The middle 4 digits of the setting of the selected parameter are displayed.

5Upper 2 digits





MODE/SET





DATA/Press the DATA/SHIFT Key again. The upper 2 digits of the setting of the selected parameter are displayed.
<Supplementary Information>
If the DATA/SHIFT Key is pressed after the upper 2 digits are displayed, the lower 4 digits of the setting will be dis- played again.
6




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second to return to the display of step 2.The method for reading the display is summarized below.


The indicator blinking on the left indicates the position of the digits
(e.g., the upper, middle, or lower digits). The digit indicators and numeric value indicatethe setting of the parameter.



Upper 2 digits
Middle 4 digits
Lower 4 digits

Upper 2 digits

Middle 4 digits

Lower 4 digits



"-" will be displayed only if the value is a signed negative value.
will be displayed if the value is negative.

Decimal point


<Supplementary Information>
The number of pulses between -2147483648 (-231) and 2147483647 (-231) is displayed continuously. When the number of pulses is outside this range, the display will change as follows:

• The displayed value will change to 2147483647 when the number of pulses decreases by one from
-2147483648. Thereafter, the displayed value will decrease according to the number of pulses.
• The displayed value will change to -2147483648 when the number of pulses increases by one from 2147483647. Thereafter, the displayed value will increase according to the number of pulses.


8.4 Monitoring Input Signals
The status of input signals can be checked with the input signal monitor (Un005). The procedure for checking the status, the method of reading the monitor, and a display example are shown below.
8.4.1 Checking Input Signal Status
Use the following steps to check the allocations of input signals using parameter Un005.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/
Press the MODE/SET Key to select the monitor mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Un005.

3

Input signal display status




MODE/SET




DATA/The present status can be displayed on the 7-segment display on the Panel Operator by pressing the DATA/ SHIFT Key for approximately one second. Refer to 8.4.2 Interpreting Input Signal Display Status.
4




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second to return to the display of step 2.8.4.2 Interpreting Input Signal Display Status
The status of allocated signals is displayed on the 7-segment display on the Panel Operator. Input terminals correspond to LED numbers as shown in the following table.




8 7 6 5 4 3 2 1 

Top: OFF(H level) Bottom: ON(L level)
Number


• When the input is in OFF (open) status, the top segment (LED) is lit.
• When the input is in ON (short-circuited) status, the bottom segment (LED) is lit.

Display LED NumberInput Terminal NameFactory Setting1CN1-40/S-ON2CN1-41/P-CON3CN1-42P-OT4CN1-43N-OT5CN1-44/ALM-RST6CN1-45/P-CL7CN1-46/N-CL8CN1-4SEN


8.4.3 Input Signal Display Example

8.4.3 Input Signal Display Example
Input signals are displayed as shown below.
• When /S-ON signal is ON (Servo ON at L level)




8 7 6 5 4 3 2 1 

The bottom segment of number 1 is lit.


• When /S-ON signal is OFF

The top segment of number 1 is lit.
87 6 5 4 3 2 1 

• When P-OT signal operates (Operates at "H" level)
The top segment of number 3 is lit.


87 6 5 4 3 2 1


8.5 Monitoring Output Signals
The status of output signals can be checked with the input signal monitor (Un006). The procedure for check- ing the status, the method of reading the monitor, and a display example are shown below.
8.5.1 Checking Output Signal Status
Use the following steps to check the allocations of output signals using parameter Un006.

StepDisplay after OperationKeysOperation
1




MODE/SET



DATA/
Press the MODE/SET Key to select the monitor mode.
2




MODE/SET



DATA/
Press the UP or DOWN Key to select Un006.

3

Output signal display status




MODE/SET




DATA/The present status can be displayed on the 7-segment dis- play on the Panel Operator by pressing the DATA/SHIFT Key for approximately one second. Refer to 8.5.2 Interpret- ing Output Signal Display Status.
4




MODE/SET



DATA/Press the DATA/SHIFT Key for approximately one second to return to the display of step 2.8.5.2 Interpreting Output Signal Display Status
The status of allocated signals is displayed on the 7-segment display on the Panel Operator.




7 6 5 4 3 2 1 

Top: OFF(H level) Bottom: ON(L level)
Number


• When the output is in OFF (open) status, the top segment (LED) is lit.
• When the output is in ON (short-circuited) status, the bottom segment (LED) is lit.

Display LED NumberOutput Terminal NameFactory Setting1CN1-31, -32ALM2CN1-25, -26/COIN or /V-CMP3CN1-27, -28/TGON4CN1-29, -30/S-RDY5CN1-37AL016CN1-38AL027CN1-39AL038?Reserved8.5.3 Output Signal Display Example
Output signals are displayed as shown below.
• When ALM signal operates (alarm at H level)

The top segment of number 1 is lit.
7 6 5 4 3 2 1 




8.6 Monitor Display at Power ON
When Un number is set using Pn52F, the data of Un??? that was specified in the panel operator is displayed when the power is turned ON. When the FFF is set (factory setting), the SERVOPACK becomes the status display mode (bb, run) at power ON.


Pn52FMonitor Display at Power ON	Speed	Position	TorqueClassificationSetting RangeSetting UnitFactory SettingWhen Enabled0 to FFF?FFFImmediatelySetup
8.7 Monitoring I/O Signals
The following I/O signals can be monitored.

Un Number
Pin Number
Signal NameLED
NumberUn005 Input Signal Monitor

1CN1-40 (can be allocated)/S-ON (factory setting)2CN1-41 (can be allocated)/P-CON (factory setting)3CN1-42 (can be allocated)P-OT (factory setting)4CN1-43 (can be allocated)N-OT (factory setting)5CN1-44 (can be allocated)/ALM-RST (factory setting)6CN1-45 (can be allocated)/P-CL (factory setting)7CN1-46 (can be allocated)/N-CL (factory setting)8CN1-4SENUn006 Output Signal Monitor

1CN1-31, 32ALM2CN1-25, 26 (can be allocated)/COIN or /V-CMP (factory setting)3CN1-27, 28 (can be allocated)/TGON (factory setting)4CN1-29, 30 (can be allocated)/S-RDY (factory setting)5CN1-37AL016CN1-38AL027CN1-39AL0380Zero fixedUn015 Safety I/O Signal Monitor

1CN8-4/HWBB1+2CN8-3/HWBB1-3CN8-6/HWBB2+4CN8-5/HWBB2-5CN8-8EDM1+6CN8-7EDM2+7-Reserved8-Reserved* SigmaWin+ I/O signal monitor function
I/O signals can be checked using the I/O signal monitor function of SigmaWin+.
This function can perform output signal output and output prohibited setting. Therefore, sequence of host con- troller and wiring between the SERVOPACK and host controller, peripheral devices can be checked.


9

Fully-closed Loop Control



9.1 System Configuration and Connection Example for
SERVOPACK with Fully-closed Loop Control	9-2
9.1.1 System Configuration	9-2
9.1.2 Internal Configuration of Fully-closed Loop Control	9-3
9.1.3 Serial Converter Unit	9-4
9.1.4 Analog Signal Input Timing	9-5
9.1.5 Connection Example of External Encoder by Heidenhain	9-6
9.1.6 Connection Example of External Encoder by Mitutoyo	9-7
9.1.7 Connection Example of External Encoder by Renishaw	9-8
9.1.8 Encoder Output Pulse Signals from SERVOPACK with a External Encoder by
Renishaw	9-9
9.2 Related Parameters	9-10
9.2.1 Setting Order of Related Parameters	9-10
9.2.2 Speed Feedback Method during Fully-closed Loop Control	9-10
9.2.3 Motor Rotation Direction	9-10
9.2.4 Sine Wave Pitch (Frequency) for an External Encoder	9-12
9.2.5 Number of Encoder Output Pulses (PAO, PBO, and PCO) from
the SERVOPACK	9-13
9.2.6 Electronic Gear	9-14
9.2.7 Alarm Detection	9-14
9.2.8 Analog Monitor Signal	9-15



9.1.1 System Configuration

9.1 System Configuration and Connection Example for SERVOPACK with Fully-closed Loop Control
This section describes the system configuration and connection example for the SERVOPACK with fully- closed loop control.
9.1.1 System Configuration
The following figure shows the system configuration for fully-closed loop control.




SGDV-???01V SERVOPACK

Option card for fully-closed loop control
Model: SGDV-OFA01AV


















Servomotor
main circuit cable



Cable with connectors at both ends


Serial converter unit
Model: JZDP-D00?-????-E






Encoder cable






External encoder (linear encoder) (Provided by the customer)



9.1.2 Internal Configuration of Fully-closed Loop Control
Internal configuration of fully-closed loop control is shown below.
* With Position Control
SERVOPACK

Note: Either an incremental or an absolute encoder can be used. When the absolute encoder is used, set 0 to Pn002.2 (use the absolute encoder as an incremental encoder).
* With Speed Control
SERVOPACK



9.1.3 Serial Converter Unit

9.1.3 Serial Converter Unit
(1) Model: JZDP-D00?-????-E
(2) Characteristics and Specifications

ItemsSpecifications





Electrical CharacteristicsPower Supply Voltage+5.0V?5%, ripple content 5% max.Current Consumption ?1120 mA Typ. 350 mA Max.Signal ResolutionInput 2-phase sine wave: 1/256 pitchMax. Response
Frequency250 kHzAnalog Input Signals ?2
(cos, sin, Ref)Differential input amplitude: 0.4 V to 1.2 V
Input signal level: 1.5 V to 3.5 VOutput Signal ?3Position data, alarmsOutput MethodSerial data communications
(HDLC (High-level Data Link Control) protocol format with Manchester codes)Transmission Cycle62.5 ?sOutput CircuitBalanced type transceiver (SN75LBC176 or the equivalent), internal end resistor: 120 ?
Mechanical CharacteristicsApprox. Mass150 gVibration Resistance98 m/s2 max. (10 to 2500 Hz) in three directionsShock Resistance980 m/s2, (11 ms) two times in three directionsEnvironmental ConditionsOperating Temperature0 ?C to 55 ?CStorage Temperature-20 ?C to +80 ?CHumidity20 % to 90 %RH (without condensation)* 1. The current consumption of the external encoder is not included in this value.
The current consumption of the external encoder must be taken into consideration for the current capacity of host controller that supplies the power.
* 2. Input a value within the specified range. Otherwise, incorrect position information is output, and the device may be damaged.
* 3. The transmission is enabled 100 to 300 ms after the power turns ON.



9.1.4 Analog Signal Input Timing
The following figure shows the input timing of the analog signals.
When the cos and sin signals are shifted 180 degrees, the differential signals are the /cos and /sin signals. The specifications of the cos, /cos, sin, and /sin signals are identical except for the phase.
Input the signals Ref and /Ref so that they shall cross each other as shown in the figure because they are input into the converter. When they are crossed, the output data will be counted up.




cos
?A+?


cos?/cos?sin?/sin Input voltage range:
1.5V VQ 3.5V













Ref?/Ref
Input voltage range:
1.5V to 3.5V

/cos
?A-?


sin
?B+?


/sin
?B-?


/Ref
?R-?
Ref
?R+?













Zero Point






9.1.5 Connection Example of External Encoder by Heidenhain

9.1.5 Connection Example of External Encoder by Heidenhain
(1) Connection Example


SGDV-OFA01A
Option card for fully-closed loop control
SERVOPACK	Serial converter unit JZDP-D003-???-E
CN12	CN1	CN2




External encoder
by Heidenhain Corp.



JZSP-CLP20-?? or JZSP-CLP70-??

Connection cable
by Heidenhain Corp.

(2) Specifications of Serial Converter Unit (JZDP-D003-???E)


Units: mm



2?#4-40 UNC tapped holes



4?? 4.2



External encoder end



















4?M5 tapped holes, depth 10

	

SERVOPACK end
Serial data output


17-series connector model:
17LE-13090-27
(socket) by DDK Ltd.

External encoder end Analog signal input

17-series connector model:
17LE-13150-27
(socket) by DDK Ltd.





Note 1.  Do not use the empty pins.
2. The external encoder (analog 1Vp-p output, D-sub 15-pin) manufactured by Heidenhain Corp. can be directly connected.



9.1.6 Connection Example of External Encoder by Mitutoyo
The serial converter unit is not needed when using the external encoder made by Mitutoyo Corporation.
Option card for

SERVOPACK

fully-closed loop control

External encoder by Mitutoyo Corp.
(ABS ST78?A)


JZSP-CLP70-??-E	Connection cable
by Mitutoyo Corp.



9.1.7 Connection Example of External Encoder by Renishaw

9.1.7 Connection Example of External Encoder by Renishaw
(1) Connection Example




 SERVOPACK SGDV-

SGDV-OFA01A
Option card for fully-closed loop control




Serial converter unit
JZDP-D005-???-E	External encoder by Renishaw Inc.

????
???

CN12	CN1	CN2


 JZSP-CLP20-?? or JZSP-CLP70-??

D-sub 15-pin connector

(2) Specifications of Serial Converter Unit (JZDP-D005-???E)


Units: mm
         2?#4-40 UNC tapped holes SERVOPACK end
Serial data output connector (CN1)



2 - ? 4.2 holes



4??4.2 holes



Nameplate


External encoder end Analog signal input connector (CN2)







1.5
3
14.35?0.4


65?0.3
72
82?0.3
90

300?30






4?M5 tapped holes, depth 10


	

SERVOPACK end
Serial data output

External encoder end Analog signal input








SERVOPACK does not have the function to process Vq signals.

17-series connector model:
17LE-13090-27
(socket) by DDK Ltd.


17-series connector model:
17JE-13150-02 (D8C)
(socket) by DDK Ltd.





Note 1. Do not use empty pins.
2. The external encoder (analog 1Vp-p output, D-sub 15-pin) by Renishaw Inc. can be directly connected. How- ever, the BID and DIR signals are not connected.
3. Use the external encoder end connector to change the home position specifications of the external encoder.



9.1.8 Encoder Output Pulse Signals from SERVOPACK with a External Encoder by Renishaw
The output position of the zero point signal (Ref) may vary in some models of the external encoder made by Renishaw.
If using a Renishaw model, the phase-C pulses of the SERVOPACK are output at two positions.
For details on the specifications of the zero-point signals for a external encoder, refer to the manual for the Renishaw external encoder.
(1) When Passing the 1st Zero Point Signal (Ref) in Positive Direction after Power ON


Machine position (Positive direction)









Power ON
Zero point signal
?Ref?

Time



Phase-C



No zero point signal (Ref) is sent from the external encoder. However, a phase-C pulse will be sent from the SERVOPACK when moving in the negative direction, because it is the same position from which a phase-C pulse was sent from the SERVOPACK when moving in a positive direction.




Second pulse is half as wide as the phase-A pulse.


(2) When Passing the 1st Zero Point Signal (Ref) in Negative Direction after Power ON

Machine position (Positive direction)









Power ON
Zero point signal
?Ref?

Time



Phase C



No zero point signal (Ref) is sent from the external encoder. However, a phase-C pulse will be sent from the SERVOPACK when moving in the positive direction, because it is the same position from which a phase-C pulse was sent from the SERVOPACK when moving in a negative direction.




Second pulse is half as wide as the phase-A pulse.



9.2.1 Setting Order of Related Parameters

9.2 Related Parameters
This section describes the parameters related to fully-closed loop control.
9.2.1 Setting Order of Related Parameters
The basic setting order of related parameters is shown below.
If the SERVOPACK is in speed control or torque control, perform steps 1 through 4. If the SERVOPACK is in position control, perform steps 1 through 7.
StepSetting ContentsSet ParametersReference1Set the motor rotating directionPn000.0/Pn002.39.2.32Sets the number of pitches (cycles) of the sine wave for the external scale.Pn20A9.2.43Sets the number of output pulses of the PG output signal (PAO, PBO and PCO) from the SERVOPACK to an external device.Pn2819.2.54Set the electronic gear.Pn20E/Pn2109.2.65Set the alarm detectionPn51B/Pn52A9.2.76Set the analog monitor signal.Pn006/Pn0079.2.89.2.2 Speed Feedback Method during Fully-closed Loop Control
There are two types for speed feedback method during fully-closed loop control.
Uses motor encoder speed:
External encoder speed is used in position control and motor encoder speed is used in speed control. Normally use this setting.
Uses external encoder speed:
External encoder speed is used in both position control and speed control. With this setting, speed ripple can be reduced when the external encoder resolution is higher than the motor encoder resolution. This setting is effective when high-resolution external encoder is connected to direct drive motor.

(1)	Related Parameter

ParameterMeaningWhen EnabledClassificationPn22An.0???Uses motor encoder speed. (factory setting)After restartSetupn.1???Uses external encoder speed.Note: This parameter is not be used when Pn002.3 is set to 0.

9.2.3 Motor Rotation Direction
The motor rotation direction can be set. To perform fully closed control, it is necessary to set the motor rota- tion direction with both Pn000.0 (motor rotating direction) and Pn002.3 (external encoder usage method).




(1) Parameter Pn000.0
* The standard setting for "forward rotation" is counterclockwise as viewed from the drive end.

ParameterMeaning














Pn000




n.???0 Standard setting (CCW = Forward) (Factory setting)* Forward Reference
Analog monitor	Encoder output pulses Torque reference
PAO
Forward		PBO	Phase B lead (CCW)	Rotation speed
* Reverse Reference
Analog monitor
Torque reference	Encoder output pulses

PAO	Phase A lead
Reverse	PBO
(CW)	Rotation speed




n.???1 Reverse Rotation Mode
(CW = Forward)* Forward Reference
Analog monitor	Encoder output pulses Torque reference
PAO
PBO	Phase B lead
Forward
(CW)	Rotation speed
* Reverse Reference
Analog monitor
Torque reference  Encoder output pulses

PAO	Phase A lead
Reverse	Rotation speed	PBO
(CCW)(2) Parameter Pn002.3

ParameterNameMeaning When EnabledClassification




Pn002n.0???



External Encoder UsageDo not use. (Factory setting)?1




After restart




Setupn.1???Use external encoder in forward rotation direc- tion.?2n.2???Reserved (Do not set).n.3???Use external encoder in reversed rotation direc- tion.?3n.4???Reserved (Do not set).Note 1. The mode will be switched to semi-closed position control if Pn002.3 is set to 0.
2. The direction for which the scale is counted up counter clockwise is defined as forward rotation.
3. The direction for which the scale is counted up clockwise is defined as forward rotation.



9.2.4 Sine Wave Pitch (Frequency) for an External Encoder


(3) Relation between Motor Rotating Direction and External Encoder Pulse Direction
Refer to the table below.

ParameterPn002.3 (Using Method of External Encoder)13





Pn000.0
(Motor rotating direction)



0Reference directionForward run referenceReverse run referenceForward run referenceReverse run referenceMotor rotating direc- tionCCWCWCCWCWExternal encoder out- putcos leadsin leadsin leadcos leadEncoder output pulsePhase B leadPhase A leadPhase A leadPhase B lead


1Reference directionForward run referenceReverse run referenceForward run referenceReverse run referenceMotor rotating direc- tionCWCCWCWCCWExternal scale outputsin leadcos leadcos leadsin leadEncoder output pulsePhase B leadPhase A leadPhase A leadPhase B lead• Set Pn002.3 to 1 if the output of the external encoder is cos lead and the motor is turning counterclockwise; set Pn002.3 to 3 if it is sin lead. When Pn000.0 is set to 0 and Pn002.3 to 1, manually turn the motor coun- terclockwise. If the Fully-closed Feedback Pulse Counter (Un00E) counts up, set Pn002.3 to 1. If the Un00E counts down, set Pn002.3 to 3.
• If Pn002.3 is set to 1, encoder output pulse is phase B lead if the motor runs forward. If Pn002.3 is set to 3, it is phase A lead if the motor turns forward.
9.2.4 Sine Wave Pitch (Frequency) for an External Encoder
Set Pn20A to the number of external encoder pitches per motor rotation.

(1) Setting Example

If the SERVOPACK is connected directly to the motor, the set value will be 1500 (30 mm/0.02 mm = 1500).
Note: If there is a fraction, round off the digits below the decimal point.
(2) Related Parameter


Pn20ANumber of External Encoder Pitches	Speed	Position	TorqueClassifica- tionSetting RangeSetting UnitFactory SettingWhen Enabled4 to 10485761 pitch/Rev32768After restartSetup


(3) Error
The number of speed pitches per motor rotation causes error in the position loop gain (Kp), feedforward, and position reference monitor unless the number of encoder pitches is an integer. This has no influence on the accuracy of positioning, thus does not cause position error.

9.2.5 Number of Encoder Output Pulses (PAO, PBO, and PCO) from the SERVOPACK
Set the position resolution to Pn281. Set the number of phase A and phase B edges.
(1) Setting Example

If the output of a single pulse (multiplied by 4) is 1?m, the set value will be 20. If the output of a single pulse (multiplied by 4) is 0.5?m, the set value will be 40. The pulse output will have the following waveform if the set value is 20.
Phase-A Phase-B

1 encoder pitch

"?" shows the edge position. In this example, the set value is 20 therefore the number of ? is 20.
Note: he upper limit frequency of the encoder signal output (multiplied by 4) is 6.4 Mpps. Do not allow the upper limit fre- quency to exceed 6.4 Mpps.
Example:
The frequency is as follows if the set value is 20 and the speed is 1600 mm/s:
16000 mm/sec  = 1600000 = 1.6 Mbps
0.001 mm
Because 1.6 Mbps is less than 6.4 Mpps, this value can be used.



9.2.6 Electronic Gear


(2) Related Parameter


Pn281Encoder Output Pulses	Speed	Position	TorqueClassifica- tionSetting RangeSetting UnitFactory SettingWhen Enabled1 to 40961 P/pitch20After restartSetup9.2.6 Electronic Gear
For the electronic gear setting, refer to 5.4.3 Electronic Gear.
9.2.7 Alarm Detection
The setting of alarm detection (Pn51B/Pn52A) is shown below.
(1) Excessive Error Level between the Motor and Load Positions (Pn51B)
This setting detects the difference between the external encoder position and the encoder position. If the detected difference is above the set level, alarm A.d10 (Motor-load Position Error Pulse Overflow) will be output.



Pn51BExcessive Error Level Between Servomotor and	Speed	Position	Torque
Load PositionsClassifica- tionSetting RangeSetting UnitFactory SettingWhen Enabled0 to 1073741824 (230)1 reference unit1000ImmediatelySetupNote: When Pn51B is set to 0, "Motor-load Position Error Pulse Overflow (A.d10)" is not detected.
(2) Multiplier for One Fully-closed Rotation (Pn52A)
The coefficient of the deviation between the external encoder and the motor per rotation can be set. This func- tion can be used to prevent the motor from running out of control due to damage to the external encoder or to detect slippage of the belt.
* Setting Example
Increase the value if the belt slips or is twisted excessively.
If the set value is 0, the scale value will be read as it is.
The factory setting is 20. In this case, the second rotation will start with the deviation per motor rotation mul- tiplied by 0.8.
(Refer to the following figure.)
Error between motor and scale














Less than
one rotation

1 st
rotation

2 nd
rotation

3 rd
rotation




* Related Parameter


Pn52AMultiplier per One Fully-closed Rotation	Speed	Position	TorqueClassifica- tionSetting RangeSetting UnitFactory SettingWhen Enabled0 to 10701%20ImmediatelySetup9.2.8 Analog Monitor Signal
Set the following analog monitor signals.

ParameterNameMeaning When EnabledClassification
Pn006
n.??07Analog Monitor 1 Signal SelectionPosition error between servomotor and load [0.01 V/1 reference unit]
? Factory setting: n.??02

Immediately

Tuning
Pn007
n.??07Analog Monitor 2 Signal SelectionPosition error between servomotor and load [0.01 V/1 reference unit]
? Factory setting: n.??00

10

Troubleshooting



10.1 Troubleshooting	10-2
10.1.1 List of Alarms	10-2
10.1.2 Troubleshooting of Alarms	10-6
10.2 Warning Displays	10-22
10.2.1 List of Warnings	10-22
10.2.2 Troubleshooting of Warnings	10-23
10.3 Troubleshooting Malfunction Based on Operation
and Conditions of the Servomotor	10-25



10.1.1 List of Alarms

10.1 Troubleshooting
The following sections describe troubleshooting in response to alarm displays.
The alarm name, alarm meaning, alarm stopping method, alarm reset capability and alarm code output are listed in order of the alarm numbers in 10.1.1 List of Alarms.
The causes of alarms and troubleshooting methods are provided in 10.1.2 Troubleshooting of Alarms.
10.1.1 List of Alarms
If an alarm occurs, the servomotor can be stopped by doing either of the following operations.
Gr.1: The servomotor is stopped according to the settings in Pn001.0 if an alarm occurs. Pn001.0 is factory-set to stop the servomotor by applying the DB.
Gr.2: The servomotor is stopped according to the setting in Pn00B.1 if an alarm occurs. Pn00B.1 is factory-set to stop the servomotor by setting the speed reference to "0." The servomotor under torque control will always use the Gr.1 method to stop. By setting Pn00B.1 to 1, the servomotor stops using the same method as Gr.1. When coordinating a number of servomotors, use this alarm stop method to prevent machine damage that may result due to differences in the stop method.


 Alarm Display
Alarm Name
MeaningServo- motor Stop Method
Alarm ResetAlarm Code OutputALO1ALO2ALO3A.020Parameter Checksum Error 1The data of the parameter in the SERVO- PACK is incorrect.Gr.1N/A













H













H













HA.021Parameter Format Error 1The data of the parameter in the SERVO- PACK is incorrect.Gr.1N/AA.022System Checksum Error 1The data of the parameter in the SERVO- PACK is incorrect.Gr.1N/AA.023Parameter Password Error 1The data of the parameter in the SERVO- PACK is incorrect.Gr.1N/AA.030Main Circuit Detector ErrorDetection data for power circuit is incorrect.Gr.1AvailableA.040Parameter Setting Error 1The parameter setting is outside the allow- able setting range.Gr.1N/A
A.041
Encoder Output Pulse Setting ErrorThe encoder output pulse setting (pulse unit) (Pn212) is outside the allowable set- ting range or not satisfies the setting condi- tions.
Gr.1
N/AA.042Parameter Combination ErrorCombination of some parameters exceeds the setting range.Gr.1N/AA.044Fully-closed Loop Control Parameter Setting ErrorThe settings of the option card and Pn00B.3, Pn002.3 do not match.Gr.1N/AA.050Combination ErrorThe SERVOPACK and the servomotor capacities do not match each other.Gr.1AvailableA.051Unsupported Device AlarmThe device unit unsupported was con- nected.Gr.1N/AA.0b0Cancelled Servo ON Command AlarmThe Host controller reference was sent to turn the Servo ON after the Servo ON func- tion was used with the utility function.
Gr.1
Available
A.100Overcurrent or Heat Sink OverheatedAn overcurrent flowed through the IGBT. Heat sink of the SERVOPACK was over- heated.
Gr.1
N/A
L
H
H




 Alarm Display
Alarm Name
MeaningServo- motor Stop Method
Alarm ResetAlarm Code OutputALO1ALO2ALO3A.300Regeneration ErrorRegenerative circuit or regenerative resistor is faulty.Gr.1Available

L

L

HA.320Regenerative OverloadRegenerative energy exceeds regenerative resistor capacity.Gr.2AvailableA.330Main Circuit Power Supply Wiring ErrorDetected when the power to the main circuit is turned ON.Gr.1AvailableA.400OvervoltageMain circuit DC voltage is excessively high.Gr.1Available
H
H
LA.410UndervoltageMain circuit DC voltage is excessively low.Gr.2AvailableA.510OverspeedThe servomotor speed is excessively high.Gr.1Available


L


H


LA.511Overspeed of Encoder Output Pulse RateThe motor speed upper limit of the set encoder output pulse (pulse unit) (Pn212) is exceeded.
Gr.1
AvailableA.520Vibration AlarmVibration at the motor speed was detected.Gr.1AvailableA.521Autotuning AlarmVibration was detected while performing tuning-less function.Gr.1AvailableA.710Overload: High LoadThe motor was operating for several sec- onds to several tens of seconds under a torque largely exceeding ratings.
Gr.2
Available






L






L






LA.720Overload: Low LoadThe motor was operating continuously under a torque largely exceeding ratings.Gr.1AvailableA.730 A.731Dynamic Brake OverloadWhen the dynamic brake was applied, rota- tional energy exceeded the capacity of dynamic brake resistor.
Gr.1
AvailableA.740Overload of Surge Current Limit ResistorThe main circuit power was frequently turned ON and OFF.Gr.1AvailableA.7A0Heat Sink OverheatedThe heat sink of the SERVOPACK exceeded 100?C.Gr.2AvailableA.7ABBuilt-in Fan in SERVOPACK StoppedThe fan inside the SERVOPACK stopped.Gr.1AvailableA.810Encoder Backup ErrorAll the power supplies for the absolute encoder have failed and position data was cleared.
Gr.1
N/A











H











H











HA.820Encoder Checksum ErrorThe checksum results of encoder memory is incorrect.Gr.1N/AA.830Absolute Encoder Battery ErrorThe battery voltage was lower than the specified value 2 to 4 seconds after the con- trol power supply is turned ON.
Gr.1
AvailableA.840Encoder Data ErrorData in the encoder is incorrect.Gr.1N/AA.850Encoder OverspeedThe encoder was rotating at high speed when the power was turned ON.Gr.1N/AA.860Encoder OverheatedThe internal temperature of encoder is too high.Gr.1N/AA.891Encoder Module ErrorEncoder module is faulty.Gr.1A.8A0External Encoder Error of ScaleExternal encoder is faulty.Gr.1AvailableA.8A1External Encoder Error of ModuleSerial converter unit is faulty.Gr.1AvailableA.8A2External Encoder Error of SensorExternal encoder is faulty.Gr.1AvailableA.8A3External Encoder Error of PositionThe position of external encoder is faulty.Gr.1Available


10.1.1 List of Alarms



 Alarm Display
Alarm Name
MeaningServo- motor Stop Method
Alarm ResetAlarm Code OutputALO1ALO2ALO3A.b10Speed Reference A/D ErrorThe A/D converter for speed reference input is faulty.Gr.2Available












H












H












HA.b11Speed Reference A/D Data ErrorA/D conversion data of speed reference is incorrect.Gr.2AvailableA.b20Reference Torque Input Read ErrorThe A/D converter for torque reference input is faulty.Gr.2AvailableA.b31Current Detection Error1 (Phase-U)The current detection circuit for phase-U is faulty.Gr.1N/AA.b32Current Detection Error 2 (Phase-V)The current detection circuit for phase-V is faulty.Gr.1N/AA.b33Current Detection Error 3 (Current detector)The detection circuit for the current is faulty.Gr.1N/AA.bF0System Alarm 0 (Scan C error)"Internal program error 0" of the SERVO- PACK occurred.Gr.1N/AA.bF1System Alarm 1
(CPU stack memory error)"Internal program error 1" of the SERVO- PACK occurred.Gr.1N/AA.bF2System Alarm 2 (Current control
program processing error)"Internal program error 2" of the SERVO- PACK occurred.Gr.1N/AA.bF3System Alarm 3 (Scan A error)"Internal program error 3" of the SERVO- PACK occurred.Gr.1N/AA.bF4System Alarm 4 (CPU watchdog timer error)"Internal program error 4" of the SERVO- PACK occurred.Gr.1N/AA.C10Servo Overrun DetectedThe servomotor ran out of control.Gr.1Available















L















H















LA.C20Phase Detection ErrorThe detection of the phase is incorrect.Gr.1N/AA.C21Hall Sensor ErrorThe hall sensor is faulty.Gr.1N/AA.C22Phase Information DisagreementThe phase information does not match.Gr.1N/AA.C50Polarity Detection ErrorThe polarity detection failed.Gr.1N/AA.C51Overtravel Detection at Polarity DetectionThe overtravel signal was detected at polar- ity detection.Gr.1N/AA.C52Polarity Detection UncompletedThe servo was turned ON under the condi- tion of polarity detection uncompleted.Gr.1N/AA.C53Out of Range for Polarity DetectionThe moving distance exceeded the set value of Pn48E during polarity detection.Gr.1N/AA.C54Polarity Detection Error 2The polarity detection failed.Gr.1N/AA.C80Absolute Encoder Clear Error and Multi-turn Limit Setting ErrorThe multi-turn for the absolute encoder was not properly cleared or set.Gr.1N/AA.C90Encoder Communications ErrorCommunications between the SERVO- PACK and the encoder is not possible.Gr.1N/AA.C91Encoder Communications Position Data ErrorAn encoder position data calculation error occurred.Gr.1N/AA.C92Encoder Communications Timer ErrorAn error occurs in the communications timer between the encoder and the SERVO- PACK.
Gr.1
N/AA.CA0Encoder Parameter ErrorEncoder parameters are faulty.Gr.1N/AA.Cb0Encoder Echoback ErrorContents of communications with encoder is incorrect.Gr.1N/AA.CC0Multi-turn Limit DisagreementDifferent multi-turn limits have been set in the encoder and the SERVOPACK.Gr.1N/A




 Alarm Display
Alarm Name
MeaningServo- motor Stop Method
Alarm ResetAlarm Code OutputALO1ALO2ALO3
A.CF1Feedback Option Card Communications Error (Reception error) *1
Reception error
Gr.1
N/A

L

H

L
A.CF2Feedback Option Card Communications Error (Timer stop) *1
Timer stopped
Gr.1
N/AA.d00Position Error Pulse OverflowPosition error pulses exceeded parameter (Pn520).Gr.1Available





L





L





HA.d01Position Error Pulse Overflow Alarm at Servo ONPosition error pulses accumulated too much.Gr.1Available

A.d02
Position Error Pulse Overflow Alarm by Speed Limit at Servo ONIf the servo turns ON with position error pulses accumulated, the speed is limited by Pn529. In this state, the reference pulse was input without resetting the speed limit, and the position error pulses exceeds the value set for the parameter Pn520.

Gr.2

AvailableA.d10Motor-load Position Error Pulse OverflowPosition error between motor and load is excessive.Gr.2AvailableA.EB0Safety Function DRV Monitor Circuit Error *2The safety function DRV monitor circuit is faulty.Gr.1N/A









H









L









LA.EB1Safety Function Signal Input Timing ErrorThe safety function signal input timing is faulty.Gr.1N/AA.EB2Safety Function DRV Internal Signal Error *2The safety function DRV internal signal is faulty.Gr.1N/AA.EB3Safety Function DRV Communications Error 1 *2The safety function DRV communications is faulty.Gr.1N/AA.EB4Safety Function DRV Communications Error 2 *2The safety function DRV communications is faulty.Gr.1N/AA.EB5Safety Function DRV Communications Error 3 *2The safety function DRV communications is faulty.Gr.1N/A
A.EB6Safety Function DRV Communications Data Error *2The safety function DRV communications data is faulty.
Gr.1
N/AA.EC7Safety Option Card Stop Reference Error *2The safety option card stop reference is faulty.Gr.1N/AA.F10Main Circuit Cable Open PhaseWith the main power supply ON, voltage was low for more than 1 second in phase-R,
-S or -T.
Gr.2
Available
H
L
HCPF00Digital Operator Transmission Error 1Digital operator (JUSP-OP05A) fails to communicate with the SERVOPACK (e.g., CPU error).?N/A
Not decidedCPF01Digital Operator Transmission Error 2?N/AA.? ?Not an errorNormal operation status??HHH???  Only when a feedback option card is used.
???  Only when safety function is used.



10.1.2 Troubleshooting of Alarms

10.1.2 Troubleshooting of Alarms
When an error occurs in SERVOPACKs, an alarm display such as A.??? and CPF?? on the panel operator. Refer to the following table to identify the cause of an alarm and the action to be taken.
Contact your Yaskawa representative if the problem cannot be solved by the described corrective action.

   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions







A.020*1:
Parameter Checksum Error 1
(The parameter data in the SERVOPACK is incorrect.)The power supply voltage sud- denly dropped.
Measure the power supply voltage.Set the power supply voltage within the specified range, and set Fn005 to initialize the parameter.The power supply went OFF while changing a parameter set- ting.Note the circumstances when the power supply went OFF.Set Fn005 to initialize the parameter and then set the parameter again.
The number of times that parame- ters were written exceeded the limit.
Were the parameters frequently changed through the host control- ler?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
Reconsider the method of writing parameters.Malfunction caused by noise from the AC power supply or grounding line, static electricity noise, etc.Turn the power supply ON and OFF several times. If the alarm still occurs, there may be noise interfer- ence.
Take countermeasures against noise.Gas, water drops, or cutting oil entered the SERVOPACK and caused failure of the internal components.
Check the installation conditions.The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A SERVOPACK fault occurred.Turn the power supply ON and OFF several times. If the alarm still occurs, the SERVOPACK is faulty.The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A.021*1:
Parameter Format Error 1
(The parameter data in the SERVOPACK is incorrect.)The software version of SERVO- PACK that caused the alarm is older than that of the written parameter.Check Fn012 to see if the set soft- ware version agrees with that of the SERVOPACK. If not, an alarm may occur.Write the parameter of another SERVOPACK of the same model with the same software version. Then turn the power OFF and then ON again.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A.022*1:
System Checksum Error 1
(The parameter data in the SERVOPACK is incorrect.)The power supply voltage sud- denly dropped.Measure the power supply voltage.The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.The power supply went OFF while setting an utility function.Note the circumstances when the power supply went OFF.The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A SERVOPACK fault occurred.Turn the power supply ON and OFF several times. If the alarm still occurs, the SERVOPACK is faulty.The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.A.023*1:
Parameter Password Error 1
(The parameter data in the SERVOPACK is incorrect.)

A SERVOPACK fault occurred.

?
The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.A.030*1:
Main Circuit Detector Error
A SERVOPACK fault occurred.
?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions


A.040*1:
Parameter Setting Error 1
(The parameter setting was out of the allowable setting range.)The SERVOPACK and servomo- tor capacities do not match each other.Check the combination of SERVO- PACK and servomotor capacities.Select the proper combination of SERVOPACK and servomotor capacities.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.The parameter setting is out of the specified range.Check the setting ranges of the parameters that have been changed.Set the parameter Un203 to a value within the specified range.The electronics gear ratio is out of the setting range.Check the electronic gear ratio. The ratio must satisfy:
0.001< (Pn20E/Pn210) <1000.Set the electronic gear ratio in the range: 0.001< (Pn20E/Pn210)
<1000.A.041*1:
Encoder Output Pulse Setting ErrorThe encoder output pulse (Pn212) is out of the setting range and does not satisfy the setting condi- tions.
Check the parameter Pn212.
Set Pn212 to a correct value.






A.042?1:
Parameter Combination ErrorThe speed of program JOG oper- ation (Fn004) is lower than the setting range after having changed the electronic gear ratio (Pn20E/Pn210) or the servomo- tor.

Check that the detection conditions is satisfied.

Reduce the electronic gear ratio (Pn20E/Pn210).The speed of program JOG oper- ation (Fn004) is lower than the setting range after having changed the setting of Pn533 "Program JOG Movement Speed."
Check that the detection conditions is satisfied.
Increase the setting for Pn533 "Pro- gram JOG Movement Speed."The moving speed of advanced autotuning is lower than the set- ting range after having changed the electronic gear ratio (Pn20E/ Pn210) or the servomotor.
Check that the detection conditions is satisfied.
Reduce the electronic gear ratio (Pn20E/Pn210).
A.044*1:
Fully-closed Loop Control Parameter Setting Error

The setting of the option card does not match with those of Pn00B.3 and Pn002.3.

Check the settings of the option card, Pn00B.3, and Pn002.3.The setting of option card must be compatible with the settings of Pn00B.3 and Pn002.3.
Mount an option card or replace the mounted option card with an appro- priate model. Or change the param- eter setting.
A.04A:
Parameter Setting Error 2For a 4-byte parameter bank, no registration in two consecutive bytes for two bank members.Change the number of bytes for bank members to an appropriate value.The total amount of bank data exceeds 64. (Pn900 ? Pn901 > 64)Reduce the total amount of bank data to 64 or less.


A.050*1:
Combination Error (The SERVOPACK and servomotor capacities do not correspond.)
The SERVOPACK and servomo- tor capacities do not match each other.Check the capacities to see if they satisfy the following condition: (Servomotor capacity)/(SERVO- PACK capacity) ? 1/4, or (Servo- motor capacity)/(SERVOPACK
capacity) ? 4.
Select the proper combination of SERVOPACK and servomotor capacities.An encoder fault occurred.Replace the servomotor and see if the alarm occurs again.Replace the servomotor (encoder).A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.



10.1.2 Troubleshooting of Alarms


   Alarm: Alarm NameCauseInvestigative ActionsCorrective ActionsA.051*1:
Unsupported Device AlarmAn unsupported serial converter unit, serial encoder, or external encoder is connected to the SER- VOPACK.
Check the product specifications, and select the correct model.
Select the correct combination of units.A.0b0*1:
Cancelled Servo ON Command AlarmAfter executing the utility func- tion to turn ON the power to the motor, the Servo ON command was sent from the host controller.
?
Restart the system including the host controller.





















A.100*1:
Overcurrent or Heat Sink Overheated
(An overcurrent flowed through the IGBT or heat sink of SERVO- PACK overheated.)Incorrect wiring or contact fault of main circuit cable or motor main circuit cable.Check the wiring. Refer to 3.1
Main Circuit Wiring.
Correct the wiring.
Short-circuit or ground fault of main circuit cable or motor main circuit cable.Check for short-circuits across the servomotor terminal phase-U, -V, and -W, or between the grounding and servomotor terminal U, V, or W. Refer to 3.1 Main Circuit Wiring.
Some cables may be damaged. Repair or replace damaged cables.
Short-circuit or ground fault inside the servomotor.Check for short-circuits across the servomotor terminal phase-U, -V, and -W, or between the grounding and servomotor terminal U, V, or W. Refer to 3.1 Main Circuit Wiring.
The servomotor may be faulty. Repair or replace the servomotor.

Short-circuit or ground fault inside the SERVOPACK.Check for short-circuits across the servomotor connection terminals U, V, and W on the SERVOPACK, or between the grounding and terminal U, V, or W. Refer to 3.1 Main Cir- cuit Wiring.
The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.Incorrect wiring or contact fault of the regenerative resistor.Check the wiring. Refer to 3.6 Connecting Regenerative Resis- tors.
Correct the wiring.The dynamic brake (DB: Emer- gency stop executed from the SERVOPACK) was frequently activated, or the DB overload alarm occurred.Check the resistor power consump- tion monitor Un00B to see how many times the DB has been used. Or, check the alarm trace back mon- itor Fn000 to see if the DB overload alarm A.730 or A.731 was reported.
Change the SERVOPACK model, operation conditions, or the mecha- nism so that the DB does not need to be used so frequently.The generated regenerative energy exceeded the SERVO- PACK regenerative energy pro- cessing capacity.Check the regenerative load ratio monitor Un00A to see how many times the regenerative resistor has been used.Check the operation condition including overload, and reconsider the regenerative resistor value.
The SERVOPACK regenerative resistance is too small.Check the regenerative load ratio monitor Un00A to see how many times the regenerative resistor has been used.Change the regenerative resistance value to a value larger than the SERVOPACK minimum allowable resistance value.A heavy load was applied while the servomotor was stopped or running at a low-speed.Check to see if the operating condi- tions are outside servodrive specifi- cations.Reduce the load applied to the ser- vomotor or increase the operation speed.
Malfunction caused by noise interference.Improve the wiring or installation environment, such as by reducing noise, and check to see if the alarm recurs.Take countermeasures for noise, such as correct wiring of the FG. Use an FG wire size equivalent to the SERVOPACK main circuit wire size.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions

















A.300*1:
Regeneration ErrorRegenerative resistor capacity (Pn600) is set to a value other than 0 for a SGDV-R70,
-R90, -1R6, or -2R8 SERVO-
PACK, and an external regenera- tive resistor is not connected.
Check the external regenerative resistor connection and the value of the Pn600.
Connect the external regenerative resistor, or set Pn600 to 0 if no regenerative resistor is required.The jumper between the power supply terminals B2 and B3 is removed.Confirm that a jumper is mounted between the power supply terminals B2 and B3.
Correctly mount a jumper.The external regenerative resis- tor is incorrectly wired, or is removed or disconnected.Check the external regenerative resistor connection.Correctly connect the external regenerative resistor.The power supply voltage exceeds the specified limit.Measure the power supply voltage.Set the power supply voltage within the specified range.The external regenerative resis- tor capacity or the regenerative resistance is incorrect.Check the external regenerative resistor to see if the capacity is appropriate.Change the regenerative resistance to a correct value or use an external regenerative resistor of appropriate capacity.Insufficient SERVOPACK capac- ity or insufficient regenerative resistor capacity caused regenera- tive power to continuously flow back.
Reconsider the capacity selection.
Reconsider the capacity selection.Regenerative power continu- ously flowed back because nega- tive load was continuously applied.
Check the load to the servomotor during operation.Reconsider the system including servo, machine, and operation con- ditions.The load moment of inertia exceeds the allowable value.Check the load moment of inertia.Reconsider the capacity selection.

A SERVOPACK fault occurred.

?While the main circuit power sup- ply is OFF, turn the control power supply OFF and then turn ON again. If the alarm still occurs, the SERVOPACK may by faulty.
Repair or replace the SERVO- PACK.









A.320*1:
Regenerative OverloadThe power supply voltage exceeds the specified limit.Measure the power supply voltage.Set the power supply voltage within the specified range.Incorrect external regenerative resistance.
Insufficient servo amplifier capacity or regenerative resistor capacity.
Or, regenerative power has been continuously flowing back.

Check the operation condition or the capacity using the capacity selection Software SigmaSize+, etc.Change the regenerative resistance, regenerative resistor capacity, or SERVOPACK capacity. Reconsider the operation conditions using the capacity selection software Sigma- Size+, etc.Regenerative power continu- ously flowed back because nega- tive load was continuously applied.
Check the load to the servomotor during operation.Reconsider the system including servo, machine, and operation con- ditions.The setting of parameter Pn600 is smaller than the external regener- ative resistor's capacity.Check the external regenerative resistor connection and the value of the Pn600.
Set the Pn600 to a correct value.
The external regenerative resis- tance is too high.
Check the regenerative resistance.Change the regenerative resistance to a correct value or use an external regenerative resistor of appropriate capacity.A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.



10.1.2 Troubleshooting of Alarms


   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions






A.330*1:
Main Circuit Power Supply Wiring Error (Detected when the power to the main circuit is turned ON.)

The regenerative resistor discon- nected when the SERVOPACK power voltage was increased.


Measure the resistance of the regen- erative resistor.When using a regenerative resistor built in the SERVOPACK:
Repair or replace the SERVO- PACK.
When using an external regenera- tive resistor:
Replace the external regenerative resistor.In the AC power input mode, DC power was supplied.Check the power supply to see if it is a DC power supply.Correct the settings to match the actual power supply specifications.In the DC power input mode, AC power was supplied.Check the power supply to see if it is a AC power supply.Correct the settings to match the actual power supply specifications.Regenerative resistor capacity (Pn600) is not set to 0 even though the regenerative resistor is disconnected.Is the regenerative resistor con- nected?
If it is, check the regenerative resis- tor capacity.
Set Pn600 to 0.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.












A.400*1:
Overvoltage (Detected when the SERVOPACK's main
circuit DC voltage is one of the values below.
200 VAC SERVO- PACKs: 410 VDC or
more
400 VAC SERVO- PACKs: 820 VDC or
more)
(Detected when the power to the main circuit is turned ON)For 200 VAC SERVOPACKs:
The AC power supply voltage exceeded 290 V.
For 400 VAC SERVOPACKs:
The AC power supply voltage exceeded 580 V.
For 200 VAC SERVOPACKs
with DC power supply input: The power supply voltage exceeded 410 V.
For 400 VAC SERVOPACKs
with DC power supply input: The power supply voltage exceeded 820 V.





Measure the power supply voltage.





Set AC power supply voltage within the specified range.

The power supply is unstable, or was influenced by a lightning surge.

Measure the power supply voltage.Improve the power supply condi- tions by installing a surge protector, etc. Then, turn the power supply ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SERVO- PACK.For 200 VAC SERVOPACKs:
The servomotor accelerated/ decelerated with the AC power voltage between 230 and 270 V. For 400 VAC SERVOPACKs:
The servomotor accelerated/ decelerated with the AC power voltage between 480 and 560 V.

Check the power supply voltage and the speed and torque/force during operation.


Set AC power supply voltage within the specified range.The external regenerative resis- tance is too high for the actual operation conditions.Check the operation conditions and the regenerative resistance.Select a regenerative resistance value appropriate for the operation conditions and load.The load moment of inertia exceeded the allowable value.Confirm that the load moment of inertia is within the allowable range.Increase the deceleration time, or reduce the load.

A SERVOPACK fault occurred.

?Turn the control power OFF and then ON again while the main cir- cuit power supply is OFF. If the alarm still occurs, the SERVO- PACK may be faulty. Repair or replace the SERVOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions

A.410*1:
Undervoltage (Detected when the SERVOPACK's main circuit DC voltage is one of the values below.
200 VAC SERVO- PACKs: 170 VDC or
less
400 VAC SERVO- PACKs: 340 VDC or
less.)
(Detected when the power to the main circuit is turned ON.)For 200 VAC SERVOPACKs:
The power supply is 120 V or less.
For 400 VAC SERVOPACKs:
The power supply is 240 V or less.

Measure the power supply voltage.

Set the power supply voltage within the specified range.The power supply voltage dropped during operation.Measure the power supply voltage.Increase the power supply capacity.
Occurrence of instantaneous power interruption.
Measure the power supply voltage.Set the power supply voltage within the specified range. When the instantaneous power cut hold time Pn509 is set, decrease the setting.The SERVOPACK fuse is blown out.?Repair or replace the SERVO- PACK, connect an AC/DC reactor, and run the SERVOPACK.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.



A.510*1:
Overspeed
(The servomotor speed exceeds the maximum.)The order of phases U, V, and W in the servomotor wiring is incor- rect.Check the servomotor wiring.Confirm that the servomotor is cor- rectly wired.A reference value exceeding the overspeed detection level was input.
Check the input value.Reduce the reference value or adjust the gain.The motor speed overshoot occurred.Check the servomotor speed wave- form.Reduce the reference input gain, adjust the servo gain, or reconsider the operation conditions.A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A.511*1:
Overspeed of Encoder Output Pulse RateThe encoder output pulse output frequency exceeded the limit.Check the encoder output pulse out- put setting.Decrease the setting of the encoder output pulse (Pn212).The encoder output pulse output frequency exceeded the limit because the servomotor speed was too high.
Check the encoder output pulse out- put setting and servomotor speed.
Decrease the servomotor speed.


A.520*1:
Vibration Alarm
Abnormal vibration was detected at the servomotor rotation speed.Check for abnormal noise from the servomotor, and check the speed and torque/force waveform during operation.
Reduce the servomotor speed or reduce the speed loop gain (Pn100).The moment of inertia ratio (Pn103) value is greater than the actual value or is greatly changed.
Check the load moment of inertia.
Set the moment of inertia ratio (Pn103) to an appropriate value.
A.521*1:
Autotuning Alarm (Vibration was detected while performing tun- ing-less function.)
The servomotor vibrated consid- erably while performing tuning- less function (factory setting).
Check the servomotor speed wave- form.Reduce the load so that the load moment of inertia ratio falls within the allowable value, or reduce the load level or the gain level using the tuning-less function (Fn200).The servomotor vibrated consid- erably during advanced autotun- ing.Check the servomotor speed wave- form.
Execute advanced autotuning.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.



10.1.2 Troubleshooting of Alarms


   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions


A.710*1: A.720*1:
Overload
A.710: High Load
A.720: Low LoadIncorrect wiring or contact fault of servomotor and encoder.Check the wiring.Confirm that the servomotor and encoder are correctly wired.Operation beyond the overload protection characteristics.Check the servomotor overload characteristics and executed run command.Reconsider the load conditions and operation conditions. Or, increase the servomotor capacity.Excessive load was applied dur- ing operation because the servo- motor was not driven due to mechanical problems.
Check the executed run command and servomotor speed.
Remove the mechanical problems.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A.730*1: A.731*1:
Dynamic Brake Overload
(Detected with SGDV- 3R8A,
-5R5A, -1R9D,
-3R5D, -5R4D,
-8R4D, -120D, or
-170D SERVOPACKs.)The servomotor rotates because of external force.
Check the operation status.Take measures to ensure the servo- motor will not rotate because of external force.
The rotating energy at a DB stop exceeds the DB resistance capac- ity.
Check the DB resistor power con- sumption monitor (Un00B) to see how many times the DB has been used.• Reduce the servomotor reference speed.
• Reduce the load moment of iner- tia.
• Reduce the number of times of the DB stop operation.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A.740*1:
Overload of Surge Current Limit Resistor (The main circuit power is turned ON/OFF too frequently.)The inrush current limit resistor operation frequency at the main circuit power supply ON/OFF operation exceeds the allowable range.
Check how often the power supply has been turned ON/OFF.
Reduce the frequency of turning the main circuit power supply ON/OFF to less than once per minute.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.






A.7A0*1:
Heat Sink Overheated (Detected when the heat sink temperature exceeds 100?C.)The ambient temperature is too high.Check the ambient temperature using a thermostat.Decrease the ambient temperature by improving the SERVOPACK installation conditions.The overload alarm has been reset by turning OFF the power too many times.Check the alarm trace back monitor (Fn000) to see if the overload alarm was reported.Change the method for resetting the alarm.
Excessive load or operation beyond the regenerative energy processing capacity.Check the accumulated load ratio monitor Un009 to see the load dur- ing operation, and the regenerative load ratio monitor Un00A to see the regenerative energy processing capacity.

Reconsider the load and operation conditions.Incorrect SERVOPACK installa- tion orientation or/and insuffi- cient space around the SERVOPACK.
Check the SERVOPACK installa- tion conditions.
Install the SERVOPACK correctly as specified.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.A.7AB*1:
Built-in Fan in SERVOPACK
Stopped
The fan inside the SERVOPACK stopped.
Check for foreign matter or debris inside the SERVOPACK.Remove foreign matter or debris from the SERVOPACK. If the alarm still occurs, the SERVO- PACK may be faulty. Repair or replace the SERVOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions




A.810*1:
Encoder Backup Error (Detected on the encoder side)
(Only when an absolute encoder is connected.)Alarm occurred when the power to the absolute encoder was ini- tially turned ON.Check to see if the power was turned ON initially.Set up the encoder (Fn008).The encoder cable disconnected, and connected again.Check to see if the power was turned ON initially.Confirm the connection and set up the encoder (Fn008).The power from both the control power supply (+5 V) and the bat- tery power supply from the SER- VOPACK is not being supplied.
Check the encoder connector bat- tery or the connector contact status.Replace the battery or take similar measures to supply power to the encoder, and set up the encoder (Fn008).An absolute encoder fault occurred.?If the alarm cannot be reset by set- ting up the encoder again, replace the encoder.
A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.
A.820*1:
Encoder Checksum Error
(Detected on the encoder side.)
An encoder fault occurred.
?Set up the encoder again using Fn008. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servomotor.A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.A.830*1:
Absolute Encoder Battery Error (Detected when the bat- tery voltage is lower than the specified value 2 to 4 seconds after the control power supply is turned ON.)
(Only when an absolute encoder is connected.)The battery connection is incor- rect.Check the battery connection.Reconnect the battery.The battery voltage is lower than the specified value 2.7 V.Measure the battery voltage.Replace the battery and turn the control power supply ON.

A SERVOPACK fault occurred.

?
The SERVOPACK may be faulty. Repair or replace the SERVO- PACK.


A.840*1:
Encoder Data Error (Detected on the encoder side.)
An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.
Malfunction of encoder because of noise interference, etc.
?Correct the wiring around the encoder by separating the encoder cable from the main circuit cable or by checking the grounding and other wiring.


A.850*1:
Encoder Overspeed (Detected when the con- trol power supply was turned OFF and then ON again.)
(Detected on the encoder side.)The servomotor was running at 200 min-1 or higher when the control power supply was turned ON.Check the speed monitor (Un000) to confirm the servomotor speed when the power is turned ON.Reduce the servomotor speed to a value less than 200 min-1, and turn ON the control power supply.
An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.



10.1.2 Troubleshooting of Alarms


   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions



A.860*1:
Encoder Overheated (Only when an absolute encoder is connected.) (Detected on the encoder side.)The ambient temperature around the servomotor is too high.Measure the ambient temperature around the servomotor.The ambient temperature must be 40?C or less.The servomotor load is greater than the rated load.Check the accumulated load ratio monitor (Un009) to see the load.The servomotor load must be within the specified range.
An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.
A.891*1:
Encoder Module Error
An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.A.8A0*2:
External Encoder Error of ScaleAn external encoder fault occurred.
?Repair or replace the external encoder.A.8A1*2:
External Encoder Error of ModuleAn external encoder fault occurred.?Repair or replace the external encoder.A serial converter unit fault occurred.?Repair or replace the serial con- verter unit.A.8A2*2:
External Encoder Error of Sensor (Incremental)
An external encoder fault occurred.
?
Repair or replace the external encoder.A.8A3*2:
External Encoder Error of Position (Absolute)
An absolute external encoder fault occurred.
?The absolute external encoder may be faulty. Refer to the encoder man- ufacture's instruction manual for corrective actions.
A.b10*1:
Speed Reference A/D Error
(Detected when the servo is ON.)A malfunction occurred in the speed reference input section.?Clear and reset the alarm and restart the operation.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.



A.b11*1:
Speed Reference A/D Data ErrorA malfunction occurred in the detection section of the speed ref- erence A/D conversion data. (Not an alarm.)
?
Clear and reset the alarm and restart the operation.A malfunction occurred in the speed reference input section.?Clear and reset the alarm and restart the operation.

A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.
???  These errors occur when using a feedback option card.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions
A.b20*1:
Reference Torque Input Read Error (Detected when the servo is ON.)A malfunction occurred in the reading section of the torque ref- erence input.?Clear and reset the alarm and restart the operation.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.b31?1:
Current Detection Error 1
(Phase-U)
The current detection circuit for phase U is faulty.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.b32*1:
Current Detection Error 2
(Phase-V)
The current detection circuit for phase V is faulty.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.
A.b33*1:
Current Detection Error 3
(Current detector)
The detection circuit for the cur- rent is faulty.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.The servomotor main circuit cable is disconnected.Check for disconnection of the motor main circuit cable.Correct the servomotor wiring.A.b6A: MECHATROLINK
Communications ASIC
Error 1SERVOPACK MECHA-
TROLINK communication sec- tion fault.
?
Replace the SERVOPACK.A.b6b: MECHATROLINK
Communications ASIC
Error 2SERVOPACK MECHA-
TROLINK communication sec- tion fault.
?
Replace the SERVOPACK.A.bF0*1:
System Alarm 0
(Scan C error)
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.bF1*1:
System Alarm 1
(CPU stack memory)
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.bF2*1:
System Alarm 2 (Current control pro- gram processing error)
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.bF3*1:
System Alarm 3
(Scan A error)
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.bF4*1:
System Alarm 4 (CPU watchdog timer error)
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.



10.1.2 Troubleshooting of Alarms


   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions



A.C10*1:
Servo Overrun Detected (Detected when the servo is ON.)The order of phases U, V, and W in the servomotor wiring is incor- rect.
Check the servomotor wiring.Confirm that the servomotor is cor- rectly wired.

An encoder fault occurred.

?If the alarm still occurs after turning the power OFF and then ON again, even though the servomotor is cor- rectly wired, the servomotor may be faulty. Repair or replace the servo- motor.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.


A.C80*1:
Absolute Encoder Clear Error and Multi- turn Limit Setting Error

An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.









A.C90*1:
Encoder Communications ErrorContact fault of encoder connec- tor or incorrect encoder wiring.Check the encoder connector con- tact status.Re-insert the encoder connector and confirm that the encoder is correctly wired.Encoder cable disconnection or short-circuit.
Or, incorrect cable impedance.
Check the encoder cable.Use the encoder cable with the specified rating.Corrosion caused by improper temperature, humidity, or gas Short-circuit caused by intrusion of water drops or cutting oil Connector contact fault caused by vibration.

Check the operating environment.
Improve the operating environmen- tal conditions, and replace the cable. If the alarm still occurs, repair or replace the SERVOPACK.
Malfunction caused by noise interference.
?Correct the wiring around the encoder to avoid noise interference (Separate the encoder cable from the main circuit cable, improve grounding, etc.)

A SERVOPACK fault occurred.

?Connect the servomotor to another SERVOPACK, and turn ON the control power. If no alarm occurs, the SERVOPACK may be faulty. Repair or replace the SERVO- PACK.


A.C91*1:
Encoder Communications Position Data ErrorThe noise interference occurred on the input/output signal line because the encoder cable is bent and the sheath is damaged.
Check the encoder cable and con- nector.
Confirm that there is no problem with the encoder cable layout.The encoder cable is bundled with a high-current line or near a high-current line.
Check the encoder cable layout.Confirm that there is no surge volt- age on the encoder cable.The FG potential varies because of influence from machines on the servomotor side, such as the welder.
Check the encoder cable layout.
Properly ground the device to sepa- rate from the encoder FG.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions




A.C92*1:
Encoder Communications Timer ErrorNoise interference occurred on the input/output signal line from the encoder.?Take countermeasures against noise.Excessive vibration and shocks were applied to the encoder.Check the operating environment.Reduce the machine vibration or correctly install the servomotor.
An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.


A.CA0*1:
Encoder Parameter Error
An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.










A.Cb0*1:
Encoder Echoback ErrorThe encoder wiring and contact are incorrect.Check the encoder wiring.Correct the encoder wiring.Noise interference occurred due to incorrect encoder cable specifi- cations.
?Use tinned annealed copper twisted- pair or shielded twisted-pair cable
with a core of at least 0.12 mm2.Noise interference occurred because the wiring distance for the encoder cable is too long.?The wiring distance must be 20 m max.The FG potential varies because of influence from machines on the servomotor side, such as the welder.
Check the encoder cable and con- nector.Make the grounding for the machine separately from encoder side FG.Excessive vibration and shocks were applied to the encoder.Check the operating environment.Reduce the machine vibration or correctly install the servomotor.
An encoder fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the servomotor may be faulty. Repair or replace the servo- motor.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.???  These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.



10.1.2 Troubleshooting of Alarms


   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions




A.CC0*1:
Multi-turn Limit DisagreementWhen using a direct-drive (DD) servomotor, the multi-turn limit value (Pn205) is different from that of the encoder.
Check the value of the Pn205.
Correct the setting of Pn205 (0 to 65535).The multi-turn limit value of the encoder is different from that of the SERVOPACK. Or, the multi- turn limit value of the SERVO- PACK has been changed.
Check the value of the Pn205 of the SERVOPACK.
Execute Fn013 at the occurrence of alarm.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.



A.CF1*2:
Feedback Option Card Communications Error (Reception error)Wiring of cable between serial converter unit and SERVOPACK is incorrect or contact is faulty.
Check the external encoder wiring.
Correct the cable wiring.The specified cable is not used between serial converter unit and SERVOPACK.Confirm the external encoder wir- ing specifications.
Use the specified cable.Cable between serial converter unit and SERVOPACK is too long.Measure the external encoder cable length.
Use 20 m cable max.Sheath of cable between serial converter unit and SERVOPACK is broken.
Check the external encoder cable.
Replace the cable.
A.CF2?2:
Feedback Option Card Communications Error (Timer stop)Noise interferes with the cable between serial converter unit and SERVOPACK.
?Correct the wiring around serial converter unit, e.g., separating input/output signal line from main circuit cable or grounding.A serial converter unit fault occurred.?Replace the serial converter unit.A SERVOPACK fault occurred.?Replace the SERVOPACK.







A.d00?1:
Position Error Pulse Overflow
(Position error exceeded the value set in the excessive position error alarm level (Pn520))The contact in the servomotor U, V, and W wirings is faulty.Check the motor main circuit cable connection.Confirm that there is no contact fault in the motor wiring of encoder wiring.
The SERVOPACK gain is low.Check the SERVOPACK gain to see if it is too low.Increase the servo gain using the parameters such as Pn100 and Pn102.
The frequency of the position ref- erence pulse is too high.Reduce the reference pulse fre- quency, and operate the SERVO- PACK.Reduce the position reference pulse frequency or reference accelera- tion. Or, reconsider the electronic gear ratio.
The position reference accelera- tion is too fast.
Reduce the reference acceleration, and operate the SERVOPACK.Apply the smoothing function, such as using position reference accelera- tion/deceleration time constant (Pn216).Setting of the Pn520 (Excessive Position Error Alarm Level) is low against the operating condi- tion.Check the alarm level (Pn520) to see if it is set to an appropriate value.
Set the Pn520 to proper value.

A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.
???  These errors occur when using a feedback option card.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective ActionsA.d01*1:
Position Error Pulse Overflow Alarm at Servo ONWhen setting not to clear position error pulses, the servomotor rotated while the servo was OFF, resulting in position error pulse overflow.
Check the error counter (Un008) while servo is OFF.Set position error pulses to be cleared while in servo OFF status. Or, correct the excessive position error alarm level (Pn520).
A.d02*1:
Position Error Pulse Overflow Alarm by Speed Limit at Servo ONThe servo was turned ON while the position error pulses accumu- lated, and the reference pulse was input while the servomotor was running at the speed limit (Pn529). As a result, the position error count exceeded the exces- sive position error alarm level (Pn520).


Check the error counter (Un008) while servo is OFF.
Set position error pulses to be cleared while in servo OFF status. Or, correct the excessive position error alarm level (Pn520).
Or, adjust the speed limit level (Pn529) when servo turns ON.

A.d10*2:
Motor-load Position Error Pulse OverflowMotor rotation direction and scale installation direction are oppo- site.Check the servomotor rotation direction and the scale installation direction.Install the scale in the opposite direction, or reverse the setting of the external encoder usage method (Pn002.3).Mounting of the load (e.g., stage) and scale joint installation are incorrect.Check the scale mechanical connec- tion.
Check the mechanical joints.


A.E02:
COM Alarm 2 (WDC + SyncFlag synchronization error)A parameter was changed by the digital operator or the personal computer during MECHA- TROLINK-II communications.
Confirm the way the parameters are edited.Stop changing parameters using digital operator or personal com- puter during MECHATROLINK-II communications.MECHATROLINK-II transmis- sion cycle fluctuated.?Remove the cause of transmission cycle fluctuation at host controller.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.E40: MECHATROLINK-II
Transmission Cycle
Setting ErrorSetting of MECHATROLINK-II transmission cycle is out of speci- fications range.
Check the MECHATROLINK-II transmission cycle setting.
Set the transmission cycle to the proper value.

A.E50: MECHATROLINK-II
Synchronization ErrorWDT data of host controller was not updated correctly.Check the WDT data updating for the host controller.Update the WDT data at the host controller correctly.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.


A.E51: MECHATROLINK-II
Synchronization
FailedWDT data of host controller was not updated correctly at the syn- chronization communications start, and synchronization com- munications could not start.
Check the WDT data updating for the host controller.
Update the WDT data at the host controller correctly.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.
???  These errors occur when using a feedback option card.



10.1.2 Troubleshooting of Alarms


   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions




A.E60: MECHATROLINK-II
Communications error
(Reception error)MECHATROLINK-II wiring is incorrect.Check the MECHATROLINK-II wirings.Correct the MECHATROLINK-II wiring.
Connect the terminator correctly.
MECHATROLINK-II data recep- tion error occurred due to noise interference.

?Take measures against noise. Check the MECHATROLINK-II commu- nications cable and FG wiring and take measures such as adding ferrite core on the MECHATROLINK-II communications cable.

A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.E61: MECHATROLINK-II
Transmission Cycle
Error (Synchronization interval error)MECHATROLINK-II transmis- sion cycle fluctuated.Check the MECHATROLINK-II transmission cycle setting.Remove the cause of transmission cycle fluctuation at host controller.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.EA0:
DRV Alarm 0
(SERVOPACK failure)


A SERVOPACK fault occurred.


?
Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.A.EA1:
DRV Alarm 1 (SERVOPACK initial access error)


A.EA2:
DRV Alarm 2
(SERVOPACK WDC
error)A parameter was changed by the digital operator or the personal computer during MECHA- TROLINK-II communications.
Confirm the way the parameters are edited.Stop changing parameters using digital operator or personal com- puter during MECHATROLINK-II communications.MECHATROLINK-II transmis- sion cycle fluctuated.Check the MECHATROLINK-II transmission cycle setting.Remove the cause of transmission cycle fluctuation at host controller.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.
A.Eb1*1:
Safety Function Signal Input Timing Error
The lag between activations of the input signals /HWBB1 and
/HWBB2 for the HWBB function is one second or more.

Measure the time lag between the / HWBB1 and
/HWBB2 signals.The output signal circuits or devices for /HWBB1 and
/HWBB2 or the SERVOPACK input signal circuits may be faulty. Alternatively, the input signal cables may be disconnected. Repair or replace them.


A.ED0:
Internal Command ErrorA parameter was changed by the digital operator or the personal computer during MECHA- TROLINK-II communications.
Confirm the way the parameters are edited.Stop changing parameters using digital operator or personal com- puter during MECHATROLINK-II communications.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.




   Alarm: Alarm NameCauseInvestigative ActionsCorrective Actions
A.ED1:
Command Execution Timeout
A timeout error occurred when using an MECHATROLINK command.Check the motor status when the command is executed.Execute the SV_ON or SENS_ON command only when the motor is not running.Check the external encoder status when the command is executed.Execute the SENS_ON command only when an external scale is con- nected.A.F10*1:
Main Circuit Cable Open Phase
(With the main power supply ON, voltage was low for more than 1 sec- ond in an R, S, or T phase.)
(Detected when the main power supply was turned ON.)The three-phase power supply wiring is incorrect.Check the power supply wiring.Confirm that the power supply is correctly wired.The three-phase power supply is unbalanced.Measure the voltage at each phase of the three-phase power supply.Balance the power supply by chang- ing phases.

A SERVOPACK fault occurred.

?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.
CPF00*1:
Digital Operator Transmission Error 1The contact between the digital operator and the SERVOPACK is faulty.
Check the connector contact.Insert securely the connector or replace the cable.Malfunction caused by noise interference?Keep the digital operator or the cable away from noise sources.


CPF01*1:
Digital Operator Transmission Error 2
A digital operator fault occurred.
?Disconnect the digital operator and then re-connect it. If the alarm still occurs, the digital operator may be faulty. Repair or replace the digital operator.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SER- VOPACK.??? These errors occur in SERVOPACKs using analog pulse reference input/MECHATROLINK-II.



10.2.1 List of Warnings

10.2 Warning Displays
The following sections describe troubleshooting in response to warning displays.
The warning name, warning meaning, and warning code output are listed in order of the warning numbers in
10.2.1 List of Warnings.
The causes of alarms and troubleshooting methods are provided in 10.2.2 Troubleshooting of Warnings.
10.2.1 List of Warnings
The relation between warning displays and warning code outputs are shown below.

Warning DisplayWarning NameMeaningWarning Code OutputALO1ALO2ALO3A.900Position Error Pulse OverflowPosition error pulse exceeded the parameter settings (Pn520?Pn51E/100).HHHA.901Position Error Pulse Overflow Alarm at Servo ONWhen the servo turns ON, the position error pulses exceeded the parameter setting (Pn526?Pn528/100).
H
H
HA.910OverloadThis warning occurs before the overload alarms (A.710 or A.720) occur. If the warning is ignored and operation contin- ues, an overload alarm may occur.
L
H
HA.911VibrationAbnormal vibration at the motor speed was detected. The detection level is the same as A.520. Set whether to output an alarm or warning by "Vibration Detection Switch" of Pn310.LHHA.920Regenerative OverloadThis warning occurs before the regenerative overload alarm (A.320) occurs. If the warning is ignored and operation contin- ues, a regenerative overload alarm may occur.
H
L
HA.921Dynamic Brake OverloadThis warning occurs before Dynamic Brake Overload (A.731) alarm occurs. If the warning is ignored and operation contin- ues, a dynamic brake overload alarm may occur.
H
L
HA.930Absolute Encoder Battery ErrorThis warning occurs when the absolute encoder battery voltage is lowered.LLHA.941Change of Parameters Requires RestartParameters that require the restart have been changed.HHL
A.971
UndervoltageThis warning occurs before Undervoltage (A.410) alarm occurs. If the warning is ignored and operation continues, an undervoltage alarm may occur.
L
L
LNote 1. Warning code is not outputted without setting Pn001.3 =1 (Outputs both Alarm Codes and Warning Codes.)
2. If Pn008.2 = 1 (Do not detect warning) is selected, all warnings will not be detected.



10.2.2 Troubleshooting of Warnings
Refer to the following table to identity the cause of a warning and the action to be taken. Contact your Yaskawa representative if the problem cannot be solved by the described corrective action.



Warning DisplayWarning NameSituation at Warning OccurrenceCauseCorrective Actions










A.900









Position Error Pulse OverflowWiring of the servomo- tor U, V, or W line is incorrect.Check the wiring of the cable for motor main circuit.Check whether there is any loose con- nection in motor wiring or encoder wiring.The SERVOPACK gain is too low.Check the SERVOPACK gain.Increase the speed loop gain (Pn100) or position loop gain (Pn102).The position reference pulse frequency is too high.
Lower the position reference pulse frequency.Lower the position reference pulse frequency or the position reference acceleration, or correct the electronic gear ratio.The position reference acceleration is too high.Lower the position reference accelera- tion.Apply a smoothing function, such as a position reference acceleration/decel- eration time constant (Pn216).The excessive position error alarm level (Pn520) is too low for the operating condi- tions.
Check the excessive position error alarm level (Pn520).
Set an appropriate value for the Pn520.
A SERVOPACK fault occurred.
?Turn the power supply OFF and then ON again. If the alarm still occurs, the SERVOPACK may be faulty. Repair or replace the SERVOPACK.

A.901
Position Error Pulse Overflow Alarm at Servo ONWhen the servo was OFF, the servomotor moved without clearing position error pulses and excessive position error pulses accumu- lated.

Check the error counter (Un008).
Make a setting to clear position error pulses when the servo is OFF or set an appropriate value for the excessive position error alarm level (Pn520).






A.910Overload: Warning before alarm A710 or A720 occurs
In either of the fol- lowing cases:
1. 20% of the overload detection level of A710 was reached.
2. 20% of the overload detection level of A720 was reached.The servomotor or encoder wiring is incor- rect or the connection is faulty.
Check the wiring.
Correct the servomotor and encoder wiring if they are wrong.The servomotor is in excess of the overload protective characteris- tics.
Check the overload characteristics of the servomotor and reference input.Reconsider the load and operation conditions.
Or, check the servomotor capacity.The servomotor is not driven due to a mechan- ical factor and the oper- ating load has become excessive.
Check the reference input and motor speed.
Improve the mechanical factor.A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVOPACK.



A.911



VibrationUnusual vibration was detected while the motor was rotating.Check whether unusual sound is gen- erated from the motor, and check the speed, torque, and thrust waveform of the motor.
Lower the motor rotation speed or the speed loop gain (Pn100).The moment of inertia ratio (Pn103) is larger than the actual value or greatly changes.

Check the load moment of inertia.
Set an appropriate value for the load moment of inertia (Pn103).


10.2.2 Troubleshooting of Warnings


Warning DisplayWarning NameSituation at Warning OccurrenceCauseCorrective Actions






A.920




Regenerative Overload: Warning before the alarm A320 occursThe power supply volt- age is in excess of the specified range.Measure the power supply voltage.Set the power supply voltage within the specified range.The external regenera- tive resistance, servo amplifier capacity, or regenerative resistor capacity is insufficient or a continuous regener- ative state occurs.
Check the operating conditions or capacity using the capacity selection software SigmaSize+, etc.Change the regenerative resistance, regenerative resistor capacity, or SER- VOPACK capacity. Reconsider the operating conditions using the capac- ity selection software SigmaSize+, etc.Regenerative power continuously flowed back because negative load was continuously applied.
Check the load on the servomotor dur- ing operation.
Reconsider the system including the servo, machine, and operation condi- tions.




A921


Dynamic Brake Overload: Warning before the alarm A.731 occursThe servomotor is driven by an external force.
Check the operating conditions.Do not drive the motor with external force.
The rotating energy at a DB stop exceeds the DB resistance capacity.
Check the operating frequency of the DB with power consumed by DB resistance (Un00B).• Reduce the servomotor reference speed.
• Reduce the load moment of inertia.
• Reduce the number of times of the DB stop operation.A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVOPACK.




A.930Absolute Encoder Battery Error
(The battery volt- age was lowered than the specified value 4 seconds after the control power supply is turned ON.) (Only when an absolute encoder is connected.)The battery connection is incorrect.Check the battery connection.Reconnect the battery.The battery voltage is lower than the specified value 2.7 V.
Measure the battery voltage.Replace the battery and turn the con- trol power supply ON.

A SERVOPACK fault occurred.

?

The SERVOPACK may be faulty. Repair or replace the SERVOPACK.A.941Change of Parameters Requires RestartParameters that require the restart have been changed.?
Turn OFF the power and ON again.








A.971








UndervoltageThe power supply volt- age for a 200 VAC model is 120 V or below or the power sup- ply for a 400 VAC model is 240 V or below.

Measure the power supply voltage.

Use a power supply voltage within the specified range.The power supply volt- age dropped during operation.Measure the power supply voltage.Increase the power supply capacity.An instantaneous power failure occurred.
Measure the power supply voltage.Set the power supply voltage to the specified range. Lower the instanta- neous power cut hold time (Pn509).The fuse in the SERVO- PACK is burned out.?Repair or replace the SERVOPACK and connect an AC/DC reactor to the SERVOPACK.A SERVOPACK fault occurred.?The SERVOPACK may be faulty. Repair or replace the SERVOPACK.


10.3 Troubleshooting Malfunction Based on Operation and Conditions of the Servomotor
Troubleshooting for the malfunctions based on the operation and conditions of the servomotor is provided in this section.
Be sure to turn OFF the servo system before troubleshooting items shown in bold lines in the table.

ProblemProbable CauseInvestigative ActionsCorrective Actions
























Servomotor Does Not StartThe control power supply is not ON.Check voltage between power sup- ply terminals.Correct the power circuit.The main circuit power supply is not ON.Check the voltage between power supply terminals.Correct the power circuit.Wiring of I/O signal connector CN1 faulty or disconnected.Check if the connector CN1 is prop- erly inserted and connected.Correct the connector CN1 connec- tion.Servomotor or encoder wiring dis- connected.Check the wiring.Correct the wiring.OverloadedRun under no load and check the load status.Reduce load or replace with larger capacity servomotor.Speed/position references not inputCheck reference input pins.Input speed/position references cor- rectly.Motion command not inputCheck the command sent from the host controller.Input motion command correctly.Setting for Pn50A to Pn50D "Input Signal Selection" is incorrect.Check settings of parameters Pn50A to Pn50D.Correct the settings for Pn50A to Pn50D "Input Signal Selection."Encoder type differs from parame- ter setting (Pn002.2).Check setting of parameter Pn002.2.Set parameter Pn002.2 to the encoder type being used.Servo ON (/S-ON) input signal stays OFF.Check settings of parameters Pn50A.0 and Pn50A.1.Set the parameters to turn the Servo ON (/S-ON) input signal ON.Servo ON (SV_ON) command is not sent.Check the command sent from the host controller.Send the Servo ON (SV_ON) com- mand.Sensor ON (SENS_ON) command is not sent.Check the command sent from the host controller.Send the command in the correct SERVOPACK sequence./P-CON input function setting is incorrect.Check parameter Pn000.1.Set parameters to match the applica- tion.SEN input is OFF.Check the ON/OFF status of the SEN input.If using an absolute encoder, turn the SEN input signal ON.Reference pulse mode selection is incorrect.Check the Pn200.0 setting and the reference pulse status.Match the Pn200.0 setting and the reference pulse status.Speed control: Speed reference input is incorrect.Check V-REF and SG to confirm if the control method and the input are agreed.Correct the control mode selection parameter, or the input.Torque control: Torque reference input is incorrect.Check V-REF and SG to confirm if the control method and the input are agreed.Correct the control mode selection parameter, or the input.Position control: Reference pulse input is incorrect.Check Pn200.0 reference pulse form or sign + pulse signal.Correct the control mode selection parameter, or the input.Position error pulse clear (CLR) input is turned ON.Check CLR or /CLR input pins (CN1-14 and -15).Turn CLR or /CLR input signal OFF.The forward run prohibited (P-OT) and reverse run prohibited (N-OT) input signals are turned OFF.
Check P-OT or N-OT input signal.Turn P-OT or N-OT input signal ON.A SERVOPACK fault occurred.Replace the SERVOPACK.Servomotor Moves Instantaneously, and then StopsServomotor wiring is incorrect.Check the servomotor wiring.Correct the wiring.Encoder wiring is incorrect.Check the encoder wiring.Correct the wiring.



ProblemProbable CauseInvestigative ActionsCorrective ActionsServomotor Speed UnstableWiring connection to servomotor is defective.Check connections of main circuit cable (phases-U, -V, and -W) and encoder connectors.Tighten any loose terminals or con- nectors.



Servomotor Rotates Without Reference InputSpeed control: Speed reference input is incorrect.Check V-REF and SG to confirm if the control method and the input are agreed.Correct the control mode selection parameter, or the input signal.Torque control: Torque reference input is incorrect.Check V-REF and SG to confirm if the control method and the input are agreed.Correct the control mode selection parameter, or the input signal.Speed reference offset is incorrect.The SERVOPACK offset is adjusted incorrectly.Adjust the SERVOPACK offset.Position control: Reference pulse input is incorrect.Check Pn200.0 reference pulse form or sign + pulse signal.Correct the control mode selection parameter, or the input signal.A SERVOPACK fault occurred.Replace the SERVOPACK.


Dynamic Brake Does Not OperateImproper Pn001 settingCheck the setting of parameter Pn001.0.Correct the parameter setting.DB resistor disconnectedCheck if excessive moment of iner- tia, motor overspeed, or DB fre- quently activated occurred.Replace the SERVOPACK, and lighten the load.DB drive circuit faultThere is a defective component in the DB circuit. Replace the SER- VOPACK.


















Abnormal Noise from Servomotor

Mounting is not secured.Check if there are any loose mount- ing screws.Tighten the mounting screws.Check if there is misalignment of couplings.Align the couplings.Check if there are unbalanced cou- plings.Balance the couplings.Bearings are defective.Check for noise and vibration around the bearings.If there are any problems, contact your Yaskawa representative.Vibration source at the driven machineCheck for any foreign matter, dam- age, or deformations on the machin- ery's movable parts.If there are any problems, contact the machine manufacturer.Noise interference due to incorrect input/output signal cable specifica- tionsThe input/output signal cables must be tinned annealed copper twisted- pair or shielded twisted-pair cables
with a core of 0.12 mm2 min.
Use the specified input signal wires.Noise interference due to length of input/output signal cable.Check the length of the input/output cable.The input/output cable length must be no more than 3 m, and the impedance a few hundred ohm max.
Noise interference due to incorrect encoder cable specifications.The encoder cable must be tinned annealed copper twisted-pair or shielded twisted-pair cables with a
core of 0.12 mm2 min.
Use the specified encoder cable.Noise interference due to length of encoder cable wiringCheck the length of the encoder cable.The encoder cable must be no more than 20 m.Noise interference due to damaged encoder cableCheck if the encoder cable is dam- aged or bent.Replace the encoder cable and mod- ify the encoder cable layout.Excessive noise to the encoder cableCheck if the encoder cable is bun- dled with high-current line or near a high-current line.Correct the encoder cable layout so that no surge is applied.FG potential varies because of influence of machines such as weld- ers at the servomotor.Check if the machines are correctly grounded.Ground machines correctly, and prevent diversion to the FG at the PG side.SERVOPACK pulse counting error due to noise interferenceCheck if there is noise interference on the input/output signal line from the encoder.Take measures against noise in the encoder wiring.



ProblemProbable CauseInvestigative ActionsCorrective Actions
Abnormal Noise from Servomotor (cont'd)Excessive vibration and shock to the encoderCheck if vibration from the machine occurred or servomotor installation is incorrect (mounting surface accu- racy, fixing, alignment, etc.).Reduce vibration from the machine, or secure the servomotor installa- tion.An encoder fault occurred.Replace the servomotor.


Servomotor Vibrates at Frequency of Approx 200 to 400 HzSpeed loop gain value (Pn100) too high.Check the speed loop gain value (Pn100).
Factory setting: Kv = 40.0 HzReduce the speed loop gain (Pn100).Position loop gain value (Pn102) too high.Check the position loop gain value (Pn102).
Factory setting: Kp = 40.0/sReduce the position loop gain (Pn102).Incorrect speed loop integral time constant (Pn101) settingCheck the speed loop integral time constant (Pn101).
Factory setting: Ti = 20.0 msCorrect the speed loop integral time constant (Pn101) setting.Incorrect moment of inertia ratio data (Pn103)Check the moment of inertia ratio setting (Pn103).Correct the moment of inertia ratio (Pn103) setting.




High Rotation Speed Overshoot on Starting and StoppingSpeed loop gain value (Pn100) too highCheck the speed loop gain value (Pn100).
Factory setting: Kv = 40.0 HzReduce the speed loop gain (Pn100).Position loop gain value (Pn102) too highCheck the position loop gain value (Pn102).
Factory setting: Kp = 40.0/sReduce the position loop gain (Pn102).Incorrect speed loop integral time constant (Pn101) settingCheck the speed loop integral time constant (Pn101).
Factory setting: Ti = 20.0 msCorrect the speed loop integral time constant setting (Pn101).
Incorrect moment of inertia ratio data (Pn103)
Check the moment of inertia ratio setting (Pn103).Correct the moment of inertia ratio setting (Pn103).Use the mode switch functions (Pn10C to Pn10F).





Absolute Encoder Position Difference Error (The position saved in the host controller when the power was turned OFF is different from the position when the power was next turned ON.)
Noise interference due to improper encoder cable specificationsThe encoder cable must be tinned annealed copper twisted-pair or shielded twisted-pair cables with a
core of 0.12 mm2 min.
Use encoder cable with the speci- fied specifications.Noise interference due to length of encoder cable.Check the encoder cable length.The encoder cable length must be no more than 20 m.Noise interference due to damaged encoder cableCheck if the encoder cable is bent or if its sheath is damaged.Replace the encoder cable and cor- rect the encoder cable layout.Excessive noise interference at the encoder cableCheck if the encoder cable is bun- dled with a high-current line or near high-current line.Change the encoder cable layout so that no surge is applied.FG potential varies because of influence of machines such as weld- ers at the servomotor.Check if the machines are correctly grounded.Ground machines correctly, and prevent diversion to the FG at the PG side.SERVOPACK pulse counting error due to noise interferenceCheck if there is noise interference on the input/output signal line from the encoder.Take measures against noise in the encoder wiring.Excessive vibration and shock to the encoderCheck if vibration from the machine occurred or servomotor installation is incorrect (mounting surface accu- racy, fixing, alignment, etc.).Reduce vibration from the machine, or secure the servomotor installa- tion.An encoder fault occurred.Replace the servomotor.



ProblemProbable CauseInvestigative ActionsCorrective ActionsAbsolute Encoder Position Difference Error (The position saved in the host controller when the power was turned OFF is different from the position when the power was next turned ON.) (cont'd)A SERVOPACK fault occurred. (The pulse count does not change.)Replace the SERVOPACK.


Host controller multi-turn data read- ing errorCheck the error detection at the host
controller.Correct the error detection section
of the host controller.Check if the host controller is exe- cuting data parity checks.Execute a multi-turn data parity check.
Check noise in the input/output sig- nal line between the SERVOPACK and the host controller.
Take measures against noise, and again execute a multiturn data par- ity check.













Overtravel (OT) (Movement over the zone specified by the host controller)
Forward or reverse run prohibited signal is input. P-OT (CN1-42 or CN1-7) or N-OT (CN1-43 or CN1-
8) is at H level.Check the external power supply (+24 V) voltage for the input signal.Correct the external power supply (+24 V) voltage.Check if the overtravel limit switch operates properly.Correct the overtravel limit switch.Check if the overtravel limit switch is wired correctly.Correct the overtravel limit switch wiring.

Forward or reverse run prohibited signal malfunctioning (P-OT or N- OT signal sometimes changes).Check the fluctuation of the input signal external power supply (+24 V) voltage.Stabilize the external power supply (+24 V) voltage.Check if the overtravel limit switch operates correctly.Stabilize the operation of the over- travel limit switch.Check if the overtravel limit switch wiring is correct. (check for dam- aged cables or loose screws.)Correct the overtravel limit switch wiring.Incorrect forward or reverse run prohibited signal (P-OT/N-OT) allocation (parameters Pn50A.3, Pn50B.0)Check if the P-OT signal is allo- cated in Pn50A.3.If another signal is allocated in Pn50A.3, select P-OT.Check if the N-OT signal is allo- cated in Pn50B.0.If another signal is allocated in Pn50B.0, select N-OT.
Incorrect servomotor stop method selectionCheck Pn001.0 and Pn001.1 when servo is OFF.Select a servo mode stop method other than "coast to stop."Check Pn001.0 and Pn001.1 when in torque control.Select a servo mode stop method other than "coast to stop."
Improper overtravel position settingCheck the overtravel (OT) position setting.If the distance to the OT position is too short compared to the coasting distance, correct the setting.
Improper overtravel limit switch position settingCheck if the distance to the over- travel limit switch (OTLS) is too short compared to the coasting dis- tance.
Correct the OTLS position.



ProblemProbable CauseInvestigative ActionsCorrective Actions

















Position Error (Without Alarm)
Noise interference due to improper encoder cable specificationsThe encoder cable must be tinned annealed copper twisted-pair or shielded twisted-pair cable with a
core of 0.12 mm2 min.
Use encoder cable with the speci- fied specifications.Noise interference due to length of encoder cableCheck the encoder cable length.The encoder cable length must be no more than 20 m.Noise influence due to damaged encoder cableCheck if the encoder cable is bent or if its sheath is damaged.Replace the encoder cable and cor- rect the encoder cable layout.Excessive noise interference to encoder cableCheck if the encoder cable is bun- dled with a high-current line or near a high-current line.Change the encoder cable layout so that no surge is applied.FG potential varies because of influence of machines such as weld- ers at the servomotor.Check if the machines are correctly grounded.Ground machines correctly, and prevent diversion to the FG at the PG side.SERVOPACK pulse count error due to noiseCheck if the input/output signal line from the encoder is influenced by noise.Take measures against noise in the encoder wiring.Excessive vibration and shock to the encoderCheck if vibration from the machine occurred or servomotor installation is incorrect (mounting surface accu- racy, fixing, alignment, etc.).Reduce the machine vibration or mount the servomotor securely.Unsecured coupling between machine and servomotorCheck if a position error occurs at the coupling between machine and servomotor.Secure the coupling between the machine and servomotor.
Noise interference due to improper I/O signal cable specificationsThe I/O signal cable must be twisted-pair or shielded twisted-pair
cable with a core of 0.12 mm2 min. and tinned annealed copper twisted wire.
Use input signal cable with the specified specifications.Noise interference due to length of I/O signal cableCheck the I/O signal cable length.The I/O signal cable length must be no more than 3 m, and the imped- ance several hundred ohm max.An encoder fault occurred. (The pulse count does not change.)Replace the SERVOPACK.A SERVOPACK fault occurred.Replace the SERVOPACK.
Servomotor OverheatedAmbient temperature too highMeasure the servomotor ambient temperature.Reduce the ambient temperature to 40?C or less.Servomotor surface dirtyVisually check the surface.Clean dust and oil from the surface.Servomotor overloadedRun under no load and check the load status.Reduce load or replace with larger capacity servomotor.

11

Appendix



11.1 Connection to Host Controller	11-2
11.1.1 Example of Connection to MP2200/MP2300 Motion Module SVA-01	11-2
11.1.2 Example of Connection to MP920 4-axes Analog Module SVA-01	11-3
11.1.3 Example of Connection to OMRON's Motion Control Unit	11-4
11.1.4 Example of Connection to OMRON's Position Control Unit	11-5
11.1.5 Connection to MITSUBISHI's AD72 Positioning Unit
(SERVOPACK in Speed Control Mode)	11-6
11.1.6 Connection to MITSUBISHI's AD75 Positioning Unit
(SERVOPACK in Position Control Mode)	11-7
11.2 List of Parameters	11-8
11.2.1 Utility Functions	11-8
11.2.2 Parameters	11-9
11.3 Monitor Modes	11-30
11.4 Parameter Recording Table	11-31



11.1.1 Example of Connection to MP2200/MP2300 Motion Module SVA-01

11.1 Connection to Host Controller
The following figures show the connection examples to host controllers.
11.1.1 Example of Connection to MP2200/MP2300 Motion Module SVA-01


Note 1. Connection cables (model: JEPMC-W2040-??) to connect the SERVOPACK to the MP2200/MP2300 are pro- vided by Yaskawa. For details, refer to Machine Controller MP2200/2300 Motion Module User's Manual (SIEPC88070016).
2. The SERVOPACK incorporates a safety function to protect people from the hazardous operation of the movable parts of the machines, reduce the risk, and ensure the safety of the machine in operation.
Necessary circuits and settings are required to use this function. For details, refer to 5.11 Safety Function.



11.1.2 Example of Connection to MP920 4-axes Analog Module SVA-01


MP920 Series SVA-01
manufactured by
Yaskawa Electric Corporation

to	?



SGDV SERVOPACK CN1

2
1
3
4
23
 24
 5 6
7
16

NREF SG
PA PAL PB PBL PC PCL SG
+24V OUT
V- 
REF  5  SG	2
PAO  33
/PAO  34
PBO  35
/PBO  36
PCO  19
/PCO  20
SG	6
+24V-IN 47

L1C L2C L1 L2 L3



U

Control power supply Main circuit power supply
Servomotor

V
 34		W
	
 32  DOSEN
 11  0V

20 SEN
19  SG
28  0V

SEN  4
SG  10
/S-RDY-  30

 29  0V

17  SVALM
10  0V
35 SVRDY
18  BRK
22  BAT
21  0BAT
FG

ALM+ 31
ALM-  32
/S-RDY+ 29
/TGON+ 27
BAT(+) 21
BAT(-) 22



?	 represents twisted-pair wires.
Note 1. Connection cables (model: JEPMC-W6050-??-E) to connect the SERVOPACK to the MP920 are provided by Yaskawa. For details, refer to Machine Controller MP920 User's Manual design and maintenance (SIEZ-C887- 2.1).
2. The SERVOPACK incorporates a safety function to protect people from the hazardous operation of the movable parts of the machines, reduce the risk, and ensure the safety of the machine in operation.
Necessary circuits and settings are required to use this function. For details, refer to 5.11 Safety Function.



11.1.3 Example of Connection to OMRON's Motion Control Unit

11.1.3 Example of Connection to OMRON's Motion Control Unit
MC unit manufactured by OMRON C200H-MC221
(CS1W-MC221/MC421)
(CV500-MC221/MC421)



        24V input 1 24V input ground 2 X -axis alarm input  3



24 VDC

SGDV SERVOPACK

L1C L2C
ALM+  31	L1




Control power supply

X-axis run reference output X-axis alarm reset output X-axis SEN signal ground X-axis SEN signal output X-axis feedback ground
 X-axis phase-A input X-axis phase-/A input
 X-axis phase-B input X-axis phase-/B input X-axis phase-Z input X-axis phase-/Z input
     X-axis speed reference Axis speed reference ground

       24 V output 24 V output ground

           24 V input X-axis CW limit input X-axis CCW limit input

4
5
8
9
10
11
12
13
14
15
16
17 18

19
20


1
2
4



















24 VDC

/S-ON
/ALM-RST
?2		SG?1 SEN?1
 SG PAO
/PAO




V-REF
SG
FG
+24-IN ALM-

40
44
2
4
1
33
34
36
35
19
20
5
6
Shell 47
32

L2	Main circuit
L3	power supply

Servomotor

U V W




X-axis immediate stop input 6 X-axis origin proximity input 10

Battery?1
BAT(+)?1  21

24 V input ground 14

22
2.8 to 4.5 VDC


???  Connect when an absolute encoder is used.
When the encoder cables with a battery case JUSP-BA01 are used, no battery is required for CN1 (between 21 and 22).
• For CN1: ER6VC3N (3.6 V, 2000 mA)
• Battery case: JUSP-BA01 (3.6 V, 1000 mA)
???	 represents twisted-pair wires.
Note 1. Only signals applicable to Yaskawa's SGDV SERVOPACK and OMRON's MC unit are shown in the diagram.
2. The main circuit power supply is a three-phase 200 VAC SERVOPACK input in the example.
3. Note that incorrect signal connection will cause damage to the MC unit and SERVOPACK.
4. Open the signal lines not to be used.
5. The above connection diagram shows only X-axis connection. When using another axes, make connection to the SERVOPACK in the same way.
6. The normally closed (N.C.) input terminals not to be used at the motion control unit I/O connector section must be short-circuited at the connector.
7. Make the setting so that the servo can be turned ON/OFF by the Servo ON (/S-ON) signal.
8. The SERVOPACK incorporates a safety function to protect people from the hazardous operation of the movable parts of the machines, reduce the risk, and ensure the safety of the machine in operation.
Necessary circuits and settings are required to use this function. For details, refer to 5.11 Safety Function.



11.1.4 Example of Connection to OMRON's Position Control Unit

Position control unit

I/O power supply


??? The ALM signal is output for about five seconds after the control power is turned ON. Take this into consideration when designing the power ON sequence. The ALM signal actuates the alarm detection relay 1Ry to stop the main circuit power supply to the SERVOPACK.
???  Set parameter Pn200.0 to "1."
???  Connect the shield wire to the connector shell.
???   represents twisted-pair wires.
Note 1. Only signals applicable to Yaskawa's SGDV SERVOPACK and OMRON's MC unit (positioning unit) are shown in the diagram.
2. The SERVOPACK incorporates a safety function to protect people from the hazardous operation of the movable parts of the machines, reduce the risk, and ensure the safety of the machine in operation.
Necessary circuits and settings are required to use this function. For details, refer to 5.11 Safety Function.



11.1.5 Connection to MITSUBISHI's AD72 Positioning Unit (SERVOPACK in Speed Control Mode)

11.1.5 Connection to MITSUBISHI's AD72 Positioning Unit (SERVOPACK in Speed Control Mode)

SGDV SERVOPACK



























??? The ALM signal is output for about five seconds after the control power is turned ON. Take this into consideration when designing the power ON sequence. The ALM signal actuates the alarm detection relay 1Ry to stop the main circuit power supply to the SERVOPACK.
???  Pin numbers are the same both for X-axis and Y-axis.
???  Connect the connector wire to the connector shell.
???	 represents twisted-pair wires.
Note 1. Only signals applicable to Yaskawa's SGDV SERVOPACK and Mitsubishi's AD72 Positioning Unit are shown in the diagram.
2. The SERVOPACK incorporates a safety function to protect people from the hazardous operation of the movable parts of the machines, reduce the risk, and ensure the safety of the machine in operation.
Necessary circuits and settings are required to use this function. For details, refer to 5.11 Safety Function.



11.1.6 Connection to MITSUBISHI's AD75 Positioning Unit (SERVOPACK in Position Control Mode)



AD75

I/O power supply


SGDV SERVOPACK

manufactured by Mitsubishi Electric Corporation

+24V  +
-

+24 V
024 V




L1C




Control

X- axis (Y-axis)
26
7
14
11
24
25



READY STOP DOG

PGO



1Ry








1Ry*




ON when positioning is cancelled
ON when proximity is detected
PCO  19
/PCO  20


ALM+  31
ALM -  32

L2C L1 L2 L3



U V W





power supply

Main circuit power supply

Servomotor



3
21 PULSE
4
22 SIGN

5
23 CLEAR FG






2.2K?

PULS
/PULS
SIGN
/SIGN
CLR
/CLR

7
8

11
12
15
14

Connector shell


CN1 47
40
42
43





/S-ON P-OT N-OT



+24V


024V

? The ALM signal is output for about five seconds when the control power is turned ON. Take this into consideration when designing the power ON sequence. The ALM signal actuates the alarm detection relay 1Ry to stop the main cir- cuit power supply to the SERVOPACK.
Note 1. Only signals applicable to Yaskawa's SGDV SERVOPACK and Mitsubishi's AD75 Positioning Unit are shown in the diagram.
2. The SERVOPACK incorporates a safety function to protect people from the hazardous operation of the movable parts of the machines, reduce the risk, and ensure the safety of the machine in operation.
Necessary circuits and settings are required to use this function. For details, refer to 5.11 Safety Function.



11.2.1 Utility Functions

11.2 List of Parameters
11.2.1 Utility Functions
The following list shows the available utility functions.


Parameter No.
FunctionOperation from the Panel OperatorOperation from the Digital Operator or SigmaWin+
Reference SectionFn000Alarm traceback data display??7.2Fn002JOG mode operation??7.3Fn003Origin search??7.4Fn004Program JOG operation??7.5Fn005Initialize parameter settings??7.6Fn006Clear alarm traceback data??7.7Fn008Absolute encoder multi-turn reset and encoder alarm reset??5.9.5Fn009Automatic tuning of analog (speed, torque) reference offset??5.3.2
5.5.2Fn00AManual servo tuning of speed reference offset??5.3.2Fn00BManual servo tuning of torque reference offset??5.5.2Fn00CManual zero-adjustment of analog monitor output??7.8Fn00DManual gain-adjustment of analog monitor output??7.9Fn00EAutomatic offset-adjustment of motor current detection signal??7.10Fn00FManual offset-adjustment of motor current detection signal??7.11Fn010Write prohibited setting??7.12Fn011Check servomotor models??7.13Fn012Software version display??7.14Fn013Multi-turn limit value setting change when a Multi-turn Limit Disagreement alarm occurs??5.9.8Fn014Reset configuration error of option card??7.15Fn01BInitialize vibration detection level??7.16Fn01ESERVOPACK and servomotor ID display??7.17Fn01FDisplay of servomotor ID for feedback option??7.18Fn200Tuning-less level setting??6.2.2Fn201Advanced autotuning??6.3.2Fn202Advanced autotuning by reference??6.4.2Fn203One-parameter tuning?*?6.5.2Fn204Anti-resonance control adjustment function??6.6.2Fn205Vibration suppression function??6.7.2Fn206EasyFTT??7.19Fn207Online vibration monitor??7.20Fn020Origin setting??7.21Fn030Software reset??7.22V- : Avaiable ?: Not available
?  The following functional restrictions apply to the Panel Operator.
Note 1. A setting may be write-prohibited if the Panel Operator displays "no_oP" when any of the above utility function is executed. Refer to 7.12 Write Prohibited Setting (Fn010).
2. When utility functions which cannot be operated from the panel operator are executed from the panel operator,
"no_oP" is displayed.



11.2.2 Parameters

Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section















Pn000Basic Function Select Switch 00000 to 00B3?0000After restartSetup?4th 3rd 2nd 1st digit digit digit digit
n.
















Reserved (Do not change.) Reserved (Do not change.)


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section















Pn001Application Function Select Switch 10000 to 1122?0000After restartSetup?4th 3rd 2nd 1st digit digit digit digit
n.

















	




?  The motor is stopped by the dynamic brake or by coasting regardless of the setting in the torque control mode.



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section














Pn002Application Function Select Switch 20000 to 4113?0000After restartSetup?4th 3rd 2nd 1st digit digit digit digit
n.














Pn006Application Function Select Switch 60000 to 005F?0002ImmediatelySetup?
4th 3rd 2nd 1st digit digit digit digit
n.













Reserved (Do not change.) Reserved (Do not change.)


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section














Pn007Application Function Select Switch 70000 to 005F?0000ImmediatelySetup?4th 3rd 2nd 1st digit digit digit digit
n.













Reserved (Do not change.) Reserved (Do not change.)










Pn008Application Function Select Switch 80000 to 7121?0000After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.











Reserved (Do not change.)



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section








Pn009Application Function Select Switch 90000 to 0111?0010After restartTuning?
4th 3rd 2nd 1st digit digit digit digit
n.





Speed Detection Method Selection
0 Speed detection 1
1 Speed detection 2


Reserved (Do not change.)










Pn00BApplication Function Select Switch B0000 to 1111?0000After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.





Power Supply Method for Three-phase SERVOPACK
0 Three-phase power supply
1 Single-phase power supply


Reserved (Do not change.)


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section










Pn00CApplication Function Select Switch C??0000After restartSetup?4th 3rd 2nd 1st digit digit digit digit
n.







Encoder Type for Test without Motor	 (Refer to 4.7.4) 
00 Incremental encoder
01 Absolute encoder


Reserved (Do not change.)Pn010Axis Address Selection (for UART/ USB communication)0000 to 007F?0001After restartSetup?Pn100Speed Loop Gain10 to 200000.1 Hz400ImmediatelyTuning?Pn101Speed Loop Integral Time Constant15 to 512000.01 ms2000ImmediatelyTuning?Pn102Position Loop Gain10 to 200000.1/s400ImmediatelyTuning?Pn103Moment of Inertia Ratio0 to 200001%100ImmediatelyTuning?Pn1042nd Speed Loop Gain10 to 200000.1 Hz400ImmediatelyTuning
6.8.6Pn1052nd Speed Loop Integral Time Con- stant15 to 512000.01 ms2000ImmediatelyTuningPn1062nd Position Loop Gain10 to 200000.1/s400ImmediatelyTuningPn109Feedforward Gain0 to 100%0ImmediatelyTuning6.8.1Pn10AFeedforward Filter Time Constant0 to 64000.01 ms0ImmediatelyTuning



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section












Pn10BApplication Function for Gain Select Switch??0000?Setup?
4th 3rd 2nd 1st digit digit digit digit
n.

Mode Switch Selection	(Refer to 6.8.5)		When Enabled
0 Uses internal torque reference as the condition (Level setting: Pn10C)
1 Uses speed reference as the condition (Level setting: Pn10D)
Immediately
2 Uses acceleration as the condition (Level setting: Pn10E)
3 Uses position error pulse as the condition (Level setting: Pn10F)
4 No mode switch function available


Speed Loop Control Method	(Refer to 6.8.4)		When Enabled
0	PI control
1	I-P control	After restart
2 and 3 Reserved (Do not change.)
Reserved (Do not change.) Reserved (Do not change.)Pn10CMode Switch (torque reference)0 to 8001%200ImmediatelyTuning


6.8.5Pn10DMode Switch (speed reference)0 to 100001 min-10ImmediatelyTuningPn10EMode Switch (acceleration)0 to 300001 min-1/ s0ImmediatelyTuningPn10FMode Switch (position error pulse)0 to 10000 refer- ence unit0ImmediatelyTuningPn11FPosition Integral Time Constant0 to 500000.1 ms0ImmediatelyTuning6.8.8Pn121Friction Compensation Gain10 to 10000.1%100ImmediatelyTuning


6.8.9Pn1222nd Gain for Friction Compensation10 to 1000%100ImmediatelyTuningPn123Friction Compensation Coefficient0 to 1001%0ImmediatelyTuningPn124Friction Compensation Frequency Correction-1000 to
100000.1 Hz0ImmediatelyTuningPn125Friction Compensation Gain Correc- tion1 to 100001%100ImmediatelyTuningPn131Gain Switching Time 10 to 655351 ms0ImmediatelyTuning

6.8.6Pn132Gain Switching Time 20 to 655351 ms0ImmediatelyTuningPn135Gain Switching Waiting Time 10 to 655351 ms0ImmediatelyTuningPn136Gain Switching Waiting Time 20 to 655351 ms0ImmediatelyTuning


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section














Pn139Automatic Gain Changeover Related Switch 10000 to 0052?0000After restartTuning?
4th 3rd 2nd 1st digit digit digit digit
n.
Gain Switching Selection Switch	(Refer to 6.8.6) 
0 Manual gain switching
Changes gain manually using external input signals (G-SEL)
1 Reserved (Do not change.)
2 Automatic gain switching pattern 1
Changes automatically 1st gain to 2nd gain when the switching condition A is satisfied. Changes automatically 2nd gain to 1st gain when the switching condition A is not satisfied.


Gain Switching Condition A	 (Refer to 6.8.6)
0 Positioning completion signal (/COIN) ON
1 Positioning completion signal (/COIN) OFF
2 NEAR signal (/NEAR) ON
3 NEAR signal (/NEAR) OFF
4 Position reference filter output = 0 and reference pulse input OFF
5 Position reference pulse input ON
Reserved (Do not change.) Reserved (Do not change.)Pn13DCurrent Gain Level100 to 2000%2000ImmediatelyTuning?












Pn140Model Following Control Related Switch0000 to 1121?0100ImmediatelyTuning?
4th 3rd 2nd 1st digit digit digit digit
n.Pn141Model Following Control Gain10 to 200000.1/s500ImmediatelyTuning?Pn142Model Following Control Gain Com- pensation500 to 20000.1%1000ImmediatelyTuning?



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference SectionPn143Model Following Control Bias (Forward Direction)0 to 100000.1%1000ImmediatelyTuning?Pn144Model Following Control Bias (Reverse Direction)0 to 100000.1%1000ImmediatelyTuning?Pn145Vibration Suppression 1 Frequency A10 to 25000.1 Hz500ImmediatelyTuning?Pn146Vibration Suppression 1 Frequency B10 to 25000.1 Hz700ImmediatelyTuning?Pn147Model Following Control Speed Feedforward Compensation0 to 100000.1%1000ImmediatelyTuning?Pn1482nd Model Following Control Gain10 to 200000.1/s500ImmediatelyTuning?Pn1492nd Model Following Control Gain Compensation500 to 20000.1%1000ImmediatelyTuning?Pn14AVibration Suppression 2 Frequency10 to 20000.1 Hz800ImmediatelyTuning?Pn14BVibration Suppression 2 Compensa- tion10 to 10001%100ImmediatelyTuning?









Pn160Anti-Resonance Control Related Switch0000 to 0011?0010ImmediatelyTuning?
4th 3rd 2nd 1st digit digit digit digit
n.
Anti-Resonance Control Selection	 (Refer to 6.3.1,6.5.1,6.5.1,6.7.1)	
0 Does not use anti-resonance control.
1 Uses anti-resonance control.

Anti-Resonance Control Adjustment Selection	 (Refer to 6.5.1,6.5.1,6.5.1,6.5.1)	
0 Does not use adjust anti-resonance control automatically using utility function.
1 Adjusts anti-resonance control automatically using utility function.
Reserved (Do not change.) Reserved (Do not change.)Pn161Anti-Resonance Frequency10 to 200000.1 Hz1000ImmediatelyTuning?Pn162Anti-Resonance Gain Compensation1 to 10001%100ImmediatelyTuning?Pn163Anti-Resonance Damping Gain0 to 3001%0ImmediatelyTuning?Pn164Anti-Resonance Filter Time Constant 1 Compensation-1000 to 10000.01 ms0ImmediatelyTuning?Pn165Anti-Resonance Filter Time Constant 2 Compensation-1000 to 10000.01 ms0ImmediatelyTuning?


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section











Pn170Tuning-less Function Rated Switch0000 to 2411?1401?Setup6.24th 3rd 2nd 1st digit digit digit digit
n.

















Pn200Position Control Reference Form Selection Switch0000 to 1236?0000After restartSetup?4th 3rd 2nd 1st digit digit digit digit
n.



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference SectionPn205Multiturn Limit Setting *0 to 655351 rev65535After restartSetup5.9.7










Pn207Position Control Function Switch0000 to 2210?0010After restartSetup?4th 3rd 2nd 1st digit digit digit digit
n.Pn20ANumber of External Scale Pitch4 to 10485761
pitch/rev32768After restartSetup9.2
Pn20E
Electronic Gear Ratio (Numerator)1 to
1073741824
(230)
-
4
After restart
Setup

5.4.3
Pn210
Electronic Gear Ratio (Denominator)1 to
1073741824
(230)
-
1
After restart
Setup
Pn212
Encoder Output Pulses16 to
1073741824
(230)
1 P/rev
2048
After restart
Setup
5.3.7Pn216Position Reference Acceleration/ Deceleration Time Constant0 to 655350.1 ms0ImmediatelySetup
5.4.4Pn217Average Movement Time of Position Reference0 to 100000.1 ms0ImmediatelySetup







Pn22AFully-closed Control Selection Switch0000 to 1003?0000?Setup?4th 3rd 2nd 1st digit digit digit digit
n.?  The multiturn limit must be changed only for special applications. Changing this limit inappropriate or unintention-



11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference SectionPn281Encoder Output Resolution1 to 40961 P/pitch20After restartSetup9.2
Pn300
Speed Reference Input Gain
150 to 30000.01V
/ rated speed
600
Immediately
Setup5.3.1
5.5.3
6.8.3Pn301Internal Set Speed 10 to 100001 min-1100ImmediatelySetup
5.6.1Pn302Internal Set Speed 20 to 100001 min-1200ImmediatelySetupPn303Internal Set Speed 30 to 100001 min-1300ImmediatelySetupPn304JOG Speed0 to 100001 min-1500ImmediatelySetup7.3Pn305Soft Start Acceleration Time0 to 100001 ms0ImmediatelySetup5.3.3Pn306Soft Start Deceleration Time0 to 100001 ms0ImmediatelySetupPn307Speed Reference Filter Time Constant0 to 655350.01 ms40ImmediatelySetup5.3.4







Pn310Vibration Detection Switch0000 to 0002?0000ImmediatelySetup?4th 3rd 2nd 1st digit digit digit digit
n.
Vibration Detection Selection	 (Refer to 7.16) 
0 No detection.
1 Outputs warning (A.911) when vibration is detected.
2 Outputs alarm (A.520) when vibration is detected.
Reserved (Do not change.) Reserved (Do not change.) Reserved (Do not change.)Pn311Vibration Detection Sensibility50 to 5001%100ImmediatelyTuning7.16Pn312Vibration Detection Level0 to 50001 min-150ImmediatelyTuningPn324Moment of Inertia Setting Start Level0 to 200001%300ImmediatelySetup?
Pn400
Torque Reference Input Gain10 to1000.1 V/
 rated torque30
Immediately
Setup5.5.1
6.8.2Pn401Torque Reference Filter Time Con- stant0 to 655350.01 ms100ImmediatelyTuning6.8.7Pn402Forward Torque Limit0 to 8001%800ImmediatelySetup
5.8.1Pn403Reverse Torque Limit0 to 8001%800ImmediatelySetupPn404Forward External Torque Limit0 to 8001%100ImmediatelySetup5.8.2
5.8.4Pn405Reverse External Torque Limit0 to 8001%100ImmediatelySetupPn406Emergency Stop Torque0 to 8001%800ImmediatelySetup5.2.3Pn407Speed Limit during Torque Control0 to 100001 min-110000ImmediatelySetup5.5.3



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section














Pn408Torque Related Function Switch0000 to 1111?0000?Setup?4th 3rd 2nd 1st digit digit digit digit
n.

1st Step Notch Filter Selection	(Refer to 6.8.7)		When Enabled

0 N/A
Immediately
1 Uses 1st step notch filter for torque reference.


Speed Limit Selection	(Refer to 5.5.3)		When Enabled

0 Uses the smaller value between motor max. speed and parameter Pn407 as speed limit value.
After restart
1 Uses the smaller value between overspeed detection speed and parameter
Pn407 as speed limit value.


2nd Step Notch Filter Selection	(Refer to 6.8.7)		When Enabled

0 N/A
Immediately
1 Uses 2nd step notch filter for torque reference.


Friction Compensation Function Selection	(Refer to 6.8.9)		When Enabled

0 Disables use friction compesation function.
Immediately
1 Enables friction compsation function.Pn4091st Notch Filter Frequency50 to 50001 Hz5000ImmediatelyTuning





6.8.7Pn40A1st Notch Filter Q Value50 to 10000.0170ImmediatelyTuningPn40B1st Notch Filter Depth0 to 10000.0010ImmediatelyTuningPn40C2nd Notch Filter Frequency50 to 50001 Hz5000ImmediatelyTuningPn40D2nd Notch Filter Q Value50 to 10000.0170ImmediatelyTuningPn40E2ndt Notch Filter Depth0 to 10000.0010ImmediatelyTuningPn40F2nd Step 2nd Torque Reference Filter Frequency100 to 5000Hz5000ImmediatelyTuningPn4102nd Step 2nd Torque Reference Filter Q Value50 to 1000.0150ImmediatelyTuningPn4121st Step 2nd Torque Reference Filter Time Constant0 to 655350.01 ms100ImmediatelyTuning6.8.6Pn415T-REF Filter Time Constant0.00 to 655.350.01 ms0ImmediatelySetup6.8.2Pn424Torque Limit at Main Circuit Voltage Drop0 to 100%50ImmediatelySetup
5.2.7Pn425Release Time for Torque Limit at Main Circuit Voltage Drop0 to 1000ms100ImmediatelySetupPn456Sweep Torque Reference Amplitude1 to 8001%15ImmediatelyTuning7.15


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section









Pn460Notch Filter Adjustment Switch0000 to 0101?0101ImmediatelyTuning6.3.1
6.4.1
6.5.14th 3rd 2nd 1st digit digit digit digit
n.








Reserved (Do not change.)Pn481Polarity Detection Speed Loop Gain1.0 to 2000.00.1 Hz40.0ImmediatelyTuning?Pn482Polarity Detection Speed Loop Inte- gral Time Constant0.15 to 512.000.01 ms30.00ImmediatelyTuning?Pn486Polarity Detection Reference Accel/ Decel Time0 to 100ms25ImmediatelyTuning?Pn487Polarity Detection Constant Speed Time0 to 300ms0ImmediatelyTuning?Pn488Polarity Detection Reference Waiting Time50 to 500ms100ImmediatelyTuning?Pn490Polarity Detection Load Level0 to 20000%100ImmediatelyTuning?Pn493Polarity Detection Reference Speed0 to 1000min-150ImmediatelyTuning?Pn494Polarity Detection Range0.001 to
65.5350.001 rev0.250ImmediatelyTuning?Pn495Polarity Detection Confirmation Torque Reference0 to 200%100ImmediatelyTuning?Pn498Polarity Detection Allowable Error Range0 to 30deg10ImmediatelyTuning?Pn501Zero Clamp Level0 to 100001 min-110ImmediatelySetup5.3.5Pn502Rotation Detection Level1 to 100001 min-120ImmediatelySetup5.10.3Pn503Speed Coincidence Signal Output Width0 to 1001 min-110ImmediatelySetup5.3.8Pn506Brake Reference - Servo OFF Delay Time0 to 5010 ms0ImmediatelySetup

5.2.4Pn507Brake Reference Output Speed Level0 to 100001 min-1100ImmediatelySetupPn508Waiting Time for Brake Signal When Motor Running10 to 10010 ms50ImmediatelySetupPn509Instantaneous Power Cut Hold time20 to 10001 ms20ImmediatelySetup5.2.6




Parameter No.

Name	Setting
Range

Units	Factory Setting
 
When Enabled

Classification Reference
Section

Input Signal Selection 1	0000 to FFF1	?	2100	After restart	Setup	?


4th


3rd  2nd


1st

digit
n. 

digit digit

 

digit



























Pn50A






11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section





























Pn50BInput Signal Selection 20000 to FFFF?6543After restartSetup4th 3rd 2nd 1st digit digit digit digit
n.



* Input signal polarities

SignalLevelVoltage levelContactONLow (L) level0 VCloseOFFHigh (H) level24 VOpen

Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section



















Pn50CInput Signal Selection 30000 to FFFF?8888After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.
















/SPD-A Signal Mapping	 (Refer to 5.6.1) 
0 to F  Same as /SPD-D

/SPD-B Signal Mapping	 (Refer to 5.6.1) 
0 to F  Same as /SPD-D

/C-SEL Signal Mapping (Control mode change when ON (L-level))	 (Refer to 5.7.2) 
0 to F  Same as /SPD-D


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section


















Pn50DInput Signal Selection 40000 to FFFF?8888After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.
















/INHIBIT Signal Mapping (Reference pulse inhibit when ON (L-level))	 (Refer to 5.4.7) 
0 to F  Same as /ZCLAMP

/G-SEL1 Signal Mapping (Gain change when ON (L-level))	 (Refer to 6.8.6) 
0 to F  Same as /ZCLAMP

Reserved (Do not change.)










Pn50EOutput Signal Selection 10000 to 3333?3211After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section










Pn50FOutput Signal Selection 20000 to 3333?0000After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.








Pn510Output Signal Selection 30000 to 0033?0000After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.
Near Signal Mapping (/NEAR)	 (Refer to 5.4.6) 
0 Disabled (the above signal is not used.)
1 Outputs the signal from CN1-25, -26 terminal.
2 Outputs the signal from CN1-27, -28 terminal.
3 Outputs the signal from CN1-29, -30 terminal.

Reserved (Do not change.) Reserved (Do not change.) Reserved (Do not change.)






Pn511Input Signal Selection0000 to 0111?8888After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.
Reserved (Do not change.) Reserved (Do not change.) Reserved (Do not change.)
Reserved (Do not change.)


11.2.2 Parameters


Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference Section










Pn512Output Signal Inverse Setting0000 to 0111?0000After restartSetup3.3.3
4th 3rd 2nd 1st digit digit digit digit
n.










Reserved (Do not change.)






Pn513Output Signal Selection 40000 to 0333?8888After restartSetup?
4th 3rd 2nd 1st digit digit digit digit
n.
Reserved (Do not change.) Reserved (Do not change.) Reserved (Do not change.) Reserved (Do not change.)
Pn51BExcessive Error Level Between Ser- vomotor and Load Positions1 to
1073741824
(230) refer- ence unit
1000
Immediately
Setup
9.2.7Pn51EExcessive Position Error Warning Level10 to 1001%100ImmediatelySetup10.2.1
Pn520
Excessive Position Error Alarm Level1 to
1073741823
(230-1) refer- ence unit
5242880
Immediately
Setup6.1.4
10.1.1
Pn522
Positioning Completed Width0 to
1073741824
(230) refer- ence unit
7
Immediately
Setup
5.4.5
Pn524
NEAR Signal Width1 to
1073741824
(230) refer- ence unit1073741
824
Immediately
Setup
5.4.6
Pn526Excessive Position Error Alarm Level at Servo ON1 to
1073741823
(230-1) refer- ence unit
5242880
Immediately
Setup
10.1.1Pn528Excessive Position Error Warning Level at Servo ON10 to 1001%100ImmediatelySetup10.2.1Pn529Speed Limit Level at Servo ON0 to 100001 min-110000ImmediatelySetup10.1.1Pn52AMultiplier per One Fully-closed Rota- tion0 to 1001%20ImmediatelyTuning9.2.7



Parameter No.NameSetting RangeUnitsFactory Setting When EnabledClassificationReference SectionPn52BOverload Warning Level1 to 100%20ImmediatelySetup?Pn52CDerating of Base Current at Detecting Overload of Motor10 to 100%100After restartSetup?Pn52FMonitor Display at Power ON0000 to 0FFF?0FFFImmediatelySetup8.6












Pn530Program JOG Operation Related Switch0000 to 0005?0000ImmediatelySetup7.5
4th 3rd 2nd 1st digit digit digit digit
n.
Program JOG Operation Related Switch
0 (Waiting time Pn535 ? Forward movement Pn531) ? Number of times of movement Pn536
1 (Waiting time Pn535 ? Reverse movement Pn531) ? Number of times of movements Pn536
2 (Waiting time Pn535 ? Forward movement Pn531) ? Number of times of movements Pn536 (Waiting time Pn535 ? Reverse movement Pn531) ? Number of times of movements Pn536
3 (Waiting time Pn535 ? Reverse movement Pn531) ? Number of times of movements Pn536 (Waiting time Pn535 ? Forward movement Pn531) ? Number of times of movements Pn536
4 (Waiting time Pn535 ? Forward movement Pn531 ? Waiting time Pn535 ?
Reverse movement Pn531) ? Number of times of movement Pn536
5 (Waiting time Pn535 ? Reverse movement Pn531 ? Waiting time Pn535 ?
Forward movement Pn531) ? Number of times of movement Pn536
Reserved (Do not change.) Reserved (Do not change.) Reserved (Do not change.)
Pn531
Program JOG Movement Distance1 to
1073741824
(230) refer- ence unit
32768
Immediately
Setup




7.5Pn533Program JOG Movement Speed1 to 100001 min-1500ImmediatelySetupPn534Program JOG Acceleration/Decelera- tion Time2 to 100001 ms100ImmediatelySetupPn535Program JOG Waiting Time0 to 100001 ms100ImmediatelySetupPn536Number of Times of Program JOG Movement0 to 10001 time1ImmediatelySetupPn550Analog Monitor 1 Offset Voltage-1000.0 to
1000.00.1 V0ImmediatelySetup



6.1.3Pn551Analog Monitor 2 Offset Voltage-1000.0 to
1000.00.1 V0ImmediatelySetupPn552Analog Monitor Magnification (?1)-100.00 to
100.00?0.011.00ImmediatelySetupPn553Analog Monitor Magnification (?2)-100.00 to
100.00?0.011.00ImmediatelySetupPn560Remained Vibration Detection Width0.1 to 300.00.1%40.0ImmediatelySetup6.7.1Pn561Overshoot Detection Level0 to 100%100ImmediatelySetup?
Pn600
Regenerative Resistor Capacity ?1Depends on SERVOPACK
Capacity ?2
10 W
0
Immediately
Setup
3.6.2???  Normally set to "0." When using an external regenerative resistor, set the capacity (W) of the regenerative resistor.
???  The upper limit is the maximum output capacity (W) of the SERVOPACK.


11.3 Monitor Modes
The following list shows monitor modes available.

Un NumberContent of DisplayUnitUn000Motor rotating speedmin-1Un001Speed referencemin-1Un002Internal torque reference ( in percentage to the rated torque)%Un003*3Rotation angle 1 (32-bit decimal code)pulse to the zero-pointUn004Rotation angle 2 (Angle to the zero-point (electrical angle))degUn005*1Input signal monitor?Un006*2Output signal monitor?Un007Input reference pulse speed (displayed only in position control)min-1Un008Error counter (position error amount) (displayed only in position control)pulseUn009Accumulated load ratio (in percentage to the rated torque: effective torque in cycle of 10 seconds)%Un00ARegenerative load ratio (in percentage to the processable regenerative power: regenerative power consumption in cycle of 10 seconds)%
Un00BPower consumed by DB resistance
(in percentage to the processable power at DB activation: display in cycle of 10 seconds)
%Un00C*3Input reference pulse counter (32-bit decimal code)reference unitUn00D*3Feedback pulse counter (number of encoder pulses ? 4: 32-bit decimal code)encoder pulseUn00E*3Fully-closed feedback pulse counter (number of fully-closed feedback pulses ? 4: 32-bit decimal code)Fully-closed encoder pulseUn012Total operation time100 msUn013*3Feedback pulse counter (32-bit decimal code)reference unitUn014Effective gain monitor?Un015Safety I/O signal monitor?Un020Motor rated speedmin-1Un021Motor maximum speedmin-1???  Refer to 8.4.
???  Refer to 8.5.
???  Refer to 8.3.


11.4 Parameter Recording Table
Use the following table for recording parameters.
Note: Pn10B, Pn170 and Pn408 have two kinds of digits: the digit which does not need the restart after changing the set- tings and the digit which needs the restart. The underlined digits of the factory setting in the following table show the digit which needs the restart.

Parame- terFactory SettingName When EnabledPn0000000Basic Function Select Switch 0After restartPn0010000Application Function Select Switch 1After restartPn0020000Application Function Select Switch 2After restartPn0060002Application Function Select Switch 6ImmediatelyPn0070000Application Function Select Switch 7ImmediatelyPn0080000Application Function Select Switch 8After restartPn0090010Application Function Select Switch 9After restartPn00B0000Application Function Select Switch BAfter restartPn00C0000Application Function Select Switch CAfter restartPn0100001Axis Address Selection (for UART/ USB communication)After restartPn10040.0 HzSpeed Loop GainImmediatelyPn10120.00 msSpeed Loop Integral Time ConstantImmediatelyPn10240.0/sPosition Loop GainImmediatelyPn103100 %Moment of Inertia RatioImmediatelyPn10440.0 Hz2nd Speed Loop GainImmediatelyPn10520.00 ms2nd Speed Loop Integral Time Con- stantImmediatelyPn10640.0/s2nd Position Loop GainImmediatelyPn1090 %Feedforward GainImmediatelyPn10A0 msFeedforward Filter Time ConstantImmediatelyPn10B0000Application Function for Gain Select Switch?Pn10C200 %Mode Switch (torque reference)ImmediatelyPn10D0 min-1Mode Switch (speed reference)ImmediatelyPn10E0 min-1/sMode Switch (acceleration)ImmediatelyPn10F0 reference unitMode Switch (position error pulse)ImmediatelyPn11F0.0 msPosition Integral Time ConstantImmediatelyPn121100%Friction Compensation GainImmediatelyPn122100%2nd Gain for Friction CompensationImmediatelyPn1230%Friction Compensation CoefficientImmediatelyPn1240 HzFriction Compensation Frequency CorrectionImmediatelyPn125100%Friction Compensation Gain Correc- tionImmediatelyPn1310 msGain Switching Time 1ImmediatelyPn1320 msGain Switching Time 2ImmediatelyPn1350 msGain Switching Waiting Time 1ImmediatelyPn1360 msGain Switching Waiting Time 2ImmediatelyPn1390000Automatic Gain Changeover Related Switch 1After restart



Parame- terFactory SettingName When EnabledPn13D500%Current Gain LevelImmediatelyPn1400100Model Following Control Related SwitchImmediatelyPn14150/sModel Following Control GainImmediatelyPn142100%Model Following Control Gain Com- pensationImmediatelyPn143100%Model Following Control Bias (Forward Direction)ImmediatelyPn144100%Model Following Control Bias (Reverse Direction)ImmediatelyPn14550 HzVibration Suppression 1 Frequency AImmediatelyPn14670 HzVibration Suppression 1 Frequency BImmediatelyPn147100%Model Following Control Speed Feedforward CompensationImmediatelyPn14850/s2nd Model Following Control GainImmediatelyPn149100%2nd Model Following Control Gain CompensationImmediatelyPn14A80 HzVibration Suppression 2 FrequencyImmediatelyPn14B100%Vibration Suppression 2 Compensa- tionImmediatelyPn1600010Anti-Resonance Control Related SwitchImmediatelyPn161100 HzAnti-Resonance FrequencyImmediatelyPn162100%Anti-Resonance Gain CompensationImmediatelyPn1630%Anti-Resonance Damping GainImmediatelyPn1640 msAnti-Resonance Filter Time Con- stant 1 CompensationImmediatelyPn1650 msAnti-Resonance Filter Time Con- stant 2 CompensationImmediatelyPn1701401Tuning-less Function Related Switch?Pn2000000Position Control Reference Form Selection SwitchAfter restartPn20565535 RevMultiturn Limit SettingAfter restartPn2070010Position Control Function SwitchAfter restartPn20A32768
Pitch/RevNumber of External Scale PitchAfter restartPn20E4Electronic Gear Ratio (Numerator)After restartPn2101Electronic Gear Ratio (Denominator)After restartPn2122048 P/RevEncoder Output PulsesAfter restartPn2160.0 msPosition Reference Acceleration/ Deceleration Time ConstantImmediatelyPn2170.0 msAverage Movement Time of Position ReferenceImmediatelyPn22A0000Fully-closed Control Selection SwitchAfter restartPn28120 P/PitchEncoder Output ResolutionAfter restartPn3006.00 V/
Rated speedSpeed Reference Input GainImmediatelyPn301100 min-1Internal Set Speed 1ImmediatelyPn302200 min-1Internal Set Speed 2Immediately



Parame- terFactory SettingName When EnabledPn303300 min-1Internal Set Speed 3ImmediatelyPn304500 min-1JOG SpeedImmediatelyPn3050 msSoft Start Acceleration TimeImmediatelyPn3060 msSoft Start Deceleration TimeImmediatelyPn3070.40 msSpeed Reference Filter Time Con- stantImmediatelyPn3100000Vibration Detection SwitchImmediatelyPn311100 %Vibration Detection SensibilityImmediatelyPn31250 min-1Vibration Detection LevelImmediatelyPn324300%Moment of Inertia Setting Start LevelImmediatelyPn4003.0 V/Rated torqueTorque Reference Input GainImmediatelyPn4011.00 msTorque Reference Filter Time Con- stantImmediatelyPn402800 %Forward Torque LimitImmediatelyPn403800 %Reverse Torque LimitImmediatelyPn404100 %Forward External Torque LimitImmediatelyPn405100 %Reverse External Torque LimitImmediatelyPn406800 %Emergency Stop TorqueImmediatelyPn40710000 min-1Speed Limit during Torque ControlImmediatelyPn4080000Torque Related Function Switch?Pn4095000 Hz1st Notch Filter FrequencyImmediatelyPn40A0.701st Notch Filter Q ValueImmediatelyPn40B01st Notch Filter DepthImmediatelyPn40C5000 Hz2nd Notch Filter FrequencyImmediatelyPn40D0.702nd Notch Filter Q ValueImmediatelyPn40E02nd Notch Filter DepthImmediatelyPn40F5000 Hz2nd Step 2nd Torque Reference Filter FrequencyImmediatelyPn4100.502nd Step 2nd Torque Reference Filter Q ValueImmediatelyPn4121.00 ms1st Step 2nd Torque Reference Filter Time ConstantImmediatelyPn4150T-REF Filter Time ConstantImmediatelyPn42450%Torque Limit at Main Circuit Voltage DropImmediatelyPn425100 msRelease Time for Torque Limit at Main Circuit Voltage DropImmediatelyPn45615 %Sweep Torque Reference AmplitudeImmediatelyPn4600101Notch Filter Adjustment SwitchImmediatelyPn4814.00 HzPolarity Detection Speed Loop GainImmediatelyPn4820.30 msPolarity Detection Speed Loop Inte- gral Time ConstantImmediatelyPn48625 msPolarity Detection Reference Accel/ Decel TimeImmediatelyPn4870 msPolarity Detection Constant Speed TimeImmediatelyPn488100 msPolarity Detection Reference Wait- ing TimeImmediately



Parame- terFactory SettingName When EnabledPn490100%Polarity Detection Load LevelImmediatelyPn49350 min-1Polarity Detection Reference SpeedImmediatelyPn4940.0025 revPolarity Detection RangeImmediatelyPn495100%Polarity Detection Confirmation Torque ReferenceImmediatelyPn49810 degPolarity Detection Allowable Error RangeImmediatelyPn50110 min-1Zero Clamp LevelImmediatelyPn50220 min-1Rotation Detection LevelImmediatelyPn50310 min-1Speed Coincidence Signal Output WidthImmediatelyPn5060 msBrake Reference - Servo OFF Delay TimeImmediatelyPn507100 min-1Brake Reference Output Speed LevelImmediatelyPn508500 msWaiting Time for Brake Signal When Motor RunningImmediatelyPn50920 msInstantaneous Power Cut Hold timeImmediatelyPn50A2100Input Signal Selection 1After restartPn50B6543Input Signal Selection 2After restartPn50C8888Input Signal Selection 3After restartPn50D8888Input Signal Selection 4After restartPn50E3211Output Signal Selection 1After restartPn50F0000Output Signal Selection 2After restartPn5100000Output Signal Selection 3After restartPn5118888Input Signal Selection 5After restartPn5120000Output Signal Reversal SettingAfter restartPn5130000Output Signal Selection 4After restartPn51B1000
reference unitExcessive Error Level Between Ser- vomotor and Load Positions
ImmediatelyPn51E100%Excessive Position Error Warning LevelImmediatelyPn520524880
reference unitExcessive Position Error Alarm Level
ImmediatelyPn5227
reference unitPositioning Completed WidthImmediatelyPn5241073741824
reference unit
NEAR Signal Width
ImmediatelyPn526524880
reference unitExcessive Position Error Alarm Level at Servo ON
ImmediatelyPn528100 %Excessive Position Error Warning Level at Servo ONImmediatelyPn52910000 min-1Speed Limit Level at Servo ONImmediatelyPn52A20 %Multiplier per One Fully-closed RotationImmediatelyPn52B20%Overload Warning LevelImmediately



Parame- terFactory SettingName When EnabledPn52C100%Derating of Base Current at Detecting Overload of MotorAfter restartPn52F0FFFMonitor Display at Power ONImmediatelyPn5300000Program JOG Operation Related SwitchImmediatelyPn53132768
reference unit
Program JOG Movement Distance
ImmediatelyPn533500 min-1Program JOG Movement SpeedImmediatelyPn534100 msProgram JOG Acceleration/Decelera- tion TimeImmediatelyPn535100 msProgram JOG Waiting TimeImmediatelyPn536onceNumber of Times of Program JOG MovementImmediatelyPn5500.0 VAnalog Monitor 1 Offset VoltageImmediatelyPn5510.0 VAnalog Monitor 2 Offset VoltageImmediatelyPn552?0.01Analog Monitor Magnification (?1)ImmediatelyPn553?0.01Analog Monitor Magnification (?2)ImmediatelyPn5604.00%Remained Vibration Detection WidthImmediatelyPn561100%Overshoot Detection LevelImmediatelyPn6000 WRegenerative Resistor CapacityImmediately
Revision History
The revision dates and numbers of the revised manuals are given on the bottom of the back cover.

MANUAL NO.  SIEP S800000 45A
Printed in Japan  June 2007 07-06


Date of printing

Date of original publication


Date of PrintingRev.
No.SectionRevised ContentJune 2007?First edition
AC Servodrive
?-V Series
USER'S MANUAL
Design and Maintenance
Rotational Motor
Analog Voltage and Pulse Train Reference





IRUMA BUSINESS CENTER (SOLUTION CENTER)
480, Kamifujisawa, Iruma, Saitama 358-8555, Japan
Phone 81-4-2962-5696 Fax 81-4-2962-6138
YASKAWA ELECTRIC AMERICA, INC.
2121 Norman Drive South, Waukegan, IL 60085, U.S.A. Phone 1-847-887-7000 Fax 1-847-887-7370
YASKAWA ELETRICO DO BRASIL COMERCIO LTD.A.
Avenida Fagundes Filho, 620 Bairro Saude-Sao Paulo-SP, Brazil CEP: 04304-000 Phone 55-11-5071-2552 Fax 55-11-5581-8795
YASKAWA ELECTRIC EUROPE GmbH
Am Kronberger Hang 2, 65824 Schwalbach, Germany Phone 49-6196-569-300 Fax 49-6196-569-312
YASKAWA ELECTRIC UK LTD.
1 Hunt Hill Orchardton Woods Cumbernauld, G68 9LF, United Kingdom Phone 44-1236-735000 Fax 44-1236-458182
YASKAWA ELECTRIC KOREA CORPORATION
7F, Doore Bldg. 24, Yeoido-dong, Youngdungpo-Ku, Seoul 150-877, Korea Phone 82-2-784-7844 Fax 82-2-784-8495
YASKAWA ELECTRIC (SINGAPORE) PTE. LTD.
151 Lorong Chuan, #04-01, New Tech Park 556741, Singapore
Phone 65-6282-3003 Fax 65-6289-3003
YASKAWA ELECTRIC (SHANGHAI) CO., LTD.
No.18 Xizang Zhong Road. Room 1702-1707, Harbour Ring Plaza Shanghai 200001, China Phone 86-21-5385-2200 Fax 86-21-5385-3299
YASKAWA ELECTRIC (SHANGHAI) CO., LTD. BEIJING OFFICE
Room 1011A, Tower W3 Oriental Plaza, No.1 East Chang An Ave., Dong Cheng District, Beijing 100738, China
Phone 86-10-8518-4086 Fax 86-10-8518-4082
YASKAWA ELECTRIC TAIWAN CORPORATION
9F, 16, Nanking E. Rd., Sec. 3, Taipei, Taiwan Phone 886-2-2502-5003 Fax 886-2-2505-1280

























YASKAWA

YASKAWA ELECTRIC CORPORATION
In the event that the end user of this product is to be the military and said product is to be employed in any weapons systems or the manufacture thereof, the export will fall under the relevant regulations as stipulated in the Foreign Exchange and Foreign Trade Regulations. Therefore, be sure to follow all procedures and submit all relevant documentation according to any and all rules, regulations and laws that may apply.
Specifications are subject to change without notice for ongoing product modifications and improvements.
(c) 2007 YASKAWA ELECTRIC CORPORATION. All rights reserved.



MANUAL NO. SIEP S800000 45A
Printed in Japan June 2007 07-6
07-4














































































































































































































































































































































































































































































































































































































